angular.module("loomioApp",["ngNewRouter","ui.bootstrap","pascalprecht.translate","ngSanitize","hc.marked","angularFileUpload","mentio","ngAnimate","angular-inview","ui.gravatar","duScroll","angular-clipboard","checklist-model","monospaced.elastic","angularMoment","offClick"]).config(function(e,t,o,r,n,a){var s;return n.classNameFilter(/\banimated\b/),o.setOptions({renderer:a.$get(0).createRenderer(),gfm:!0,sanitize:!0,breaks:!0}),e.html5Mode(!0),null!=window.Loomio&&(s=window.Loomio.currentUserLocale,t.useUrlLoader("/api/v1/translations").preferredLanguage(s),t.useSanitizeValueStrategy("escapeParameters")),null!=window.Loomio&&"production"===window.Loomio.environment?r.debugInfoEnabled(!1):void 0}),angular.module("loomioApp").controller("ApplicationController",function(e,t,o,r,n,a,s,i,l,c,p,u,d){e.isLoggedIn=function(){return d.isLoggedIn()},e.isLoggedIn()&&l.boot(),e.currentComponent="nothing yet",e.$on("currentComponent",function(t,o){return null==o&&(o={}),e.pageError=null,s.scrollTo(o.scrollTo||"h1"),e.links=o.links||{}}),e.$on("setTitle",function(e,t){return document.querySelector("title").text=_.trunc(t,300)+" | Loomio"}),e.$on("pageError",function(t,o){return e.pageError=o}),e.$on("trialIsOverdue",function(e,t){return i.id===t.creatorId&&c.chargify&&!c.chargify.nagCache[t.key]?(p.open(u,{group:function(){return t}}),c.chargify.nagCache[t.key]=!0):void 0}),e.keyDown=function(e){return a.broadcast(e)},n.config([{path:"/dashboard",component:"dashboardPage"},{path:"/inbox",component:"inboxPage"},{path:"/groups",component:"groupsPage"},{path:"/profile",component:"profilePage"},{path:"/email_preferences",component:"emailSettingsPage"},{path:"/d/:key",component:"threadPage"},{path:"/d/:key/:stub",component:"threadPage"},{path:"/d/:key/comment/:comment",component:"threadPage"},{path:"/d/:key/proposal/:proposal",component:"threadPage"},{path:"/d/:key/proposal/:proposal/:outcome",component:"threadPage"},{path:"/m/:key/",component:"proposalRedirect"},{path:"/m/:key/:stub",component:"proposalRedirect"},{path:"/m/:key/votes/new",component:"proposalRedirect"},{path:"/g/:key/memberships",component:"membershipsPage"},{path:"/g/:key/memberships/:username",component:"membershipsPage"},{path:"/g/:key/membership_requests",component:"membershipRequestsPage"},{path:"/g/:key/previous_proposals",component:"previousProposalsPage"},{path:"/g/:key",component:"groupPage"},{path:"/g/:key/:stub",component:"groupPage"},{path:"/u/:key",component:"userPage"},{path:"/u/:key/:stub",component:"userPage"},{path:"/apps/authorized",component:"authorizedAppsPage"},{path:"/apps/registered",component:"registeredAppsPage"},{path:"/apps/registered/:id",component:"registeredAppPage"},{path:"/apps/registered/:id/:stub",component:"registeredAppPage"}])}),angular.module("loomioApp").filter("timeFromNowInWords",function(){return function(e,t){return moment(e).fromNow(t)}}),angular.module("loomioApp").filter("exactDateWithTime",function(){return function(e){return moment(e).format("dddd MMMM Do [at] h:mm a")}}),angular.module("loomioApp").filter("filterModel",function(){return function(e,t){return null==e&&(e=[]),_.filter(e,function(e){return _.some(_.map(e.constructor.searchableFields,function(o){return"function"==typeof e[o]&&(o=e[o]()),null!=o&&null!=o.search?~o.search(new RegExp(t,"i")):void 0}))})}}),angular.module("loomioApp").filter("limitByFn",function(){return function(e,t,o){return e?e.slice(0,t(o)):void 0}}),angular.module("loomioApp").filter("truncate",function(){return function(e,t,o){return null==t&&(t=100),null==o&&(o=" "),_.trunc(e,{length:t,separator:o})}});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("AttachmentModel",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.singular="attachment",o.plural="attachments",o.indices=["id","commentId"],o.serializableAttributes=t.permittedParams.attachment,o.prototype.relationships=function(){return this.belongsTo("author",{from:"users",by:"authorId"}),this.belongsTo("comment",{from:"comments",by:"commentId"})},o.prototype.formattedFilesize=function(){var e,t;return isNaN(this.filesize)?"(invalid file size)":(this.filesize<1e3?(e="bytes",t=this.filesize):this.filesize<Math.pow(1e3,2)?(e="kB",t=this.filesize/1e3):this.filesize<Math.pow(1e3,3)?(e="MB",t=this.filesize/Math.pow(1e3,2)):(e="GB",t=this.filesize/Math.pow(1e3,3)),"("+t.toFixed(1)+" "+e+")")},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("AttachmentRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.upload=function(e,t){return this.remote.upload("",e,{data:{"attachment[filename]":e.name.replace(/[^a-z0-9_\-\.]/gi,"_")},fileFormDataName:"attachment[file]"},t)},o}(e)}),angular.module("loomioApp").factory("BaseModel",function(){return AngularRecordStore.BaseModelFn()}),angular.module("loomioApp").factory("BaseRecordsInterface",function(e,t){return AngularRecordStore.BaseRecordsInterfaceFn(e,t)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("CommentModel",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.singular="comment",o.plural="comments",o.indices=["discussionId","authorId"],o.serializableAttributes=t.permittedParams.comment,o.draftParent="discussion",o.prototype.defaultValues=function(){return{usesMarkdown:!0,newAttachmentIds:[],discussionId:null,body:""}},o.prototype.relationships=function(){return this.belongsTo("author",{from:"users"}),this.belongsTo("discussion"),this.belongsTo("parent",{from:"comments",by:"parentId"}),this.hasMany("versions",{sortBy:"createdAt"})},o.prototype.serialize=function(){var e;return e=this.baseSerialize(),e.comment.new_attachment_ids=this.newAttachmentIds,e},o.prototype.group=function(){return this.discussion().group()},o.prototype.isMostRecent=function(){return _.last(this.discussion().comments())===this},o.prototype.isReply=function(){return null!=this.parentId},o.prototype.parent=function(){return this.recordStore.comments.find(this.parentId)},o.prototype.likers=function(){return this.recordStore.users.find(this.likerIds)},o.prototype.newAttachments=function(){return this.recordStore.attachments.find(this.newAttachmentIds)},o.prototype.attachments=function(){return this.recordStore.attachments.find({commentId:this.id})},o.prototype.authorName=function(){return this.author().name},o.prototype.authorUsername=function(){return this.author().username},o.prototype.authorAvatar=function(){return this.author().avatarOrInitials()},o.prototype.addLiker=function(e){return this.likerIds.push(e.id)},o.prototype.removeLiker=function(e){return this.removeLikerId(e.id)},o.prototype.removeLikerId=function(e){return this.likerIds=_.without(this.likerIds,e)},o.prototype.cookedBody=function(){var e;return e=this.body,_.each(this.mentionedUsernames,function(t){return e=e.replace(RegExp("@"+t,"g"),"[[@"+t+"]]")}),e},o.prototype.edited=function(){return this.versionsCount>1},o.prototype.attributeForVersion=function(e,t){return t?t.changes[e]?t.changes[e][1]:this.attributeForVersion(e,this.recordStore.versions.find(t.previousId)):""},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("CommentRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.like=function(e,t,o){return this.remote.postMember(t.id,"like")},o.prototype.unlike=function(e,t,o){return this.remote.postMember(t.id,"unlike")},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("ContactMessageModel",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.singular="contactMessage",o.plural="contactMessages",o.serializableAttributes=t.permittedParams.contact_message,o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("ContactMessageRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("ContactModel",function(e){var t;return t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.singular="contact",t.plural="contacts",t}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("ContactRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.fetchInvitables=function(e,t){return this.fetch({params:{q:e,group_key:t}})},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("DidNotVoteModel",function(e){var t;return t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.singular="didNotVote",t.plural="didNotVotes",t.indices=["id","proposalId"],t.prototype.relationships=function(){return this.belongsTo("user"),this.belongsTo("proposal")},t}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("DidNotVoteRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.fetchByProposal=function(e,t){return null==t&&(t={}),this.fetch({params:{motion_id:e,per:t.per}})},o}(e)});var bind=function(e,t){return function(){return e.apply(t,arguments)}},extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("DiscussionModel",function(e,t){var o;return o=function(e){function o(){return this.move=bind(this.move,this),this.saveVolume=bind(this.saveVolume,this),this.privateDefaultValue=bind(this.privateDefaultValue,this),this.defaultValues=bind(this.defaultValues,this),o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.singular="discussion",o.plural="discussions",o.uniqueIndices=["id","key"],o.indices=["groupId","authorId"],o.draftParent="group",o.serializableAttributes=t.permittedParams.discussion,o.prototype.afterConstruction=function(){return this.isNew()?this["private"]=this.privateDefaultValue():void 0},o.prototype.defaultValues=function(){return{"private":null,usesMarkdown:!0,lastSequenceId:0,firstSequenceId:0,lastItemAt:null,title:"",description:""}},o.prototype.privateDefaultValue=function(){if(!this.group())return null;switch(this.group().discussionPrivacyOptions){case"private_only":return!0;case"public_or_private":return!0;case"public_only":return!1}},o.prototype.relationships=function(){return this.hasMany("comments",{sortBy:"createdAt"}),this.hasMany("events",{sortBy:"sequenceId"}),this.hasMany("proposals",{sortBy:"createdAt",sortDesc:!0}),this.hasMany("versions",{sortBy:"createdAt"}),this.belongsTo("group"),this.belongsTo("author",{from:"users"})},o.prototype.translationOptions=function(){return{title:this.title,groupName:this.groupName()}},o.prototype.authorName=function(){return this.author().name},o.prototype.groupName=function(){return this.group()?this.group().name:void 0},o.prototype.activeProposals=function(){return _.filter(this.proposals(),function(e){return e.isActive()})},o.prototype.closedProposals=function(){return _.reject(this.proposals(),function(e){return e.isActive()})},o.prototype.anyClosedProposals=function(){return _.some(this.closedProposals())},o.prototype.activeProposal=function(){return _.first(this.activeProposals())},o.prototype.hasActiveProposal=function(){return null!=this.activeProposal()},o.prototype.activeProposalClosingAt=function(){var e;return e=this.activeProposal(),null!=e?e.closingAt:void 0},o.prototype.activeProposalClosedAt=function(){var e;return e=this.activeProposal(),null!=e?e.closedAt:void 0},o.prototype.activeProposalLastVoteAt=function(){var e;return e=this.activeProposal(),null!=e?e.lastVoteAt:void 0},o.prototype.isUnread=function(){return null!=this.discussionReaderId&&(null==this.lastReadAt||this.unreadActivityCount()>0)},o.prototype.isImportant=function(){return this.starred||this.hasActiveProposal()},o.prototype.unreadItemsCount=function(){return this.itemsCount-this.readItemsCount},o.prototype.unreadActivityCount=function(){return this.salientItemsCount-this.readSalientItemsCount},o.prototype.unreadCommentsCount=function(){return this.commentsCount-this.readCommentsCount},o.prototype.lastInboxActivity=function(){return this.activeProposalClosingAt()||this.lastActivityAt},o.prototype.unreadPosition=function(){return this.lastReadSequenceId+1},o.prototype.eventIsLoaded=function(e){return e.sequenceId||_.find(this.events(),function(t){return"new_comment"===t.kind&&t.commentId===e.comment().id})},o.prototype.minLoadedSequenceId=function(){var e;return e=_.min(this.events(),function(e){return e.sequenceId||Number.MAX_VALUE}),e.sequenceId},o.prototype.maxLoadedSequenceId=function(){var e;return e=_.max(this.events(),function(e){return e.sequenceId||0}),e.sequenceId},o.prototype.membership=function(){return this.recordStore.memberships.find({userId:t.currentUserId,groupId:this.groupId})[0]},o.prototype.membershipVolume=function(){return this.membership()?this.membership().volume:void 0},o.prototype.volume=function(){return this.discussionReaderVolume||this.membershipVolume()},o.prototype.saveVolume=function(e,t){return null==t&&(t=!1),t?this.membership().saveVolume(e):(null!=e&&(this.discussionReaderVolume=e),this.remote.patchMember(this.keyOrId(),"set_volume",{volume:this.discussionReaderVolume}))},o.prototype.isMuted=function(){return"mute"===this.volume()},o.prototype.saveStar=function(){return this.remote.patchMember(this.keyOrId(),this.starred?"star":"unstar")},o.prototype.markAsRead=function(e){return null!=this.discussionReaderId?(isNaN(e)&&(e=this.lastSequenceId,this.update({readItemsCount:this.itemsCount},{readSalientItemsCount:this.salientItemsCount,readCommentsCount:this.commentsCount,lastReadAt:moment()})),_.isNull(this.lastReadAt)||this.lastReadSequenceId<e?(this.remote.patchMember(this.keyOrId(),"mark_as_read",{sequence_id:e}),this.update({lastReadSequenceId:e})):void 0):void 0},o.prototype.move=function(){return this.remote.patchMember(this.keyOrId(),"move",{group_id:this.groupId})},o.prototype.edited=function(){return this.versionsCount>1},o.prototype.attributeForVersion=function(e,t){return t?t.changes[e]?t.changes[e][1]:this.attributeForVersion(e,this.recordStore.versions.find(t.previousId)):""},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("DiscussionRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.fetchByGroup=function(e,t){return null==t&&(t={}),t.group_id=e,this.fetch({params:t})},o.prototype.fetchDashboard=function(e){return null==e&&(e={}),this.fetch({path:"dashboard",params:e})},o.prototype.fetchInbox=function(e){return null==e&&(e={}),this.fetch({path:"inbox",params:{from:e.from||0,per:e.per||100,since:e.since||moment().startOf("day").subtract(6,"week").toDate(),timeframe_for:e.timeframe_for||"last_activity_at"}})},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("DraftModel",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.singular="draft",o.plural="drafts",o.uniqueIndices=["id"],o.serializableAttributes=t.permittedParams.draft,o.prototype.afterConstruction=function(){var e;return e=function(e){return function(){return e.remote.apiPrefix+"/"+e.constructor.plural+"/"+e.draftableType.toLowerCase()+"/"+e.draftableId}}(this),this.remote.collectionPath=this.remote.memberPath=e},o.prototype.updateFrom=function(e){var t;return t=_.snakeCase(e.constructor.serializationRoot||e.constructor.singular),this.payload[t]=e.serialize()[t],this.save()},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("DraftRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.findOrBuildFor=function(e){return _.first(this.find({draftableType:_.capitalize(e.constructor.singular),draftableId:e.id}))||this.build({draftableType:_.capitalize(e.constructor.singular),draftableId:e.id,payload:{}})},o.prototype.fetchFor=function(e){return this.remote.get(e.constructor.singular+"/"+e.id)},o}(e)});var bind=function(e,t){return function(){return e.apply(t,arguments)}},extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("DraftableModel",function(e){var t;return t=function(e){function t(){return this.fetchDraft=bind(this.fetchDraft,this),t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.draftParent="undefined",t.prototype.draft=function(){return this.recordStore.drafts.findOrBuildFor(this[this.constructor.draftParent]())},t.prototype.fetchDraft=function(){return this.recordStore.drafts.fetchFor(this[this.constructor.draftParent]())},t.prototype.restoreDraft=function(){var e;return e=_.snakeCase(this.constructor.serializationRoot||this.constructor.singular),this.update(_.omit(this.draft().payload[e],_.isNull))},t.prototype.resetDraft=function(){return this.draft().updateFrom(this.recordStore[this.constructor.plural].build())},t.prototype.updateDraft=function(){return this.draft().updateFrom(this)},t}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("EventModel",function(e){var t;return t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.singular="event",t.plural="events",t.indices=["id","discussionId"],t.eventTypeMap={user_added_to_group:"group",membership_request_approved:"group",discussion_moved:"group",membership_requested:"membershipRequest",new_discussion:"discussion",discussion_edited:"discussion",new_motion:"proposal",motion_closed:"proposal",motion_closed_by_user:"proposal",motion_edited:"proposal",new_vote:"proposal",motion_closing_soon:"proposal",motion_outcome_created:"proposal",new_comment:"comment",comment_liked:"comment",comment_replied_to:"comment",user_mentioned:"comment",invitation_accepted:"membership",new_coordinator:"membership"},t.prototype.relationships=function(){return this.belongsTo("membership"),this.belongsTo("membershipRequest"),this.belongsTo("discussion"),this.belongsTo("comment"),this.belongsTo("proposal"),this.belongsTo("vote"),this.belongsTo("actor",{from:"users"}),this.belongsTo("version")},t.prototype.group=function(){switch(this.kind){case"discussion_moved":case"membership_request_approved":case"user_added_to_group":return this.recordStore.groups.find(this.groupId);case"membership_requested":return this.membershipRequest().group();case"invitation_accepted":case"new_coordinator":return this.membership().group();case"new_discussion":case"discussion_edited":return this.discussion().group()}},t.prototype["delete"]=function(){return this.deleted=!0},t.prototype.actorName=function(){return this.actor().name},t.prototype.relevantRecordType=function(){return this.constructor.eventTypeMap[this.kind]},t.prototype.relevantRecord=function(){return this[this.relevantRecordType()]()},t}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("EventRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.fetchByDiscussion=function(e,t){return null==t&&(t={}),t.discussion_key=e,this.fetch({params:t})},o.prototype.findByDiscussionAndSequenceId=function(e,t){return this.collection.chain().find({discussionId:e.id}).find({sequenceId:t}).data()[0]},o}(e)});var bind=function(e,t){return function(){return e.apply(t,arguments)}},extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("GroupModel",function(e,t){var o;return o=function(e){function o(){return this.uploadPhoto=bind(this.uploadPhoto,this),this.archive=bind(this.archive,this),o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.singular="group",o.plural="groups",o.uniqueIndices=["id","key"],o.indices=["parentId"],o.serializableAttributes=t.permittedParams.group,o.draftParent="draftParent",o.prototype.draftParent=function(){return this.parent()||this.recordStore.users.find(t.currentUserId)},o.prototype.defaultValues=function(){return{parentId:null,name:"",description:"",groupPrivacy:"closed",discussionPrivacyOptions:"private_only",membershipGrantedUpon:"approval",membersCanAddMembers:!0,membersCanEditDiscussions:!0,membersCanEditComments:!0,membersCanRaiseMotions:!0,membersCanVote:!0,membersCanStartDiscussions:!0,membersCanCreateSubgroups:!1,motionsCanBeEdited:!1}},o.prototype.relationships=function(){return this.hasMany("discussions"),this.hasMany("proposals"),this.hasMany("membershipRequests"),this.hasMany("memberships"),this.hasMany("invitations"),this.hasMany("subgroups",{from:"groups","with":"parentId",of:"id"}),this.belongsTo("parent",{from:"groups"})},o.prototype.shareableInvitation=function(){return this.recordStore.invitations.find({singleUse:!1,groupId:this.id})[0]},o.prototype.closedProposals=function(){return _.filter(this.proposals(),function(e){return e.isClosed()})},o.prototype.hasPreviousProposals=function(){return _.some(this.closedProposals())},o.prototype.pendingMembershipRequests=function(){return _.filter(this.membershipRequests(),function(e){return e.isPending()})},o.prototype.hasPendingMembershipRequests=function(){return _.some(this.pendingMembershipRequests())},o.prototype.hasPendingMembershipRequestFrom=function(e){return _.some(this.pendingMembershipRequests(),function(t){return t.requestorId===e.id})},o.prototype.previousMembershipRequests=function(){return _.filter(this.membershipRequests(),function(e){return!e.isPending()})},o.prototype.hasPreviousMembershipRequests=function(){return _.some(this.previousMembershipRequests())},o.prototype.pendingInvitations=function(){return _.filter(this.invitations(),function(e){return e.isPending()&&e.singleUse})},o.prototype.hasPendingInvitations=function(){return _.some(this.pendingInvitations())},o.prototype.organisationDiscussions=function(){return this.recordStore.discussions.find({groupId:{$in:this.organisationIds()},discussionReaderId:{$ne:null}})},o.prototype.organisationIds=function(){return _.pluck(this.subgroups(),"id").concat(this.id)},o.prototype.organisationSubdomain=function(){return this.isSubgroup()?this.parent().subdomain:this.subdomain},o.prototype.memberships=function(){return this.recordStore.memberships.find({groupId:this.id})},o.prototype.membershipFor=function(e){return _.find(this.memberships(),function(t){return t.userId===e.id})},o.prototype.members=function(){return this.recordStore.users.find({id:{$in:this.memberIds()}})},o.prototype.adminMemberships=function(){return _.filter(this.memberships(),function(e){return e.admin})},o.prototype.admins=function(){var e;return e=_.map(this.adminMemberships(),function(e){return e.userId}),this.recordStore.users.find({id:{$in:e}})},o.prototype.coordinatorsIncludes=function(e){return _.some(this.recordStore.memberships.where({groupId:this.id,userId:e.id}))},o.prototype.memberIds=function(){return _.map(this.memberships(),function(e){return e.userId})},o.prototype.adminIds=function(){return _.map(this.adminMemberships(),function(e){return e.userId})},o.prototype.parentName=function(){return null!=this.parent()?this.parent().name:void 0},o.prototype.privacyIsOpen=function(){return"open"===this.groupPrivacy},o.prototype.privacyIsClosed=function(){return"closed"===this.groupPrivacy},o.prototype.privacyIsSecret=function(){return"secret"===this.groupPrivacy},o.prototype.allowPublicDiscussions=function(){return this.privacyIsClosed()&&this.isNew()?!0:"private_only"!==this.discussionPrivacyOptions},o.prototype.isSubgroup=function(){return null!=this.parentId},o.prototype.isArchived=function(){return null!=this.archivedAt},o.prototype.isParent=function(){return null==this.parentId},o.prototype.logoUrl=function(){return this.logoUrlMedium?this.logoUrlMedium:this.isSubgroup()?this.parent().logoUrl():"/img/default-logo-medium.png"},o.prototype.coverUrl=function(){return this.isSubgroup()&&!this.hasCustomCover?this.parent().coverUrl():this.coverUrlDesktop},o.prototype.archive=function(){return this.remote.patchMember(this.key,"archive").then(function(e){return function(){return e.remove(),_.each(e.memberships(),function(e){return e.remove()})}}(this))},o.prototype.uploadPhoto=function(e,t){return this.remote.upload(this.key+"/upload_photo/"+t,e)},o.prototype.hasNoSubscription=function(){return null==this.subscriptionKind},o.prototype.trialIsOverdue=function(){return"trial"===this.subscriptionKind&&this.subscriptionExpiresAt.clone().add(1,"days")<moment()},o.prototype.noInvitationsSent=function(){return this.membershipsCount<2&&this.invitationsCount<2},o.prototype.isSubgroupOfSecretParent=function(){return this.isSubgroup()&&this.parent().privacyIsSecret()},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("GroupRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.fetchByParent=function(e){return this.fetch({path:e.id+"/subgroups"})},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("InvitationFormModel",function(e,t){var o;return o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.singular="invitationForm",t.plural="invitationForms",t.draftParent="group",t.serializableFields=["emails","message"],t.prototype.defaultValues=function(){return{emails:"",message:""}},t.prototype.relationships=function(){return this.belongsTo("group")},t}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("InvitationFormRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("InvitationModel",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.singular="invitation",o.plural="invitations",o.indices=["groupId"],o.serializableAttributes=t.permittedParams.invitation,o.prototype.relationships=function(){return this.belongsTo("group")},o.prototype.isPending=function(){return null==this.cancelledAt&&null==this.acceptedAt},o}(e)});var bind=function(e,t){return function(){return e.apply(t,arguments)}},extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("InvitationRecordsInterface",function(e,t){var o;return o=function(e){function o(){return this.sendByEmail=bind(this.sendByEmail,this),o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.sendByEmail=function(e){return this.remote.create(_.merge(e.serialize(),{group_id:e.groupId}))},o.prototype.fetchPendingByGroup=function(e,t){return null==t&&(t={}),t.group_key=e,this.remote.get("/pending",t)},o.prototype.fetchShareableInvitationByGroupId=function(e,t){return null==t&&(t={}),t.group_id=e,this.remote.get("/shareable",t)},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("MembershipModel",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.singular="membership",o.plural="memberships",o.indices=["id","userId","groupId"],o.searchableFields=["userName","userUsername"],
o.serializableAttributes=t.permittedParams.membership,o.prototype.relationships=function(){return this.belongsTo("group"),this.belongsTo("user"),this.belongsTo("inviter",{from:"users"})},o.prototype.userName=function(){return this.user().name},o.prototype.userUsername=function(){return this.user().username},o.prototype.groupName=function(){return this.group().name},o.prototype.saveVolume=function(e,t){return null==t&&(t=!1),this.remote.patchMember(this.keyOrId(),"set_volume",{volume:e,apply_to_all:t}).then(function(o){return function(){return t?(_.each(o.user().allThreads(),function(e){return e.update({discussionReaderVolume:null})}),_.each(o.user().memberships(),function(t){return t.update({volume:e})})):_.each(o.group().discussions(),function(e){return e.update({discussionReaderVolume:null})})}}(this))},o.prototype.isMuted=function(){return"mute"===this.volume},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("MembershipRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.joinGroup=function(e){return this.remote.post("join_group",{group_id:e.id})},o.prototype.fetchMyMemberships=function(){return this.fetch({path:"my_memberships"})},o.prototype.fetchByNameFragment=function(e,t,o){return null==o&&(o=5),this.fetch({path:"autocomplete",params:{q:e,group_key:t,per:o}})},o.prototype.fetchInvitables=function(e,t,o){return null==o&&(o=5),this.fetch({path:"invitables",params:{q:e,group_key:t,per:o}})},o.prototype.fetchByGroup=function(e,t){return null==t&&(t={}),this.fetch({params:{group_key:e,per:t.per||30}})},o.prototype.fetchByUser=function(e,t){return null==t&&(t={}),this.fetch({path:"for_user",params:{user_key:e,per:t.per||30}})},o.prototype.addUsersToSubgroup=function(e){var t,o;return t=e.groupId,o=e.userIds,this.remote.post("add_to_subgroup",{group_id:t,user_ids:o})},o.prototype.makeAdmin=function(e){return this.remote.postMember(e.id,"make_admin")},o.prototype.removeAdmin=function(e){return this.remote.postMember(e.id,"remove_admin")},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("MembershipRequestModel",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.singular="membershipRequest",o.plural="membershipRequests",o.indices=["id","groupId"],o.serializableAttributes=t.permittedParams.membership_request,o.prototype.initialize=function(e){return this.baseInitialize(e),this.byExistingUser()?void 0:this.fakeUser={name:this.name,email:this.email,avatarKind:"initials",avatarInitials:_.map(this.name.split(" "),function(e){return e[0]}).join("")}},o.prototype.relationships=function(){return this.belongsTo("group"),this.belongsTo("requestor",{from:"users"}),this.belongsTo("responder",{from:"users"})},o.prototype.actor=function(){return this.byExistingUser()?this.requestor():this.fakeUser},o.prototype.byExistingUser=function(){return null!=this.requestorId},o.prototype.isPending=function(){return null==this.respondedAt},o.prototype.formattedResponse=function(){return _.capitalize(this.response)},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("MembershipRequestRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.fetchMyPendingByGroup=function(e,t){return null==t&&(t={}),t.group_key=e,this.remote.get("/my_pending",t)},o.prototype.fetchPendingByGroup=function(e,t){return null==t&&(t={}),t.group_key=e,this.remote.get("/pending",t)},o.prototype.fetchPreviousByGroup=function(e,t){return null==t&&(t={}),t.group_key=e,this.remote.get("/previous",t)},o.prototype.approve=function(e){return this.remote.postMember(e.id,"approve",{group_key:e.group().key})},o.prototype.ignore=function(e){return this.remote.postMember(e.id,"ignore",{group_key:e.group().key})},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("NotificationModel",function(e){var t;return t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.singular="notification",t.plural="notifications",t.prototype.relationships=function(){return this.belongsTo("event"),this.belongsTo("user")},t.prototype.actor=function(){return this.event().actor()},t.prototype.kind=function(){return this.event().kind},t.prototype.group=function(){return this.event().group()},t.prototype.actionPath=function(){switch(this.kind()){case"motion_closed":case"motion_closed_by_user":return"outcome";case"invitation_accepted":return this.actor().username}},t.prototype.relevantRecord=function(){return this.event().relevantRecord()},t}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("NotificationRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.fetchMyNotifications=function(){return this.fetch({params:{from:0,per:25},cacheKey:"myNotifications"})},o.prototype.viewed=function(){var e;return e=!1,_.each(this.collection.find({viewed:{$ne:!0}}),function(t){return function(t){return e=!0,t.update({viewed:!0})}}(this)),e?this.remote.post("viewed"):void 0},o}(e)});var bind=function(e,t){return function(){return e.apply(t,arguments)}},extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("OauthApplicationModel",function(e,t){var o;return o=function(e){function o(){return this.uploadLogo=bind(this.uploadLogo,this),o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.singular="oauthApplication",o.plural="oauthApplications",o.serializationRoot="oauth_application",o.serializableAttributes=t.permittedParams.oauth_application,o.prototype.defaultValues=function(){return{logoUrl:"/img/default-logo-medium.png"}},o.prototype.redirectUriArray=function(){return this.redirectUri.split("\n")},o.prototype.revokeAccess=function(){return this.remote.postMember(this.id,"revoke_access")},o.prototype.uploadLogo=function(e){return this.remote.upload(this.id+"/upload_logo",e)},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("OauthApplicationRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.fetchOwned=function(e){return null==e&&(e={}),this.fetch({path:"owned",params:e})},o.prototype.fetchAuthorized=function(e){return null==e&&(e={}),this.fetch({path:"authorized",params:e})},o}(e)});var bind=function(e,t){return function(){return e.apply(t,arguments)}},extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("ProposalModel",function(e,t,o){var r;return r=function(e){function o(){return this.updateOutcome=bind(this.updateOutcome,this),this.createOutcome=bind(this.createOutcome,this),this.close=bind(this.close,this),o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.singular="proposal",o.plural="proposals",o.uniqueIndices=["id","key"],o.indices=["discussionId"],o.serializationRoot="motion",o.serializableAttributes=t.permittedParams.motion,o.draftParent="discussion",o.prototype.defaultValues=function(){return{description:"",outcome:"",voteCounts:{yes:0,no:0,abstain:0,block:0},closingAt:moment().add(3,"days").startOf("hour")}},o.prototype.relationships=function(){return this.hasMany("votes",{sortBy:"createdAt",sortDesc:!0}),this.hasMany("didNotVotes"),this.belongsTo("author",{from:"users"}),this.belongsTo("discussion")},o.prototype.positionVerbs=["agree","abstain","disagree","block"],o.prototype.positions=["yes","abstain","no","block"],o.prototype.closingSoon=function(){return this.isActive()&&this.closingAt<moment().add(24,"hours").toDate()},o.prototype.canBeEdited=function(){return this.isNew()||!this.hasVotes()},o.prototype.hasVotes=function(){return this.votes().length>0},o.prototype.group=function(){return this.discussion().group()},o.prototype.voters=function(){return this.recordStore.users.find(this.voterIds())},o.prototype.voterIds=function(){return _.pluck(this.votes(),"authorId")},o.prototype.authorName=function(){return this.author().name},o.prototype.isActive=function(){return!this.isClosed()},o.prototype.isClosed=function(){return null!=this.closedAt||null!=this.closingAt&&this.closingAt.isBefore()},o.prototype.uniqueVotesByUserId=function(){var e;return e={},_.each(_.sortBy(this.votes(),"createdAt"),function(t){return e[t.authorId]=t}),e},o.prototype.uniqueVotes=function(){return _.values(this.uniqueVotesByUserId())},o.prototype.numberVoted=function(){return this.uniqueVotes().length},o.prototype.percentVoted=function(){var e,t;return t=this.numberVoted(),e=this.groupSizeWhenVoting(),0===t||0===e?0:(100*t/e).toFixed(0)},o.prototype.groupSizeWhenVoting=function(){return this.isActive()?this.group().membershipsCount:this.numberVoted()+parseInt(this.membersNotVotedCount)},o.prototype.lastVoteByUser=function(e){return this.uniqueVotesByUserId()[e.id]},o.prototype.userHasVoted=function(e){return null!=this.lastVoteByUser(e)},o.prototype.close=function(){return this.remote.postMember(this.id,"close")},o.prototype.hasOutcome=function(){return _.some(this.outcome)},o.prototype.undecidedMembers=function(){return this.isActive()?_.difference(this.group().members(),this.voters()):this.recordStore.users.find(_.pluck(this.didNotVotes(),"userId"))},o.prototype.hasUndecidedMembers=function(){return this.membersNotVotedCount>0},o.prototype.createOutcome=function(){return this.remote.postMember(this.id,"create_outcome",{motion:{outcome:this.outcome}})},o.prototype.updateOutcome=function(){return this.remote.postMember(this.id,"update_outcome",{motion:{outcome:this.outcome}})},o.prototype.fetchUndecidedMembers=function(){return this.isActive()?this.recordStore.memberships.fetchByGroup(this.group().key,{per:500}):this.recordStore.didNotVotes.fetchByProposal(this.key,{per:500})},o}(o)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("ProposalRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.fetchByDiscussion=function(e){return this.fetch({params:{discussion_key:e.key},cacheKey:"proposalsFor"+e.key})},o.prototype.fetchClosedByGroup=function(e){return this.fetch({path:"closed",params:{group_key:e}})},o}(e)}),angular.module("loomioApp").factory("RecordStore",function(){return AngularRecordStore.RecordStoreFn()}),angular.module("loomioApp").factory("Records",function(e,t,o,r,n,a,s,i,l,c,p,u,d,m,g,h,_,f,v,b,y,w){var k,P;return k=new loki(t),P=new e(k),P.addRecordsInterface(o),P.addRecordsInterface(r),P.addRecordsInterface(n),P.addRecordsInterface(a),P.addRecordsInterface(s),P.addRecordsInterface(i),P.addRecordsInterface(l),P.addRecordsInterface(c),P.addRecordsInterface(p),P.addRecordsInterface(u),P.addRecordsInterface(d),P.addRecordsInterface(m),P.addRecordsInterface(g),P.addRecordsInterface(h),P.addRecordsInterface(_),P.addRecordsInterface(f),P.addRecordsInterface(y),P.addRecordsInterface(v),P.addRecordsInterface(b),P.addRecordsInterface(w),P}),angular.module("loomioApp").factory("RestfulClient",function(e,t){return AngularRecordStore.RestfulClientFn(e,t)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("SearchResultModel",function(e){var t;return t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.singular="searchResult",t.plural="searchResults",t.apiEndPoint="search",t}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("SearchResultRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.fetchByFragment=function(e){return this.fetch({params:{q:e,per:5}})},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("TranslationModel",function(e){var t;return t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.singular="translation",t.plural="translations",t.indices=["id"],t}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("TranslationRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.fetchTranslation=function(e,t){return this.fetch({path:"inline",params:{model:e.constructor.singular,id:e.id,to:t}})},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("UserModel",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.singular="user",o.plural="users",o.apiEndPoint="profile",o.serializableAttributes=t.permittedParams.user,o.prototype.relationships=function(){return this.hasMany("memberships"),this.hasMany("notifications"),this.hasMany("contacts"),this.hasMany("versions")},o.prototype.membershipFor=function(e){return _.first(this.recordStore.memberships.find({groupId:e.id,userId:this.id}))},o.prototype.isMemberOf=function(e){return null!=this.membershipFor(e)},o.prototype.groupIds=function(){return _.map(this.memberships(),"groupId")},o.prototype.groups=function(){var e;return e=_.filter(this.recordStore.groups.find({id:{$in:this.groupIds()}}),function(e){return!e.isArchived()}),_.sortBy(e,"fullName")},o.prototype.parentGroups=function(){return _.filter(this.groups(),function(e){return e.isParent()})},o.prototype.allThreads=function(){return _.flatten(_.map(this.groups(),function(e){return e.discussions()}))},o.prototype.orphanSubgroups=function(){return _.filter(this.groups(),function(e){return function(t){return t.isSubgroup()&&!e.isMemberOf(t.parent())}}(this))},o.prototype.isAuthorOf=function(e){return this.id===e.authorId},o.prototype.isAdminOf=function(e){return _.contains(e.adminIds(),this.id)},o.prototype.isMemberOf=function(e){return _.contains(e.memberIds(),this.id)},o.prototype.firstName=function(){return this.name.split(" ")[0]},o.prototype.lastName=function(){return this.name.split(" ").slice(1).join(" ")},o.prototype.saveVolume=function(e){return this.update({defaultMembershipVolume:e}),this.recordStore.users.updateProfile(this)},o}(e)});var bind=function(e,t){return function(){return e.apply(t,arguments)}},extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("UserRecordsInterface",function(e,t,o){var r;return r=function(e){function o(){return this.deactivate=bind(this.deactivate,this),this.changePassword=bind(this.changePassword,this),this.uploadAvatar=bind(this.uploadAvatar,this),this.updateProfile=bind(this.updateProfile,this),o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.updateProfile=function(e){return this.remote.post("update_profile",e.serialize())},o.prototype.uploadAvatar=function(e){return this.remote.upload("upload_avatar",e)},o.prototype.changePassword=function(e){return this.remote.post("change_password",e.serialize())},o.prototype.deactivate=function(e){return this.remote.post("deactivate",e.serialize())},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("VersionModel",function(e){var t;return t=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return extend(t,e),t.singular="version",t.plural="versions",t.indices=["discussionId"],t.prototype.relationships=function(){return this.belongsTo("discussion"),this.belongsTo("comment"),this.belongsTo("proposal"),this.belongsTo("author",{from:"users",by:"whodunnit"})},t.prototype.editedAttributeNames=function(){return _.filter(_.keys(this.changes).sort(),function(e){return _.include(["title","name","description","closing_at","private"],e)})},t.prototype.attributeEdited=function(e){return _.include(_.keys(this.changes),e)},t.prototype.model=function(){return this.discussion()||this.comment()},t.prototype.isCurrent=function(){return this.id===_.last(this.model().versions()).id},t.prototype.isOriginal=function(){return this.id===_.first(this.model().versions()).id},t.prototype.authorOrEditorName=function(){return this.isOriginal()?this.model().authorName():this.author().name},t}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("VersionRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.fetchByDiscussion=function(e,t){return null==t&&(t={}),this.fetch({params:{model:"discussion",discussion_id:e}})},o.prototype.fetchByComment=function(e,t){return null==t&&(t={}),this.fetch({params:{model:"comment",comment_id:e}})},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("VoteModel",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.singular="vote",o.plural="votes",o.indices=["id","proposalId"],o.serializableAttributes=t.permittedParams.vote,o.prototype.defaultValues=function(){return{statement:""}},o.prototype.relationships=function(){return this.belongsTo("author",{from:"users"}),this.belongsTo("proposal")},o.prototype.authorName=function(){return this.author().name},o.prototype.positionVerb=function(){switch(this.position){case"yes":return"agree";case"no":return"disagree";default:return this.position}},o.prototype.hasStatement=function(){return null!=this.statement&&this.statement.toString().length>0},o.prototype.anyPosition=function(){return this.position},o.prototype.isAgree=function(){return"yes"===this.position},o.prototype.isDisagree=function(){return"no"===this.position},o.prototype.isAbstain=function(){return"abstain"===this.position},o.prototype.isBlock=function(){return"block"===this.position},o.prototype.charsLeft=function(){return 250-(this.statement||"").toString().length},o.prototype.overCharLimit=function(){return this.charsLeft()<0},o}(e)});var extend=function(e,t){function o(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;angular.module("loomioApp").factory("VoteRecordsInterface",function(e,t){var o;return o=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return extend(o,e),o.prototype.model=t,o.prototype.fetchMyVotes=function(e){var t;return t={},t[e.constructor.singular+"_id"]=e.id,this.fetch({path:"my_votes",params:t})},o.prototype.fetchByProposal=function(e){return this.fetch({params:{motion_id:e.id}})},o}(e)}),angular.module("loomioApp").factory("AbilityService",function(e,t){var o;return new(o=function(){function o(){}return o.prototype.isLoggedIn=function(){return null!=t.id},o.prototype.canAddComment=function(e){return t.isMemberOf(e.group())},o.prototype.canRespondToComment=function(e){return t.isMemberOf(e.group())},o.prototype.canStartProposal=function(e){return e&&!e.hasActiveProposal()&&(this.canAdministerGroup(e.group())||t.isMemberOf(e.group())&&e.group().membersCanRaiseMotions)},o.prototype.canEditThread=function(e){return this.canAdministerGroup(e.group())||t.isMemberOf(e.group())&&(t.isAuthorOf(e)||e.group().membersCanEditDiscussions)},o.prototype.canMoveThread=function(e){return this.canAdministerGroup(e.group())||t.isAuthorOf(e)},o.prototype.canDeleteThread=function(e){return this.canAdministerGroup(e.group())||t.isAuthorOf(e)},o.prototype.canChangeThreadVolume=function(e){return t.isMemberOf(e.group())},o.prototype.canChangeGroupVolume=function(e){return t.isMemberOf(e)},o.prototype.canVoteOn=function(e){return e.isActive()&&t.isMemberOf(e.group())&&(this.canAdministerGroup(e.group())||e.group().membersCanVote)},o.prototype.canCloseOrExtendProposal=function(e){return e.isActive()&&(this.canAdministerGroup(e.group())||t.isAuthorOf(e))},o.prototype.canEditProposal=function(e){return e.isActive()&&e.canBeEdited()&&(this.canAdministerGroup(e.group())||t.isMemberOf(e.group())&&t.isAuthorOf(e))},o.prototype.canCreateOutcomeFor=function(e){return this.canSetOutcomeFor(e)&&!e.hasOutcome()},o.prototype.canUpdateOutcomeFor=function(e){return this.canSetOutcomeFor(e)&&e.hasOutcome()},o.prototype.canSetOutcomeFor=function(e){return null!=e&&e.isClosed()&&(t.isAuthorOf(e)||this.canAdministerGroup(e.group()))},o.prototype.canAdministerGroup=function(e){return t.isAdminOf(e)},o.prototype.canManageGroupSubscription=function(e){return this.canAdministerGroup(e)&&"trial"!==e.subscriptionKind&&"manual"!==e.subscriptionPaymentMethod},o.prototype.isCreatorOf=function(e){return t.id===e.creatorId},o.prototype.canStartThread=function(e){return e.membersCanStartDiscussions||this.canAdministerGroup(e)},o.prototype.canAddMembers=function(e){return this.canAdministerGroup(e)||t.isMemberOf(e)&&e.membersCanAddMembers},o.prototype.canCreateSubgroups=function(e){return e.isParent()&&(this.canAdministerGroup(e)||t.isMemberOf(e)&&e.membersCanCreateSubgroups)},o.prototype.canEditGroup=function(e){return this.canAdministerGroup(e)},o.prototype.canArchiveGroup=function(e){return this.canAdministerGroup(e)},o.prototype.canEditComment=function(e){return t.isMemberOf(e.group())&&t.isAuthorOf(e)&&(e.isMostRecent()||e.group().membersCanEditComments)},o.prototype.canDeleteComment=function(e){return t.isMemberOf(e.group())&&t.isAuthorOf(e)||this.canAdministerGroup(e.group())},o.prototype.canRemoveMembership=function(e){return e.group().memberIds().length>1&&(!e.admin||e.group().adminIds().length>1)&&(e.user()===t||this.canAdministerGroup(e.group()))},o.prototype.canDeactivateUser=function(){return _.all(t.memberships(),function(e){return!e.admin||e.group().hasMultipleAdmins})},o.prototype.canManageMembershipRequests=function(e){return e.membersCanAddMembers&&t.isMemberOf(e)||this.canAdministerGroup(e)},o.prototype.canViewGroup=function(e){return!e.privacyIsSecret()||t.isMemberOf(e)},o.prototype.canViewMemberships=function(e){return t.isMemberOf(e)},o.prototype.canViewPreviousProposals=function(e){return t.isMemberOf(e)},o.prototype.canJoinGroup=function(e){return"request"===e.membershipGrantedUpon&&this.canViewGroup(e)&&!t.isMemberOf(e)},o.prototype.canRequestMembership=function(e){return"approval"===e.membershipGrantedUpon&&this.canViewGroup(e)&&!t.isMemberOf(e)&&!e.hasPendingMembershipRequestFrom(t)},o.prototype.canTranslate=function(o){return e.canTranslate&&t.locale&&t.locale!==o.author().locale},o}())}),angular.module("loomioApp").factory("AhoyService",function(e,t,o){var r;return"undefined"!=typeof ahoy&&null!==ahoy&&(ahoy.trackClicks(),ahoy.trackSubmits(),ahoy.trackChanges(),e.$watch(function(){return t.path()},function(e){var o;return o={url:t.absUrl(),title:document.title,page:t.path()},ahoy.track(o)}),e.$on("modalOpened",function(e,t){var o;return o=t.templateUrl.match(/(\w+)\.html$/)[1],ahoy.track("modalOpened",{name:o})})),new(r=function(){function e(){}return e.prototype.track=function(e,t){return null==t&&(t={}),"undefined"!=typeof ahoy&&null!==ahoy?ahoy.track(e,t):void 0},e}())}),angular.module("loomioApp").factory("AnalyticsService",function(e,t,o,r){var n,a;return n=function(){function t(){}var n;return n={dimension4:r.version,dimension5:r.currentUserId,dimension6:1},t.prototype.setVersion=function(e){return n.dimension4=e},t.prototype.setUser=function(e){return n.dimension5=e.id},t.prototype.setGroup=function(e){return n.dimension1=e.id,n.dimension2=e.organisationId,n.dimension3=e.cohortId},t.prototype.clearGroup=function(){return delete n.dimension1,delete n.dimension2,delete n.dimension3},t.prototype.trackView=function(){return o(function(){return n.page=e.path(),"undefined"!=typeof ga&&null!==ga?(ga("set",n),ga("send","pageview")):void 0},2e3)},t}(),a=new n,t.$on("analyticsClearGroup",function(){return a.clearGroup()}),t.$on("analyticsSetGroup",function(e,t){return a.setGroup(t)}),t.$watch(function(){return e.path()},function(e){return a.trackView()}),a}),angular.module("loomioApp").factory("AppConfig",function(){var e;return e="undefined"!=typeof window&&null!==window&&null!=window.Loomio?window.Loomio:{seedRecords:{},permittedParams:{}},null==e.seedRecords.users&&(e.seedRecords.users=[]),e.seedRecords.users.push(e.seedRecords.current_user),e.isLoomioDotOrg="https://www.loomio.org/"===e.baseUrl,e}),angular.module("loomioApp").factory("BootService",function(e,t,o,r,n,a){var s;return new(s=function(){function s(){}return s.prototype.boot=function(){return o.boot(),r.subscribe(),null!=e.search().start_group?n.open(a,{group:function(){return t.groups.build()}}):void 0},s}())}),angular.module("loomioApp").factory("ChargifyService",function(e){var t;return new(t=function(){function t(){}return t.prototype.encodedParams=function(t){var o;return o={first_name:e.firstName(),last_name:e.lastName(),email:e.email,organization:t.name,reference:t.key+"|"+moment().unix()},_.map(_.keys(o),function(e){return encodeURIComponent(e)+"="+encodeURIComponent(o[e])}).join("&")},t}())}),angular.module("loomioApp").factory("CurrentUser",function(e,t,o){return t["import"](o.seedRecords),null!=o.currentUserId?(o.membershipsLoaded=!0,e.$broadcast("currentUserMembershipsLoaded"),t.discussions.fetchInbox().then(function(){return o.inboxLoaded=!0,e.$broadcast("currentUserInboxLoaded")}),t.notifications.fetchMyNotifications().then(function(){return o.notificationsLoaded=!0,e.$broadcast("notificationsLoaded")}),t.users.find(o.currentUserId)):t.users.build()}),angular.module("loomioApp").factory("DraftService",function(){var e;return new(e=function(){function e(){}return e.prototype.applyDrafting=function(e,t){var o;return o=function(){return t[t.constructor.draftParent]()&&t.isNew()},e.storeDraft=function(){return o()?t.updateDraft():void 0},e.restoreDraft=function(){return o()?t.restoreDraft():void 0},e.restoreRemoteDraft=function(){return o()?t.fetchDraft().then(e.restoreDraft):void 0},e.restoreRemoteDraft()},e}())}),angular.module("loomioApp").factory("EmojiService",function(e){var t;return new(t=function(){function t(){}return t.prototype.source=window.Loomio.emojis.source,t.prototype.render=window.Loomio.emojis.render,t.prototype.defaults=window.Loomio.emojis.defaults,t.prototype.listen=function(t,o,r,n){return t.$on("emojiSelected",function(t,a,s){var i,l;if(s===n)return l=document.querySelector(s),i=l.selectionEnd,o[r]=o[r].substring(0,l.selectionEnd)+" "+a+" "+o[r].substring(l.selectionEnd),e(function(){return l.selectionEnd=l.selectionStart=i+a.length+2,l.focus()})})},t}())}),angular.module("loomioApp").factory("$exceptionHandler",function(e){return function(t,o){return e.reportErrors&&Airbrake.push({error:{message:t.toString(),stack:t.stack},params:{user_id:e.currentUserId}}),console.error("LoomioApp exception:",t,o)}}),angular.module("loomioApp").factory("FormService",function(e,t,o,r,n){var a;return new(a=function(){function a(){}var s,i,l,c,p,u;return a.prototype.confirmDiscardChanges=function(e,t){return t.isModified()&&!confirm(n("translate")("common.confirm_discard_changes"))?e.preventDefault():void 0},l={400:"badRequest",401:"unauthorizedRequest",403:"forbiddenRequest",404:"resourceNotFound",422:"unprocessableEntity",500:"internalServerError"},p=function(e,o,r,n){return t.loading(r.loadingMessage),"function"==typeof r.prepareFn&&r.prepareFn(n),e.isDisabled=!0,o.setErrors()},u=function(e,o,n){return function(a){return t.dismiss(),n.allowDrafts&&r.isLoggedIn()&&o.resetDraft(),null!=n.flashSuccess&&("function"==typeof n.flashSuccess&&(n.flashSuccess=n.flashSuccess()),t.success(n.flashSuccess,s(n.flashOptions))),null==n.skipClose&&"function"==typeof e.$close&&e.$close(),"function"==typeof n.successCallback?n.successCallback(a):void 0}},c=function(o,r,n){return function(o){return t.dismiss(),422===o.status&&r.setErrors(o.data.errors),e.$broadcast(l[o.status]||"unknownError",{model:r,response:o})}},i=function(e){return function(){return e.isDisabled=!1}},a.prototype.submit=function(e,t,n){var a;return null==n&&(n={}),n.allowDrafts&&r.isLoggedIn()&&o.applyDrafting(e,t),a=n.submitFn||t.save,function(o){return p(e,t,n,o),a(t).then(u(e,t,n),c(e,t,n))["finally"](i(e))}},a.prototype.upload=function(e,t,o){var r;return null==o&&(o={}),r=o.submitFn,function(n){return _.any(n)?(p(e,t,o),r(n[0],o.uploadKind).then(u(e,t,o),c(e,t,o))["finally"](i(e))):void 0}},s=function(e){return _.each(_.keys(e),function(t){return"function"==typeof e[t]?e[t]=e[t]():void 0}),e},a}())}),angular.module("loomioApp").factory("IntercomService",function(e,t,o,r,n){var a,s,i;return s=null,i=new(a=function(){function e(){}return e.prototype.available=function(){return null!=t&&null!=t.Intercom&&null!=t.Intercom.booted},e.prototype.boot=function(){var e;if(null!=t&&null!=t.Intercom)return e=r.parentGroups()[0],
t.Intercom("boot",{admin_link:o.baseUrl+("/admin/users/"+r.id),app_id:o.intercomAppId,user_id:r.id,user_hash:o.intercomUserHash,email:r.email,name:r.name,username:r.username,user_id:r.id,created_at:r.createdAt,angular_ui:!0,locale:r.locale,company:e})},e.prototype.shutdown=function(){return this.available()?t.Intercom("shutdown"):void 0},e.prototype.updateWithGroup=function(e){return this.available()&&s!==e&&!e.isSubgroup()?(s=e,t.Intercom("update",{email:r.email,user_id:r.id,company:{id:e.id,key:e.key,name:e.name,admin_link:o.baseUrl+("/admin/groups/"+e.key),subscription_kind:e.subscriptionKind,subscription_plan:e.subscriptionPlan,subscription_expires_at:e.subscriptionExpiresAt,creator_id:e.creatorId,group_privacy:e.groupPrivacy,cohort_id:e.cohortId,created_at:e.createdAt,locale:r.locale,proposals_count:e.proposalsCount,discussions_count:e.discussionsCount,memberships_count:e.membershipsCount}})):void 0},e.prototype.contactUs=function(){return this.available()?t.Intercom.public_api.showNewMessage():t.location=n.contactForm()},e}()),e.$on("analyticsSetGroup",function(e,t){return i.updateWithGroup(t)}),e.$on("logout",function(e,t){return i.shutdown()}),i}),angular.module("loomioApp").factory("KeyEventService",function(e){var t;return new(t=function(){function t(){}return t.prototype.keyboardShortcuts={73:"pressedI",71:"pressedG",84:"pressedT",27:"pressedEsc",13:"pressedEnter",191:"pressedSlash",38:"pressedUpArrow",40:"pressedDownArrow"},t.prototype.broadcast=function(t){var o;return o=this.keyboardShortcuts[t.which],"pressedEnter"===o||o&&!t.ctrlKey&&!t.metaKey?e.$broadcast(o,t,angular.element(document.activeElement)[0]):void 0},t.prototype.registerKeyEvent=function(e,t,o,r){return r=r||this.defaultShouldExecute,e.$$listeners[t]=null,e.$on(t,function(e,t,n){return r(n,t)?(e.preventDefault()&&t.preventDefault(),o(n)):void 0})},t.prototype.defaultShouldExecute=function(e,t){return null==e&&(e={}),null==t&&(t={}),!t.ctrlKey&&!t.altKey&&!_.contains(["INPUT","TEXTAREA","SELECT"],e.nodeName)},t.prototype.submitOnEnter=function(e){return this.registerKeyEvent(e,"pressedEnter",e.submit,function(t){return function(t,o){return(o.ctrlKey||o.metaKey)&&angular.element(t).scope().$$isolateBindings===e.$$isolateBindings&&_.contains(t.classList,"lmo-primary-form-input")}}(this))},t}())}),angular.module("loomioApp").factory("LmoUrlService",function(e){var t;return new(t=function(){function t(){}return t.prototype.route=function(e){var t,o,r;return o=e.model,t=e.action,r=e.params,null!=o&&null!=t?this[o.constructor.singular](o,{},{noStub:!0})+this.routePath(t):null!=o?this[o.constructor.singular](o):this.routePath(t)},t.prototype.routePath=function(e){return"/".concat(e).replace("//","/")},t.prototype.group=function(e,t,o){return null==t&&(t={}),null==o&&(o={}),this.buildModelRoute("g",e.key,e.fullName,t,o)},t.prototype.discussion=function(e,t,o){return null==t&&(t={}),null==o&&(o={}),this.buildModelRoute("d",e.key,e.title,t,o)},t.prototype.searchResult=function(e,t,o){return null==t&&(t={}),null==o&&(o={}),this.discussion(e,t,o)},t.prototype.user=function(e,t,o){return null==t&&(t={}),null==o&&(o={}),this.buildModelRoute("u",e.username,null,t,o)},t.prototype.proposal=function(e,t){return null==t&&(t={}),this.route({model:e.discussion(),action:"proposal/"+e.key,params:t})},t.prototype.comment=function(e,t){return null==t&&(t={}),this.route({model:e.discussion(),action:"comment/"+e.id,params:t})},t.prototype.membership=function(e,t,o){return null==t&&(t={}),null==o&&(o={}),this.route({model:e.group(),action:"memberships",params:t})},t.prototype.membershipRequest=function(e,t,o){return null==t&&(t={}),null==o&&(o={}),this.route({model:e.group(),action:"membership_requests",params:t})},t.prototype.oauthApplication=function(e,t,o){return null==t&&(t={}),null==o&&(o={}),this.buildModelRoute("apps/registered",e.id,e.name,t,o)},t.prototype.contactForm=function(){return e.baseUrl+"/contact"},t.prototype.buildModelRoute=function(t,o,r,n,a){var s;return s=a.absolute?e.baseUrl:"/",s+=t+"/"+o,null!=r&&null==a.noStub&&(s+="/"+this.stub(r)),null!=a.ext&&(s+="."+a.ext),_.keys(n).length&&(s+="?"+this.queryStringFor(n)),s},t.prototype.stub=function(e){return e.replace(/[^a-z0-9\-_]+/gi,"-").replace(/-+/g,"-").toLowerCase()},t.prototype.queryStringFor=function(e){return null==e&&(e={}),_.map(e,function(e,t){return t+"="+e}).join("&")},t}())});var slice=[].slice;angular.module("loomioApp").factory("LoadingService",function(e){var t;return new(t=function(){function e(){}return e.prototype.applyLoadingFunction=function(e,t){var o,r;return o=t+"Executing",r=e[t],e[t]=function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],e[o]?void 0:(e[o]=!0,r.apply(null,t)["finally"](function(){return e[o]=!1}))}},e}())}),angular.module("loomioApp").factory("MessageChannelService",function(e,t,o,r,n){var a;return new(a=function(){function a(){}var s;return a.prototype.subscribe=function(t){return null==t&&(t={}),e.post("/api/v1/message_channel/subscribe",t).then(s)},a.prototype.subscribeToGroup=function(e){return this.subscribe({group_key:e.key})},s=function(e){return _.each(e.data,function(e){return PrivatePub.sign(e),PrivatePub.subscribe(e.channel,function(e){var a;if(null!=e.version&&n.update("global.messages.app_update",{version:e.version},"global.messages.reload",function(){return o.location.reload()}),null!=e.memo)switch(e.memo.kind){case"comment_destroyed":(a=r.comments.find(memo.data.comment_id))&&a.destroy();break;case"comment_updated":r.comments["import"](memo.data.comment),r["import"](memo.data);break;case"comment_unliked":(a=r.comments.find(memo.data.comment_id))&&a.removeLikerId(memo.data.user_id)}return null!=e.event&&(_.isArray(e.events)||(e.events=[]),e.events.push(e.event)),null!=e.notification&&(_.isArray(e.notifications)||(e.notifications=[]),e.notifications.push(e.notification)),r["import"](e),t.$digest()})})},a}())}),angular.module("loomioApp").factory("ModalService",function(e,t,o){var r,n;return n=null,new(r=function(){function o(){}return o.prototype.open=function(o,r){return null==r&&(r={}),t.$broadcast("modalOpened",o),null!=n&&n.close(),n=e.open({templateUrl:o.templateUrl,controller:o.controller,resolve:r,size:o.size||"",backdrop:"static"})},o}())}),angular.module("loomioApp").factory("PaginationService",function(e){var t;return new(t=function(){function t(){}return t.prototype.windowFor=function(t){var o,r,n,a,s;return o=t.current,n=t.min,r=t.max,s=t.pageType,a=e.pageSize[s]||e.pageSize["default"],{prev:o>n?_.max([o-a,n]):void 0,next:r>o+a?o+a:void 0,pageSize:a}},t}())}),angular.module("loomioApp").factory("PrivacyString",function(e){var t;return new(t=function(){function t(){}return t.prototype.groupPrivacyStatement=function(t){var o;return t.isSubgroup()&&t.parent().privacyIsSecret()?t.privacyIsClosed()?e.instant("group_form.privacy_statement.private_to_parent_members",{parent:t.parentName()}):e.instant("group_form.privacy_statement.private_to_group"):(o=function(){switch(t.groupPrivacy){case"open":return"public_on_web";case"closed":return"public_on_web";case"secret":return"private_to_group"}}(),e.instant("group_form.privacy_statement."+o))},t.prototype.confirmGroupPrivacyChange=function(t){var o;if(!t.isNew())return o=t.attributeIsModified("groupPrivacy")?t.privacyIsSecret()?t.isParent()?"group_form.confirm_change_to_secret":"group_form.confirm_change_to_secret_subgroup":t.privacyIsOpen()?"group_form.confirm_change_to_public":void 0:t.attributeIsModified("discussionPrivacyOptions")&&"private_only"===t.discussionPrivacyOptions?"group_form.confirm_change_to_private_discussions_only":void 0,_.isString(o)?e.instant(o):!1},t.prototype.discussion=function(t,o){var r;return null==o&&(o=null),r=o===!1?"privacy_public":t.group().parentMembersCanSeeDiscussions?"privacy_organisation":"privacy_private",e.instant("discussion_form."+r,{group:t.group().name,parent:t.group().parentName()})},t.prototype.group=function(t,o){var r;return null==o&&(o=null),null===o&&(o=t.groupPrivacy),r=function(){if(t.isParent())switch(o){case"open":return"group_privacy_is_open_description";case"secret":return"group_privacy_is_secret_description";case"closed":return t.allowPublicDiscussions()?"group_privacy_is_closed_public_threads_description":"group_privacy_is_closed_description"}else switch(o){case"open":return"subgroup_privacy_is_open_description";case"secret":return"subgroup_privacy_is_secret_description";case"closed":return t.isSubgroupOfSecretParent()?"subgroup_privacy_is_closed_secret_parent_description":t.allowPublicDiscussions()?"subgroup_privacy_is_closed_public_threads_description":"subgroup_privacy_is_closed_description"}}(),e.instant("group_form."+r,{parent:t.parentName()})},t}())}),angular.module("loomioApp").value("RecordStoreDatabaseName","default.db"),angular.module("loomioApp").factory("render",function(){return{createRenderer:function(){var e;return e=new marked.Renderer,e.link=function(e,t,o){return"<a href='"+e+"' title='"+(t||o)+"' target='_blank'>"+o+"</a>"},e.paragraph=this.cook("p"),e.listitem=this.cook("li"),e.tablecell=this.cook("td"),e.heading=this.headerCook,e},headerCook:function(e,t){return e=emojione.shortnameToImage(e),"<h"+t+">"+e+"</h"+t+">"},cook:function(e){return function(t){return t=emojione.shortnameToImage(t),t=t.replace(/\[\[@([a-zA-Z0-9]+)\]\]/g,"<a class='lmo-user-mention' href='/u/$1'>@$1</a>"),"<"+e+">"+t+"</"+e+">"}}}}),angular.module("loomioApp").factory("ScrollService",function(e,t){var o;return new(o=function(){function e(){}return e}()),{scrollTo:function(o,r,n){return null==r&&(r=50),null==n&&(n=100),e(function(){var e;return e=document.querySelector(o),e?(t.scrollToElement(e,r,n),e.focus()):void 0})}}}),angular.module("loomioApp").factory("ThreadQueryService",function(e,t,o){var r;return new(r=function(){function r(){}var n,a,s,i,l,c;return r.prototype.filterQuery=function(e,t){return null==t&&(t={}),c(a(e,t.queryType||"all"))},r.prototype.timeframeQuery=function(e){return null==e&&(e={}),c(i(e.name,e.filter||"show_all","timeframe",e.timeframe.from,e.timeframe.to))},r.prototype.groupQuery=function(e,t){return null==e&&(e={}),null==t&&(t={}),c(s(e,t.filter||"show_unread",t.queryType||"inbox"))},c=function(e){return{threads:function(){return e.data()},length:function(){return this.threads().length},any:function(){return this.length()>0}}},a=function(t,o){var r;return r=e.discussions.collection.addDynamicView("default"),n(r,t,o),r},s=function(t,o,r){var a;return a=e.discussions.collection.addDynamicView(t.name),a.applyFind({groupId:{$in:t.organisationIds()}}),n(a,o,r),a},i=function(t,o,r,a,s){var i,c;return i=moment().startOf("day"),c=e.discussions.collection.addDynamicView(t),c.applyFind({lastActivityAt:{$gt:l(a)}}),c.applyFind({lastActivityAt:{$lt:l(s)}}),n(c,o,r),c},l=function(e){var t;return t=e.split(" "),moment().startOf("day").subtract(parseInt(t[0]),t[1])},n=function(e,r,n){switch(r=[].concat(r),t.isLoggedIn()&&e.applyFind({discussionReaderId:{$gt:0}}),n){case"important":e.applyWhere(function(e){return e.isImportant()});break;case"timeframe":e.applyWhere(function(e){return!e.isImportant()});break;case"inbox":e.applyFind({lastActivityAt:{$gt:moment().startOf("day").subtract(6,"week").toDate()}}),e.applyWhere(function(e){return e.isUnread()}),r.push("show_not_muted")}return _.each(r,function(t){switch(t){case"show_muted":return e.applyWhere(function(e){return"mute"===e.volume()});case"show_not_muted":return e.applyWhere(function(e){return"mute"!==e.volume()});case"only_threads_in_my_groups":return e.applyFind({groupId:{$in:o.groupIds()}});case"show_participating":return e.applyFind({participating:!0});case"show_starred":return e.applyFind({starred:!0});case"show_proposals":return e.applyWhere(function(e){return e.hasActiveProposal()});case"hide_proposals":return e.applyWhere(function(e){return!e.hasActiveProposal()})}}),e},r}())}),angular.module("loomioApp").factory("TranslationService",function(){var e;return new(e=function(){function e(){}return e.prototype.listenForTranslations=function(e,t){return t=t||e,e.$on("translationComplete",function(e){return function(e,o){return e.defaultPrevented?void 0:(e.preventDefault(),t.translation=o)}}(this))},e}())}),angular.module("loomioApp").factory("UserHelpService",function(e){var t;return new(t=function(){function t(){}return t.prototype.helpLocale=function(){switch(e.locale){case"es":case"an":case"ca":case"gl":return"es";case"zh-TW":return"zh";case"ar":return"ar";default:return"en"}},t.prototype.helpLink=function(){return"https://loomio.gitbooks.io/manual/content/"+this.helpLocale()+"/index.html"},t}())}),angular.module("loomioApp").factory("ArchiveGroupForm",function(){return{templateUrl:"generated/components/archive_group_form/archive_group_form.html",controller:function(e,t,o,r,n,a){return e.group=r,e.submit=n.submit(e,e.group,{submitFn:e.group.archive,flashSuccess:"group_page.messages.archive_group_success",successCallback:function(){return o.path("/dashboard")}})}}}),angular.module("loomioApp").directive("attachmentPreview",function(){return{scope:{attachment:"=",mode:"@"},restrict:"E",templateUrl:"generated/components/attachment_preview/attachment_preview.html",replace:!0,controller:function(e,t){return e.destroy=function(o){return t.$broadcast("attachmentRemoved",e.attachment.id),e.attachment.destroy(),o.preventDefault()},e.location=function(){return e.attachment[e.mode]}}}}),angular.module("loomioApp").controller("AuthorizedAppsPageController",function(e,t,o,r,n){t.$broadcast("currentComponent",{page:"authorizedAppsPage"}),t.$broadcast("setTitle","Apps"),this.loading=!0,this.applications=function(){return o.oauthApplications.find({authorized:!0})},o.oauthApplications.fetchAuthorized().then(function(e){return function(){return e.loading=!1}}(this)),this.openRevokeForm=function(e){return r.open(n,{application:function(){return e}})}}),angular.module("loomioApp").factory("ChangePasswordForm",function(){return{templateUrl:"generated/components/change_password_form/change_password_form.html",controller:function(e,t,o,r,n){return e.user=o.clone(),e.submit=n.submit(e,e.user,{submitFn:r.users.changePassword,flashSuccess:"profile_page.messages.password_changed"})}}}),angular.module("loomioApp").factory("ChangePictureForm",function(){return{templateUrl:"generated/components/change_picture_form/change_picture_form.html",controller:function(e,t,o,r,n){return e.user=o.clone(),e.selectFile=function(){return t(function(){return document.querySelector(".change-picture-form__file-input").click()})},e.submit=n.submit(e,e.user,{flashSuccess:"profile_page.messages.picture_changed",submitFn:r.users.updateProfile,prepareFn:function(t){return e.user.avatarKind=t}}),e.upload=n.upload(e,e.user,{flashSuccess:"profile_page.messages.picture_changed",submitFn:r.users.uploadAvatar,loadingMessage:"common.action.uploading"})}}}),angular.module("loomioApp").factory("ChangeVolumeForm",function(){return{templateUrl:"generated/components/change_volume_form/change_volume_form.html",controller:function(e,t,o,r,n){e.model=t.clone(),e.volumeLevels=["loud","normal","quiet"],e.defaultVolume=function(){switch(e.model.constructor.singular){case"discussion":return e.model.volume();case"membership":return e.model.volume;case"user":return e.model.defaultMembershipVolume}},e.buh={volume:e.defaultVolume()},e.translateKey=function(t){return"change_volume_form."+(t||e.model.constructor.singular)},e.flashTranslation=function(){var t;return t=function(){if(!e.applyToAll)return e.model.constructor.singular;switch(e.model.constructor.singular){case"discussion":return"membership";case"membership":return"all_groups"}}(),e.translateKey(t)+".messages."+e.buh.volume},e.submit=o.submit(e,e.model,{submitFn:function(t){return t.saveVolume(e.buh.volume,e.applyToAll,e.setDefault)},flashSuccess:e.flashTranslation})}}}),angular.module("loomioApp").controller("ContactPageController",function(e,t,o,r,n,a){var s;return s=a,e.message=new o({name:s.name,email:s.email}),n.applyForm(e,r.save,e.message)}),angular.module("loomioApp").controller("DashboardPageController",function(e,t,o,r,n,a,s){e.$broadcast("currentComponent",{page:"dashboardPage"}),e.$broadcast("setTitle","Dashboard"),e.$broadcast("analyticsClearGroup"),this.perPage=50,this.loaded={show_all:0,show_muted:0,show_participating:0},this.views={recent:{},groups:{}},this.timeframes={today:{from:"1 second ago",to:"-10 year ago"},yesterday:{from:"1 day ago",to:"1 second ago"},thisweek:{from:"1 week ago",to:"1 day ago"},thismonth:{from:"1 month ago",to:"1 week ago"},older:{from:"3 month ago",to:"1 month ago"}},this.timeframeNames=_.map(this.timeframes,function(e,t){return t}),this.recentViewNames=["proposals","starred","today","yesterday","thisweek","thismonth","older"],this.groupThreadLimit=5,this.groups=function(){return r.parentGroups()},this.moreForThisGroup=function(e){return this.views.groups[e.key].length()>this.groupThreadLimit},this.displayByGroup=function(){return _.contains(["show_muted"],this.filter)},this.updateQueries=function(e){return function(){return e.currentBaseQuery=a.filterQuery(["only_threads_in_my_groups",e.filter]),e.displayByGroup()?_.each(e.groups(),function(t){return e.views.groups[t.key]=a.groupQuery(t,{filter:e.filter,queryType:"all"})}):(e.views.recent.proposals=a.filterQuery(["only_threads_in_my_groups","show_not_muted","show_proposals",e.filter],{queryType:"important"}),e.views.recent.starred=a.filterQuery(["show_not_muted","show_starred","hide_proposals",e.filter],{queryType:"important"}),_.each(e.timeframeNames,function(t){return e.views.recent[t]=a.timeframeQuery({name:t,filter:["only_threads_in_my_groups","show_not_muted",e.filter],timeframe:e.timeframes[t]})}))}}(this),this.loadMore=function(e){return function(){var t;return t=e.loaded[e.filter],e.loaded[e.filter]=e.loaded[e.filter]+e.perPage,o.discussions.fetchDashboard({filter:e.filter,from:t,per:e.perPage}).then(e.updateQueries)}}(this),n.applyLoadingFunction(this,"loadMore"),this.setFilter=function(e){return function(t){return null==t&&(t="show_all"),e.filter=t,e.updateQueries(),0===e.loaded[e.filter]?e.loadMore():void 0}}(this),this.setFilter(),t.$on("currentUserMembershipsLoaded",function(e){return function(){return e.setFilter()}}(this)),t.$on("homePageClicked",function(e){return function(){return e.setFilter()}}(this))}),angular.module("loomioApp").factory("DeactivateUserForm",function(){return{templateUrl:"generated/components/deactivate_user_form/deactivate_user_form.html",controller:function(e,t,o,r,n,a){return e.user=r.clone(),e.submit=a.submit(e,e.user,{submitFn:n.users.deactivate,successCallback:function(){return o.location.reload()}})}}}),angular.module("loomioApp").factory("DeleteThreadForm",function(){return{templateUrl:"generated/components/delete_thread_form/delete_thread_form.html",controller:function(e,t,o,r,n){return e.discussion=o,e.group=o.group(),e.submit=r.submit(e,e.discussion,{submitFn:e.discussion.destroy,flashSuccess:"delete_thread_form.messages.success",successCallback:function(){return t.path(n.group(e.group))}})}}}),angular.module("loomioApp").factory("DiscussionForm",function(){return{templateUrl:"generated/components/discussion_form/discussion_form.html",controller:function(e,t,o,r,n,a,s,i,l,c,p){var u;return e.discussion=r.clone(),e.discussion.isNew()&&(e.showGroupSelect=!0),u=e.discussion.isNew()?"created":"updated",e.submit=i.submit(e,e.discussion,{flashSuccess:"discussion_form.messages."+u,allowDrafts:!0,successCallback:function(e){return function(e){return"created"===u?o.path("/d/"+e.discussions[0].key):void 0}}(this)}),e.availableGroups=function(){return _.filter(n.groups(),function(e){return s.canStartThread(e)})},e.restoreDraft=function(){return null!=e.discussion.group()&&e.discussion.isNew()?(e.discussion.restoreDraft(),e.updatePrivacy()):void 0},e.privacyPrivateDescription=function(){return c.discussion(e.discussion,!0)},e.updatePrivacy=function(){return e.discussion["private"]=e.discussion.privateDefaultValue()},e.showPrivacyForm=function(){return e.discussion.group()?"public_or_private"===e.discussion.group().discussionPrivacyOptions:void 0},e.descriptionSelector=".discussion-form__description-input",p.listen(e,e.discussion,"description",e.descriptionSelector),l.submitOnEnter(e)}}}),angular.module("loomioApp").controller("EmailSettingsPageController",function(e,t,o,r,n,a){this.user=o.clone(),this.groupVolume=function(e){return e.membershipFor(o).volume},this.changeDefaultMembershipVolume=function(){return n.open(a,{model:function(e){return function(){return o}}(this)})},this.editSpecificGroupVolume=function(e){return n.open(a,{model:function(t){return function(){return e.membershipFor(o)}}(this)})},this.submit=t.submit(this,this.user,{submitFn:e.users.updateProfile,flashSuccess:"email_settings_page.messages.updated",successCallback:function(){return r.path("/dashboard")}})}),angular.module("loomioApp").directive("emojiPicker",function(){return{scope:{targetSelector:"="},restrict:"E",replace:!0,templateUrl:"generated/components/emoji_picker/emoji_picker.html",controller:function(e,t,o,r){return e.render=o.render,e.search=function(t){return e.hovered={},e.source=t?_.take(_.filter(o.source,function(e){return e.match(RegExp("^:"+t,"i"))}),15):o.defaults},e.search(),e.toggleMenu=function(){return e.showMenu=!e.showMenu,e.search(),t(function(){return e.showMenu?document.querySelector(".emoji-picker__search").focus():void 0})},e.hideMenu=function(){return e.showMenu?(e.hovered={},e.term="",e.toggleMenu()):void 0},r.registerKeyEvent(e,"pressedEsc",e.toggleMenu,function(){return e.showMenu}),e.hover=function(t){return e.hovered={name:t,image:e.render(t)}},e.select=function(t){return e.$emit("emojiSelected",t,e.targetSelector),e.hideMenu()},e.noEmojisFound=function(){return 0===e.source.length}}}}),angular.module("loomioApp").directive("errorPage",function(){return{scope:{error:"="},restrict:"E",templateUrl:"generated/components/error_page/error_page.html",replace:!0}}),angular.module("loomioApp").directive("flash",function(e){return{restrict:"E",templateUrl:"generated/components/flash/flash.html",replace:!0,controllerAs:"flash",controller:function(t,o,r){t.pendingDismiss=null,t.$on("flashMessage",function(e){return function(e,r){return t.flash=_.merge(r,{visible:!0}),t.loading()&&(t.flash.message=t.flash.message||"common.action.loading"),null!=t.pendingDismiss&&o.cancel(t.pendingDismiss),t.pendingDismiss=o(t.dismiss,r.duration,1)}}(this)),t.$on("dismissFlash",t.dismiss),t.loading=function(){return"loading"===t.flash.level},t.display=function(){return t.flash.visible},t.dismiss=function(){return t.flash.visible=!1},t.ariaLive=function(){return t.loading()?"polite":"assertive"},null!=e.flash.success&&r.success(e.flash.success),null!=e.flash.notice&&r.info(e.flash.notice),null!=e.flash.warning&&r.warning(e.flash.warning),null!=e.flash.error&&r.error(e.flash.error)}}}),angular.module("loomioApp").factory("FlashService",function(e){var t;return new(t=function(){function t(){}var o,r,n;return r=3500,o=2147483645,n=function(t,o){return function(n,a,s,i){return e.$broadcast("flashMessage",{level:t,duration:o||r,message:n,options:a,action:s,actionFn:i})}},t.prototype.success=n("success"),t.prototype.info=n("info"),t.prototype.warning=n("warning"),t.prototype.error=n("error"),t.prototype.loading=n("loading",o),t.prototype.update=n("update",o),t.prototype.dismiss=n("loading",1),t}())}),angular.module("loomioApp").directive("formErrors",function(){return{scope:{model:"="},restrict:"E",templateUrl:"generated/components/form_errors/form_errors.html",replace:!0,controller:"FormErrorsController"}}),angular.module("loomioApp").controller("FormErrorsController",function(){}),angular.module("loomioApp").directive("groupAvatar",function(){return{scope:{group:"=",size:"@?"},restrict:"E",templateUrl:"generated/components/group_avatar/group_avatar.html",replace:!0,controller:function(e){var t;return t=["small","medium","large"],_.contains(t,e.size)?void 0:e.size="small"}}}),angular.module("loomioApp").factory("GroupForm",function(){return{templateUrl:"generated/components/group_form/group_form.html",controller:function(e,t,o,r,n,a,s,i){var l,c;return e.group=r.clone(),e.i18n=function(){var t;return t={},e.group.isParent()?(t.group_name="group_form.group_name",e.group.isNew()?(t.heading="group_form.start_group_heading",t.submit="group_form.submit_start_group"):(t.heading="group_form.edit_group_heading",t.submit="common.action.update_settings")):(t.group_name="group_form.subgroup_name",e.group.isNew()?(t.heading="group_form.start_subgroup_heading",t.submit="group_form.submit_start_subgroup"):(t.heading="group_form.edit_subgroup_heading",t.submit="common.action.update_settings")),t}(),c=function(){return e.group.isNew()?"group_form.messages.group_created":"group_form.messages.group_updated"},l=n.submit(e,e.group,{allowDrafts:!0,flashSuccess:c(),successCallback:function(t){return e.group.isNew()?o.path("/g/"+t.groups[0].key):void 0}}),e.submit=function(){var t;return(t=i.confirmGroupPrivacyChange(e.group))?window.confirm(t)?l():void 0:l()},e.expandForm=function(){return e.expanded=!0},e.privacyStatement=function(){return i.groupPrivacyStatement(e.group)},e.privacyStringFor=function(t){return i.group(e.group,t)},e.buh={},e.buh.allowPublicThreads=e.group.allowPublicDiscussions(),e.allowPublicThreadsClicked=function(){return e.buh.allowPublicThreads?e.group.discussionPrivacyOptions="public_or_private":e.group.discussionPrivacyOptions="private_only"},e.groupPrivacyChanged=function(){switch(e.group.parentMembersCanSeeDiscussions=!e.group.privacyIsSecret(),e.group.groupPrivacy){case"open":return e.group.discussionPrivacyOptions="public_only";case"closed":return e.allowPublicThreadsClicked();case"secret":return e.group.discussionPrivacyOptions="private_only"}}}}}),angular.module("loomioApp").controller("GroupPageController",function(e,t,o,r,n,a,s,i,l,c,p,u,d,m){e.$broadcast("currentComponent",{page:"groupPage"}),o.key=o.key.split("|")[0],r.groups.findOrFetchById(o.key).then(function(o){return function(i){return o.group=i,s.isLoggedIn()&&(o.group.trialIsOverdue()&&e.$broadcast("trialIsOverdue",o.group),a.subscribeToGroup(o.group),r.drafts.fetchFor(o.group),o.handleSubscriptionSuccess(),o.handleWelcomeModal(),m.showIfAppropriate(o.group,n)),o.pageWindow=c.windowFor({current:parseInt(t.search().from||0),min:0,max:o.group.publicDiscussionsCount,pageType:"groupThreads"}),e.$broadcast("viewingGroup",o.group),e.$broadcast("setTitle",o.group.fullName),e.$broadcast("analyticsSetGroup",o.group),e.$broadcast("currentComponent",{page:"groupPage",links:{canonical:l.group(o.group,{},{absolute:!0}),rss:o.group.privacyIsSecret()?void 0:l.group(o.group,{},{absolute:!0,ext:"xml"}),prev:null!=o.pageWindow.prev?l.group(o.group,{from:o.pageWindow.prev}):void 0,next:null!=o.pageWindow.next?l.group(o.group,{from:o.pageWindow.next}):void 0}})}}(this),function(t){return e.$broadcast("pageError",t)}),this.showDescriptionPlaceholder=function(){return!this.group.description},this.canManageMembershipRequests=function(){return s.canManageMembershipRequests(this.group)},this.canUploadPhotos=function(){return s.canAdministerGroup(this.group)},this.openUploadCoverForm=function(){return p.open(CoverPhotoForm,{group:function(e){return function(){return e.group}}(this)})},this.openUploadLogoForm=function(){return p.open(LogoPhotoForm,{group:function(e){return function(){return e.group}}(this)})},this.handleSubscriptionSuccess=function(){return!i.chargify&&"development"!==i.environment||null==t.search().chargify_success?void 0:(this.subscriptionSuccess=!0,this.group.subscriptionKind="paid",t.search("chargify_success",null),p.open(u))},this.showWelcomeModel=function(){return this.group.isParent()&&s.isCreatorOf(this.group)&&this.group.noInvitationsSent()&&!this.group.trialIsOverdue()&&!this.subscriptionSuccess&&!d.shownToGroup[this.group.id]},this.handleWelcomeModal=function(e){return function(){return e.showWelcomeModel()?(d.shownToGroup[e.group.id]=!0,p.open(d)):void 0}}(this)}),angular.module("loomioApp").controller("GroupsPageController",function(e,t,o,r,n,a){e.$broadcast("currentComponent",{page:"groupsPage"}),e.$broadcast("setTitle","Groups"),this.parentGroups=function(e){return function(){return _.unique(_.compact(_.map(t.memberships(),function(e){return e.group().isParent()?e.group():t.isMemberOf(e.group().parent())?void 0:e.group().parent()})))}}(this),this.startGroup=function(){return a.open(n,{group:function(){return o.groups.build()}})}}),angular.module("loomioApp").directive("h1",function(){return{restrict:"E",link:function(e,t,o){return t.attr("tabindex",0)}}}),angular.module("loomioApp").directive("i",function(){return{restrict:"E",link:function(e,t,o){return t.attr("aria-hidden","true")}}}),angular.module("loomioApp").directive("invitable",function(){return{scope:{invitable:"="},restrict:"E",templateUrl:"generated/components/invitation_form/invitable.html",replace:!0,controller:function(e){e.match={label:e.invitable}}}}),angular.module("loomioApp").factory("InvitationForm",function(){return{templateUrl:"generated/components/invitation_form/invitation_form.html",controller:function(e,t,o,r,n,a,s,i,l,c){var p;e.availableGroups=function(){return _.filter(r.groups(),function(e){return n.canAddMembers(e)})},e.form=o.invitationForms.build({groupId:t.id||(_.first(e.availableGroups())||{}).id}),e.fetchShareableInvitation=function(){return o.invitations.fetchShareableInvitationByGroupId(e.form.group().id)},e.fetchShareableInvitation(),e.showCustomMessageField=!1,e.isDisabled=!1,e.noInvitations=!1,e.addMembers=function(){return l.open(c,{group:function(){return e.form.group()}})},e.showCustomMessageField=function(){return e.addCustomMessageClicked||e.form.message},e.addCustomMessage=function(){return e.addCustomMessageClicked=!0},e.invitees=function(){return e.form.emails.match(/[^\s,;<>]+?@[^\s,;<>]+\.[^\s,;<>]+/g)||[]},e.maxInvitations=function(){return e.invitees().length>100},e.submitText=function(){return e.form.emails.length>0?"invitation_form.send":"invitation_form.done"},e.invalidEmail=function(){return 0===e.invitees().length&&e.form.emails.length>0},e.canSubmit=function(){return e.invitees().length>0&&e.form.group()},e.copied=function(){return s.success("common.copied")},e.invitationLink=function(){return e.form.group()&&e.form.group().shareableInvitation()?e.form.group().shareableInvitation().url:void 0},e.submit=function(){return 0===e.invitees().length?e.$close():p()},p=a.submit(e,e.form,{allowDrafts:!0,submitFn:o.invitations.sendByEmail,successCallback:function(t){return function(t){var o;switch(o=t.invitations.length){case 0:return e.noInvitations=!0;case 1:return s.success("invitation_form.messages.invitation_sent");default:return s.success("invitation_form.messages.invitations_sent",{count:o})}}}(this)})}}});var shownToGroup;shownToGroup={},angular.module("loomioApp").factory("LegacyTrialExpiredModal",function(e,t,o){return{appropriateToShow:function(e,t){return t.isAdminOf(e)&&e.showLegacyTrialExpiredModal},showIfAppropriate:function(t,o){return this.appropriateToShow(t,o)?(shownToGroup[t.id]=!0,e.open(this,{group:function(){return t}})):!1},templateUrl:"generated/components/legacy_trial_expired_modal/legacy_trial_expired_modal.html",controller:function(e,t,r,n){return e.submit=function(){return o.track("legacy-trial-expired-modal__submit clicked"),n.open(r,{group:function(){return t}})}}}}),angular.module("loomioApp").factory("LeaveGroupForm",function(){return{templateUrl:"generated/components/leave_group_form/leave_group_form.html",controller:function(e,t,o,r,n,a,s){return e.group=r,e.membership=e.group.membershipFor(a),e.submit=n.submit(e,e.group,{submitFn:e.membership.destroy,flashSuccess:"group_page.messages.leave_group_success",successCallback:function(){return o.$broadcast("currentUserMembershipsLoaded"),t.path("/dashboard")}}),e.canLeaveGroup=function(){return s.canRemoveMembership(e.membership)}}}}),angular.module("loomioApp").controller("InboxPageController",function(e,t,o,r,n,a,s){
var i;t.$broadcast("currentComponent",{page:"inboxPage"}),t.$broadcast("setTitle","Inbox"),t.$broadcast("analyticsClearGroup"),i=["only_threads_in_my_groups","show_unread","show_not_muted"],this.threadLimit=50,this.views={groups:{}},this.loading=function(){return!(n.inboxLoaded&&n.membershipsLoaded)},this.groups=function(){return _.flatten([r.parentGroups(),r.orphanSubgroups()])},this.init=function(e){return function(){return e.loading()?void 0:_.each(e.groups(),function(t){return e.views.groups[t.key]=s.groupQuery(t,{filter:i})})}}(this),e.$on("currentUserMembershipsLoaded",this.init),e.$on("currentUserInboxLoaded",this.init),this.init(),this.hasThreads=function(){return s.filterQuery(i,{queryType:"inbox"}).any()},this.moreForThisGroup=function(e){return this.views.groups[e.key].length()>this.threadLimit}}),angular.module("loomioApp").directive("lmoHref",function(){return{restrict:"A",scope:{route:"@lmoHref"},link:function(e,t,o){return e.$watch("route",function(){return t.attr("href",e.route)}),t.bind("click",function(e){return e.ctrlKey||e.metaKey?e.stopImmediatePropagation():void 0})}}}),angular.module("loomioApp").directive("lmoHrefFor",function(e){return{restrict:"A",scope:{model:"=lmoHrefFor",action:"@lmoHrefAction"},link:function(t,o,r){return o.attr("href",e.route({model:t.model,action:t.action})),o.bind("click",function(e){var t;return t=e.target.attributes.target,e.ctrlKey||e.metaKey||t&&"_blank"===t.value?e.stopImmediatePropagation():void 0})}}}),angular.module("loomioApp").directive("loading",function(){return{scope:{},restrict:"E",templateUrl:"generated/components/loading/loading.html",replace:!0}}),angular.module("loomioApp").controller("MembershipRequestsPageController",function(e,t,o,r,n,a,s){t.$broadcast("currentComponent",{page:"membershipRequestsPage"}),this.init=function(r){return function(){return o.groups.findOrFetchById(e.key).then(function(e){return n.canManageMembershipRequests(e)?(r.group=e,o.membershipRequests.fetchPendingByGroup(e.key,{per:100}),o.membershipRequests.fetchPreviousByGroup(e.key,{per:100})):t.$broadcast("pageError",{status:403})},function(e){return t.$broadcast("pageError",{status:403})})}}(this),this.init(),this.pendingRequests=function(e){return function(){return e.group.pendingMembershipRequests()}}(this),this.previousRequests=function(e){return function(){return e.group.previousMembershipRequests()}}(this),this.approve=function(e){return function(e){return o.membershipRequests.approve(e).then(function(){return a.success("membership_requests_page.messages.request_approved_success")})}}(this),this.ignore=function(e){return function(e){return o.membershipRequests.ignore(e).then(function(){return a.success("membership_requests_page.messages.request_ignored_success")})}}(this),this.noPendingRequests=function(e){return function(){return 0===e.pendingRequests.length}}(this)}),angular.module("loomioApp").controller("MembershipsPageController",function(e,t,o,r,n,a,s,i,l,c){var p;t.$broadcast("currentComponent",{page:"membershipsPage"}),this.init=function(r){return function(n){return null==r.group&&null!=n?i.canViewMemberships(n)?(r.group=n,o.memberships.fetchByGroup(r.group.key,{per:100}).then(function(){return null!=e.username?c.scrollTo("[data-username="+e.username+"]"):void 0})):t.$broadcast("pageError",{status:403},n):void 0}}(this),this.fetchMemberships=function(e){return function(){return e.fragment?o.memberships.fetchByNameFragment(e.fragment,e.group.key):void 0}}(this),this.canAdministerGroup=function(){return i.canAdministerGroup(this.group)},this.canAddMembers=function(){return i.canAddMembers(this.group)},this.canRemoveMembership=function(e){return i.canRemoveMembership(e)},this.canToggleAdmin=function(e){return this.canAdministerGroup(e)&&(!e.admin||this.canRemoveMembership(e))},this.toggleAdmin=function(e){var t;return t=e.admin?"makeAdmin":"removeAdmin",o.memberships[t](e).then(function(){return l.success("memberships_page.messages."+_.snakeCase(t)+"_success",{name:e.userName()})})},this.openRemoveForm=function(e){return n.open(s,{membership:function(){return e}})},this.invitePeople=function(){return n.open(a,{group:function(e){return function(){return e.group}}(this)})},p=function(e){return function(){return e.fragment?_.filter(e.group.memberships(),function(t){return _.contains(t.userName().toLowerCase(),e.fragment.toLowerCase())}):e.group.memberships()}}(this),this.memberships=function(){return _.sortBy(p(),function(e){return e.userName()})},this.name=function(e){return e.userName()},o.groups.findOrFetchById(e.key).then(this.init,function(e){return t.$broadcast("pageError",e)})}),angular.module("loomioApp").directive("modalHeaderCancelButton",function(){return{restrict:"E",templateUrl:"generated/components/modal_header_cancel_button/modal_header_cancel_button.html",replace:!0}}),angular.module("loomioApp").controller("NotificationController",function(e,t,o){e.event=e.notification.event(),e.actor=e.event.actor(),e.link=function(){switch(e.event.kind){case"comment_liked":return t.comment(e.event.comment());case"comment_replied_to":return t.comment(e.event.comment());case"motion_closing_soon":return t.proposal(e.event.proposal());case"motion_outcome_created":return t.proposal(e.event.proposal());case"user_mentioned":return t.comment(e.event.comment());case"membership_requested":return t.route({model:e.event.membershipRequest().group(),action:"membership_requests"});case"user_added_to_group":return t.group(e.event.membership().group());case"membership_request_approved":return t.group(e.event.membership().group())}}}),angular.module("loomioApp").directive("notifications",function(){return{scope:{},restrict:"E",templateUrl:"generated/components/notifications/notifications.html",replace:!0,controller:function(e,t,o,r){var n,a,s,i;a=["comment_liked","motion_closing_soon","comment_replied_to","user_mentioned","membership_requested","membership_request_approved","user_added_to_group","motion_closed","motion_closing_soon","motion_outcome_created","invitation_accepted","new_coordinator"],n=function(e){return _.contains(a,e.event().kind)},s=o.notifications.collection.addDynamicView("notifications").applyWhere(n),e.notifications=function(){return s.data()},i=o.notifications.collection.addDynamicView("unread").applyWhere(n).applyFind({viewed:{$ne:!0}}),e.unreadNotifications=function(){return i.data()},e.broadcastThreadEvent=function(e){return t.$broadcast("threadPageEventsLoaded",e.event())},e.loading=function(){return!r.notificationsLoaded},e.toggled=function(e){return e?o.notifications.viewed():void 0},e.unreadCount=function(t){return function(){return e.unreadNotifications().length}}(this),e.hasUnread=function(t){return function(){return e.unreadCount()>0}}(this)}}}),angular.module("loomioApp").directive("outlet",function(e){return{restrict:"E",replace:!0,link:function(t,o,r){return _.map(window.Loomio.plugins.outlets[_.snakeCase(r.name)],function(r){return o.append(e("<"+_.snakeCase(r.component)+" />")(t))})}}}),angular.module("loomioApp").directive("pieWithPosition",function(){return{scope:{proposal:"="},restrict:"E",templateUrl:"generated/components/pie_with_position/pie_with_position.html",replace:!0,controller:function(e,t){return e.lastVoteByCurrentUser=function(e){return e.lastVoteByUser(t)}}}}),angular.module("loomioApp").directive("pieChart",function(){return{template:'<div class="pie-chart"></div>',replace:!0,scope:{votes:"="},restrict:"E",controller:function(e,t,o){return o(function(){var o,r,n,a,s,i,l,c;return c=t[0].offsetWidth,n=SVG(t[0]).size("100%","100%"),a=c/2,i=a,o=function(e,t){var o,r,n,s,l;return o=Math.PI/180,r=a+i*Math.cos(-e*o),n=a+i*Math.cos(-t*o),s=a+i*Math.sin(-e*o),l=a+i*Math.sin(-t*o),["M",a,a,"L",r,s,"A",i,i,0,+(t-e>180),0,n,l,"z"].join(" ")},s={yes:"#39A96F",abstain:"#FAA030",no:"#F15E72",block:"#CE261B"},l=[],r=function(e){return _.sum(e,function(e){return+(e>0)})},e.$watch("votes",function(){var t,a,i,p,u,d;switch(i=90,_.each(l,function(e){return e.remove()}),u=_.sum(e.votes),d=360/u,p=r(e.votes),a=_.sortBy(_.pairs(e.votes),function(e){return-e[1]}),p){case 0:return l.push(n.circle(c).attr({"stroke-width":0,fill:"#aaa"}));case 1:return t=a[0][0],l.push(n.circle(c).attr({"stroke-width":0,fill:s[t]}));default:return _.each(a,function(e){var r,a;return t=e[0],a=e[1],0!==a?(r=360/u*a,l.push(n.path(o(i,i+r)).attr({"stroke-width":0,fill:s[t]})),i+=r):void 0})}})})}}}),angular.module("loomioApp").controller("PreviousProposalsPageController",function(e,t,o,r,n){t.$broadcast("currentComponent",{page:"previousProposalsPage"}),r.groups.findOrFetchById(o.key).then(function(e){return function(t){return e.group=t}}(this)),r.proposals.fetchClosedByGroup(o.key)}),angular.module("loomioApp").directive("proposalClosingTime",function(){return{scope:{proposal:"="},restrict:"E",templateUrl:"generated/components/proposal_closing_time/proposal_closing_time.html",replace:!0}}),angular.module("loomioApp").directive("closingAtField",function(){return{scope:{proposal:"="},restrict:"E",templateUrl:"generated/components/proposal_form/closing_at_field.html",replace:!0,controller:function(e,t){var o,r,n;return e.hours=function(){for(r=[],o=1;24>=o;o++)r.push(o);return r}.apply(this),e.closingHour=e.proposal.closingAt.format("H"),e.closingDate=e.proposal.closingAt.toDate(),n=function(){return e.proposal.closingAt=moment(e.closingDate).startOf("day").add(e.closingHour,"hours")},e.$watch("closingDate",n),e.$watch("closingHour",n),e.hours=_.times(24,function(e){return e}),e.times=_.times(24,function(e){return 10>e&&(e="0"+e),moment("2015-01-01 "+e+":00").format("h a")}),e.dateToday=moment().format("YYYY-MM-DD"),e.timeZone=jstz.determine().name()}}}),angular.module("loomioApp").factory("ProposalForm",function(){return{templateUrl:"generated/components/proposal_form/proposal_form.html",controller:function(e,t,o,r,n,a,s){var i;return e.proposal=o.clone(),i=e.proposal.isNew()?"created":"updated",e.submit=r.submit(e,e.proposal,{flashSuccess:"proposal_form.messages."+i,allowDrafts:!0,successCallback:function(){return t.$broadcast("setSelectedProposal"),a.scrollTo("#current-proposal-card-heading")}}),e.descriptionSelector=".proposal-form__details-field",s.listen(e,e.proposal,"description",e.descriptionSelector),n.submitOnEnter(e)}}}),angular.module("loomioApp").controller("ProfilePageController",function(e,t,o,r,n,a,s,i,l,c,p,u){this.user=p,this.init=function(e){return function(){return c.use(e.user.locale)}}(this),this.init(),this.availableLocales=function(){return u.locales},this.submit=o.submit(this,this.user,{flashSuccess:"profile_page.messages.updated",submitFn:t.users.updateProfile,successCallback:this.init}),this.changePicture=function(){return a.open(s)},this.changePassword=function(){return a.open(i)},this.deactivateUser=function(){return a.open(l)},this.canDeactivateUser=function(){return n.canDeactivateUser()}}),angular.module("loomioApp").controller("ProposalRedirectController",function(e,t,o,r,n,a){t.$broadcast("currentComponent","proposalRedirect"),n.proposals.findOrFetchById(o.key).then(function(e){return function(e){return n.discussions.findOrFetchById(e.discussionId).then(function(t){var o;return o={proposal:e.key},null!=r.search().position&&(o.position=r.search().position),r.url(a.discussion(t,o))})}}(this))}),angular.module("loomioApp").factory("RegisteredAppForm",function(){return{templateUrl:"generated/components/registered_app_form/registered_app_form.html",controller:function(e,t,o,r,n,a,s){var i;return e.application=o.clone(),i=e.application.isNew()?"created":"updated",e.submit=n.submit(e,e.application,{flashSuccess:"registered_app_form.messages."+i,flashOptions:{name:function(){return e.application.name}},successCallback:function(o){return e.application.isNew()?t.path(a.oauthApplication(o.oauth_applications[0])):void 0}}),e.upload=n.upload(e,e.application,{flashSuccess:"registered_app_form.messages.logo_changed",submitFn:e.application.uploadLogo,loadingMessage:"common.action.uploading",skipClose:!0,successCallback:function(t){return e.application.logoUrl=t.data.oauth_applications[0].logo_url}}),e.clickFileUpload=function(){return document.querySelector(".registered-app-form__logo-input").click()},s.submitOnEnter(e)}}}),angular.module("loomioApp").controller("RegisteredAppPageController",function(e,t,o,r,n,a,s,i){this.init=function(e){return function(o){return o&&null==e.application?(e.application=o,t.$broadcast("currentComponent",{page:"oauthApplicationPage"}),t.$broadcast("setTitle",e.application.name)):void 0}}(this),this.init(r.oauthApplications.find(parseInt(o.id))),r.oauthApplications.findOrFetchById(parseInt(o.id)).then(this.init,function(e){return t.$broadcast("pageError",e)}),this.copied=function(){return n.success("common.copied")},this.openRemoveForm=function(){return a.open(i,{application:function(e){return function(){return e.application}}(this)})},this.openEditForm=function(){return a.open(s,{application:function(e){return function(){return e.application}}(this)})}}),angular.module("loomioApp").directive("proposalAccordian",function(){return{scope:{model:"=",selectedProposalId:"=?"},restrict:"E",templateUrl:"generated/components/proposal_accordian/proposal_accordian.html",replace:!0,controller:function(e,t){return e.$on("collapseProposal",function(t){return e.selectedProposalId=null}),e.selectProposal=function(t){return function(t){return e.selectedProposalId=t.id}}(this)}}}),angular.module("loomioApp").controller("RegisteredAppsPageController",function(e,t,o,r,n,a){t.$broadcast("currentComponent",{page:"registeredAppsPage"}),t.$broadcast("setTitle","OAuth Application Dashboard"),this.loading=!0,this.applications=function(){return o.oauthApplications.collection.data},o.oauthApplications.fetchOwned().then(function(e){return function(){return e.loading=!1}}(this)),this.openApplicationForm=function(e){return r.open(n,{application:function(){return o.oauthApplications.build()}})},this.openDestroyForm=function(e){return r.open(a,{application:function(){return e}})}}),angular.module("loomioApp").factory("RemoveAppForm",function(){return{templateUrl:"generated/components/remove_app_form/remove_app_form.html",controller:function(e,t,o,r){return e.application=o,e.submit=function(){return e.application.destroy().then(function(){return r.success("remove_app_form.messages.success",{name:e.application.name}),e.$close()},function(){return t.$broadcast("pageError","cantDestroyApplication",e.application),e.$close()})}}}}),angular.module("loomioApp").factory("RevokeAppForm",function(){return{templateUrl:"generated/components/revoke_app_form/revoke_app_form.html",controller:function(e,t,o,r){return e.application=o,e.submit=function(){return e.application.revokeAccess().then(function(){return r.success("revoke_app_form.messages.success",{name:e.application.name}),e.$close()},function(){return t.$broadcast("pageError","cantRevokeApplication",e.application),e.$close()})}}}}),angular.module("loomioApp").factory("RemoveMembershipForm",function(){return{templateUrl:"generated/components/remove_membership_form/remove_membership_form.html",controller:function(e,t,o,r,n,a){return e.membership=r,e.submit=function(){return e.membership.destroy().then(function(){return n.success("memberships_page.messages.remove_member_success",{name:e.membership.userName()}),e.$close(),e.membership.user()===a?t.path("/dashboard"):void 0},function(){return o.$broadcast("pageError","cantDestroyMembership",e.membership),e.$close()})}}}}),angular.module("loomioApp").directive("smartTime",function(){return{scope:{time:"="},restrict:"E",templateUrl:"generated/components/smart_time/smart_time.html",replace:!0,controller:function(e){var t,o,r,n,a,s;return s=moment(e.time),o=moment(),r=function(e){return e.year()===o.year()&&e.month()===o.month()&&e.date()===o.date()},n=function(e){return e.year()===o.year()&&e.month()===o.month()&&e.week()===o.week()},a=function(e){return e.year()===o.year()},t=function(){switch(!1){case!r(s):return"h:mm a";case!n(s):return"ddd";case!a(s):return"D MMM";default:return"MMM YYYY"}}(),e.value=s.format(t)}}}),angular.module("loomioApp").directive("starToggle",function(){return{scope:{thread:"="},restrict:"E",templateUrl:"generated/components/star_toggle/star_toggle.html",replace:!0,controller:function(e,t){e.isLoggedIn=t.isLoggedIn}}}),angular.module("loomioApp").factory("StartGroupForm",function(){return{templateUrl:"generated/components/start_group_form/start_group_form.html",controller:function(e,t,o,r,n,a,s,i,l){return e.group=r,e.submit=a.submit(e,e.group,e.group.isSubgroup()?{allowDrafts:!0,flashSuccess:"start_group_form.messages.success_when_subgroup",successCallback:function(e){return o.path("/g/"+e.groups[0].key)}}:{allowDrafts:!0,successCallback:function(e){return o.path("/g/"+e.groups[0].key),s.open(i)}}),l.submitOnEnter(e)}}}),angular.module("loomioApp").directive("startMenu",function(){return{scope:{},restrict:"E",templateUrl:"generated/components/start_menu/start_menu.html",replace:!0,controller:function(e){return e.$on("modalOpened",function(){return e.startMenuOpen=!1}),e.$on("currentComponent",function(){return e.currentGroup=null}),e.$on("viewingGroup",function(t,o){return e.currentGroup=o}),e.$on("viewingThread",function(t,o){return e.currentGroup=o.group()}),e.toggleStartMenu=function(){return e.startMenuOpen=!e.startMenuOpen}}}}),angular.module("loomioApp").directive("startMenuOption",function(){return{scope:{text:"@",icon:"@",action:"@",group:"=?",hotkey:"@?"},restrict:"E",templateUrl:"generated/components/start_menu/start_menu_option.html",replace:!0,controller:function(e,t,o,r,n,a,s,i,l){var c;return e.openModal=function(){switch(e.action){case"invitePeople":return t.open(o,{group:function(){return e.invitePeopleGroup()}});case"startGroup":return t.open(n,{group:function(){return a.groups.build()}});case"startThread":return t.open(r,{discussion:function(){return a.discussions.build({groupId:e.currentGroupId()})}})}},e.hotkey&&i.registerKeyEvent(e,e.hotkey,e.openModal),c=function(){return _.filter(l.groups(),function(e){return s.canAddMembers(e)})},e.invitePeopleGroup=function(){return e.group&&s.canAddMembers(e.group)?e.group:1===c().length?e.group=_.first(c()):a.groups.build()},e.currentGroupId=function(){return null!=e.group?e.group.id:void 0}}}}),angular.module("loomioApp").directive("startProposalButton",function(){return{scope:{discussion:"="},restrict:"E",templateUrl:"generated/components/start_proposal_button/start_proposal_button.html",replace:!0,controller:function(e,t,o,r,n){return e.canStartProposal=function(){return n.canStartProposal(e.discussion)},e.startProposal=function(){return o.open(r,{proposal:function(){return t.proposals.build({discussionId:e.discussion.id})}})}}}}),angular.module("loomioApp").directive("threadLintel",function(){return{restrict:"E",templateUrl:"generated/components/thread_lintel/thread_lintel.html",replace:!0,controller:function(e,t,o){return e.show=function(){return e.showLintel&&e.discussion},e.scrollToThread=function(){return o.scrollTo("h1")},e.scrollToProposal=function(){return o.scrollTo("section.current-proposal-card")},e.$on("currentComponent",function(t,o){return e.currentComponent=o.page}),e.$on("viewingThread",function(t,o){return e.discussion=o}),e.$on("showThreadLintel",function(t,o){return e.showLintel=o}),e.$on("proposalInView",function(t,o){return e.proposalInView=o}),e.$on("proposalButtonInView",function(t,o){return e.proposalButtonInView=o}),e.$on("threadPosition",function(t,o,r){return e.position=r,e.discussion=o,e.positionPercent=r/o.lastSequenceId*100})}}}),angular.module("loomioApp").controller("ThreadPageController",function(e,t,o,r,n,a,s,i,l,c,p,u,d,m,g,h,_,f,v,b){var y;r.$broadcast("currentComponent",{page:"threadPage"}),this.requestedProposalKey=t.proposal||o.search().proposal,this.requestedCommentId=parseInt(t.comment||o.search().comment),y=function(){var e;return(e=o.hash().match(/comment-(\d+)/))?(o.search().comment=e[1],o.hash("")):void 0}(),this.performScroll=function(){return u.scrollTo(this.elementToFocus(),150),this.openVoteModal()&&r.$broadcast("triggerVoteForm",o.search().position),this.openOutcomeModal()?i.open(b,{proposal:function(e){return function(){return e.proposal}}(this)}):void 0},this.openVoteModal=function(){return o.search().position&&this.discussion.hasActiveProposal()&&this.discussion.activeProposal().key===o.search().proposal&&d.canVoteOn(this.discussion.activeProposal())},this.openOutcomeModal=function(){return null!=t.outcome&&d.canSetOutcomeFor(this.proposal)},this.elementToFocus=function(){return this.proposal?"#proposal-"+this.proposal.key:this.comment?"#comment-"+this.comment.id:a.events.findByDiscussionAndSequenceId(this.discussion,this.sequenceIdToFocus)?".activity-card__last-read-activity":".thread-context"},this.threadElementsLoaded=function(){return this.eventsLoaded&&this.proposalsLoaded},this.init=function(e){return function(t){return t&&null==e.discussion?(e.discussion=t,e.sequenceIdToFocus=parseInt(o.search().from||e.discussion.lastReadSequenceId),e.pageWindow=h.windowFor({current:e.sequenceIdToFocus,min:e.discussion.firstSequenceId,max:e.discussion.lastSequenceId,pageType:"activityItems"}),r.$broadcast("viewingThread",e.discussion),r.$broadcast("setTitle",e.discussion.title),r.$broadcast("analyticsSetGroup",e.discussion.group()),r.$broadcast("currentComponent",{page:"threadPage",links:{canonical:_.discussion(e.discussion,{},{absolute:!0}),rss:e.discussion["private"]?void 0:_.discussion(e.discussion)+".xml",prev:null!=e.pageWindow.prev?_.discussion(e.discussion,{from:e.pageWindow.prev}):void 0,next:null!=e.pageWindow.next?_.discussion(e.discussion,{from:e.pageWindow.next}):void 0}})):void 0}}(this),this.init(a.discussions.find(t.key)),a.discussions.findOrFetchById(t.key).then(this.init,function(e){return r.$broadcast("pageError",e)}),e.$on("threadPageEventsLoaded",function(e){return function(t,o){return e.eventRequiresReload(o)&&n.location.reload(),e.eventsLoaded=!0,isNaN(e.requestedCommentId)||(e.comment=a.comments.find(e.requestedCommentId)),e.proposalsLoaded||!e.discussion.anyClosedProposals()?e.performScroll():void 0}}(this)),e.$on("threadPageProposalsLoaded",function(e){return function(t){return e.proposalsLoaded=!0,e.proposal=a.proposals.find(e.requestedProposalKey),r.$broadcast("setSelectedProposal",e.proposal),e.eventsLoaded?e.performScroll():void 0}}(this)),this.eventRequiresReload=function(e){return e&&e.discussion()===this.discussion&&!this.discussion.eventIsLoaded(e)},this.group=function(){return this.discussion.group()},this.showLintel=function(e){return r.$broadcast("showThreadLintel",e)},this.editThread=function(){return i.open(l,{discussion:function(e){return function(){return e.discussion}}(this)})},this.moveThread=function(){return i.open(c,{discussion:function(e){return function(){return e.discussion}}(this)})},this.deleteThread=function(){return i.open(p,{discussion:function(e){return function(){return e.discussion}}(this)})},this.showContextMenu=function(e){return function(){return e.canEditThread(e.discussion)}}(this),this.canStartProposal=function(){return d.canStartProposal(this.discussion)},this.openChangeVolumeForm=function(){return i.open(g,{model:function(e){return function(){return e.discussion}}(this)})},this.canChangeVolume=function(){return m.isMemberOf(this.discussion.group())},this.canEditThread=function(e){return function(){return d.canEditThread(e.discussion)}}(this),this.canMoveThread=function(e){return function(){return d.canMoveThread(e.discussion)}}(this),this.canDeleteThread=function(e){return function(){return d.canDeleteThread(e.discussion)}}(this),this.proposalInView=function(e){return r.$broadcast("proposalInView",e)},this.proposalButtonInView=function(e){return r.$broadcast("proposalButtonInView",e)},this.showRevisionHistory=function(){return i.open(v,{model:function(e){return function(){return e.discussion}}(this)})},f.listenForTranslations(e,this)}),angular.module("loomioApp").directive("threadPreview",function(){return{scope:{thread:"="},restrict:"E",templateUrl:"generated/components/thread_preview/thread_preview.html",replace:!0,controller:function(e,t,o,r,n,a,s){e.lastVoteByCurrentUser=function(e){return e.activeProposal().lastVoteByUser(o)},e.changeVolume=function(r){return o.hasMuted?(e.previousVolume=e.thread.volume(),e.thread.saveVolume(r).then(function(){return n.success("discussion.volume."+r+"_message",{name:e.thread.title},"undo",e.undo)})):(o.update({hasMuted:!0}),t.users.updateProfile(o).then(function(){return a.open(s,{thread:function(){return e.thread}})}))},e.undo=function(){return e.changeVolume(e.previousVolume)}}}}),angular.module("loomioApp").directive("threadPreviewCollection",function(){return{scope:{query:"=",limit:"=?"},restrict:"E",templateUrl:"generated/components/thread_preview_collection/thread_preview_collection.html",replace:!0,controller:function(e){return e.importance=function(e){var t;return t=e.hasActiveProposal()&&e.starred?-1e5:e.hasActiveProposal()?-1e4:e.starred?-1e3:-1,t*e.lastActivityAt}}}}),angular.module("loomioApp").directive("timeago",function(){return{scope:{timestamp:"="},restrict:"E",templateUrl:"generated/components/timeago/timeago.html",replace:!0}}),angular.module("loomioApp").directive("translateButton",function(){return{scope:{model:"=",showdot:"=?"},restrict:"E",templateUrl:"generated/components/translate_button/translate_button.html",replace:!0,controller:function(e,t,o,r,n){return e.canTranslate=function(){return o.canTranslate(e.model)&&!e.translateExecuting&&!e.translated},e.translate=function(){return t.translations.fetchTranslation(e.model,r.locale).then(function(t){return e.translated=!0,e.$emit("translationComplete",t.translations[0].fields)})},n.applyLoadingFunction(e,"translate")}}}),angular.module("loomioApp").directive("translation",function(){return{scope:{translation:"=",field:"@"},restrict:"E",templateUrl:"generated/components/translation/translation.html",replace:!0,controller:function(e){return e.translated=e.translation[e.field]}}}),angular.module("loomioApp").directive("userAvatar",function(){return{scope:{user:"=",coordinator:"=?",size:"@?"},restrict:"E",templateUrl:"generated/components/user_avatar/user_avatar.html",replace:!0,controller:function(e){var t;return t=["small","medium","large","featured"],_.contains(t,e.size)?void 0:e.size="small"}}}),angular.module("loomioApp").controller("UserPageController",function(e,t,o,r){e.$broadcast("currentComponent",{page:"userPage"}),this.init=function(e){return function(){return e.user?void 0:(e.user=(o.users.find(t.key)||o.users.find({username:t.key}))[0])?e.loadGroupsFor(e.user.key):void 0}}(this),this.loadGroupsFor=function(e){return o.memberships.fetchByUser(e)},r.applyLoadingFunction(this,"loadGroupsFor"),this.init(),o.users.findOrFetchById(t.key).then(this.init,function(t){return e.$broadcast("pageError",t)})}),angular.module("loomioApp").directive("validationErrors",function(){return{scope:{subject:"=",field:"@"},restrict:"E",templateUrl:"generated/components/validation_errors/validation_errors.html",replace:!0}}),angular.module("loomioApp").factory("MoveThreadForm",function(){return{templateUrl:"generated/components/move_thread_form/move_thread_form.html",controller:function(e,t,o,r,n,a,s){return e.discussion=o.clone(),e.availableGroups=function(){return _.filter(r.groups(),function(e){return e.id!==o.groupId})},e.submit=n.submit(e,e.discussion,{submitFn:e.discussion.move,flashSuccess:"move_thread_form.messages.success",flashOptions:{name:function(){return e.discussion.group().name}}}),e.updateTarget=function(){return e.targetGroup=a.groups.find(e.discussion.groupId)},e.updateTarget(),e.moveThread=function(){return e.discussion["private"]&&e.targetGroup.privacyIsOpen()?confirm(s.instant("move_thread_form.confirm_change_to_private_thread",{groupName:e.targetGroup.name}))?e.submit():void 0:e.submit()}}}}),angular.module("loomioApp").factory("MuteExplanationModal",function(){return{templateUrl:"generated/components/mute_explanation_modal/mute_explanation_modal.html",controller:function(e,t,o,r,n){return e.thread=t,e.previousVolume=e.thread.volume(),e.changeVolume=function(t){return e.thread.saveVolume(t).then(function(){return n.success("discussion.volume."+t+"_message",{name:e.thread.title},"undo",e.undo),e.$close()})},e.undo=function(){return e.changeVolume(e.previousVolume)}}}}),angular.module("loomioApp").directive("navbar",function(){return{scope:{},restrict:"E",templateUrl:"generated/components/navbar/navbar.html",replace:!0,controller:function(e,t,o,r,n,a,s){var i;return i=document.createElement("a"),i.href=a.baseUrl,e.officialLoomio=a.isLoomioDotOrg,e.hostName=i.hostname,e.isLoggedIn=function(){return s.isLoggedIn()},e.$on("currentComponent",function(t,o){return e.selected=o.page}),e.unreadThreadCount=function(){return n.filterQuery(["show_unread","only_threads_in_my_groups"],{queryType:"inbox"}).length()},e.homePageClicked=function(){return t.$broadcast("homePageClicked")},e.goToSignIn=function(){return o.location="/users/sign_in"}}}}),angular.module("loomioApp").directive("navbarSearch",function(){return{scope:{},restrict:"E",templateUrl:"generated/components/navbar/navbar_search.html",replace:!0,controller:function(e,t,o,r,n,a,s){var i;return e.searchResults=[],e.query="",e.focused=!1,e.highlighted=null,e.closeSearchDropdown=function(t){var r;return null!=t&&(r=t.currentTarget,(t.ctrlKey||t.metaKey)&&(r.target="_blank")),o(function(){return null!=r&&r.click(),e.focused=!1,e.query="",e.updateHighlighted(null)})},e.handleSearchBlur=function(){return t[0].contains(document.activeElement)?void 0:e.closeSearchDropdown()},e.showDropdown=function(){return e.focused&&(_.any(e.groups())||e.query)},i=function(){return document.querySelectorAll(".navbar-search-list-option")},e.highlightedSelection=function(){return i()[e.highlighted]},e.updateHighlighted=function(t){return e.highlighted=t,_.map(i(),function(e){return e.classList.remove("lmo-active")}),null!=e.highlightedSelection()?(e.highlightedSelection().firstChild.focus(),e.highlightedSelection().classList.add("lmo-active")):void 0},e.searchField=function(){return angular.element(document.querySelector("#primary-search-input"))[0]},e.shouldExecuteWithSearchField=function(t,o){return t===e.searchField()||s.defaultShouldExecute(t,o)},s.registerKeyEvent(e,"pressedEsc",function(){return e.searchField().blur(),e.query=""},e.shouldExecuteWithSearchField),s.registerKeyEvent(e,"pressedSlash",function(t){return e.searchField().focus(),e.query=""}),s.registerKeyEvent(e,"pressedEnter",function(){return e.highlightedSelection()?e.closeSearchDropdown(document.activeElement):void 0},e.shouldExecuteWithSearchField),s.registerKeyEvent(e,"pressedUpArrow",function(t){return isNaN(parseInt(e.highlighted))||0===e.highlighted?e.updateHighlighted(i().length-1):e.updateHighlighted(e.highlighted-1)},e.shouldExecuteWithSearchField),s.registerKeyEvent(e,"pressedDownArrow",function(t){return isNaN(parseInt(e.highlighted))||e.highlighted===i().length-1?e.updateHighlighted(0):e.updateHighlighted(e.highlighted+1)},e.shouldExecuteWithSearchField),e.clearAndFocusInput=function(){return e.closeSearchDropdown(),e.searchField().focus()},e.queryPresent=function(){return e.query.length>0},e.queryEmpty=function(){return 0===e.query.length},e.noResultsFound=function(){return!e.searching&&0===e.searchResults.length},e.groups=function(){return e.queryPresent()?_.filter(r.groups(),function(t){return _.all(_.words(e.query),function(e){return _.contains(t.fullName.toLowerCase(),e.toLowerCase())})}):r.groups()},e.getSearchResults=function(t){return null!=t?(e.updateHighlighted(null),e.currentSearchQuery=t,e.searching=!0,n.searchResults.fetchByFragment(e.query).then(function(){return e.searchResults=n.searchResults.find({query:t}),_.map(e.searchResults,function(e){return e.remove()}),e.currentSearchQuery===t?e.searching=!1:void 0})):void 0}}}}),angular.module("loomioApp").directive("navbarUserOptions",function(){return{scope:{group:"="
},restrict:"E",templateUrl:"generated/components/navbar/navbar_user_options.html",replace:!0,controller:function(e,t,o,r,n,a,s,i){return e.currentUser=o,e.helpLink=function(){return i.helpLink()},e.signOut=function(){return t.$broadcast("logout"),this.sessionClient=new n("sessions"),this.sessionClient.destroy("").then(function(){return r.location="/"})},e.showContactUs=function(){return s.isLoomioDotOrg},e.contactUs=function(){return a.contactUs()}}}}),angular.module("loomioApp").directive("searchResult",function(){return{scope:{result:"="},restrict:"E",templateUrl:"generated/components/navbar/search_result.html",replace:!0,controller:function(e,t,o){var r;r=function(e){return e.replace(/\/|\?|\*|\.|\(|\)/g,"")},e.rawDiscussionBlurb=function(){return r(e.result.blurb.replace(/\<\/?b\>/g,""))},e.showBlurbLeader=function(){return!r(e.result.description).match(RegExp("^"+e.rawDiscussionBlurb()))},e.showBlurbTrailer=function(){return!r(e.result.description).match(RegExp(e.rawDiscussionBlurb()+"$"))}}}}),angular.module("loomioApp").factory("CoverPhotoForm",function(){return{templateUrl:"generated/components/group_page/cover_photo_form/cover_photo_form.html",controller:function(e,t,o,r,n){return e.selectFile=function(){return t(function(){return document.querySelector(".cover-photo-form__file-input").click()})},e.upload=n.upload(e,o,{uploadKind:"cover_photo",submitFn:o.uploadPhoto,loadingMessage:"common.action.uploading",flashSuccess:"group_cover_modal.upload_success"})}}}),angular.module("loomioApp").directive("discussionsCard",function(){return{scope:{group:"="},restrict:"E",templateUrl:"generated/components/group_page/discussions_card/discussions_card.html",replace:!0,controller:function(e,t,o,r,n,a,s,i,l,c){return e.loaded=parseInt(t.search().from||0),e.perPage=25,e.canLoadMoreDiscussions=!0,e.discussions=[],e.updateDiscussions=function(t){return null==t&&(t={}),e.discussions=a.groupQuery(e.group,{filter:"all",queryType:"all"}),(t.discussions||[]).length<e.perPage?e.canLoadMoreDiscussions=!1:void 0},e.loadMore=function(){var t;return t={from:e.loaded,per:e.perPage},e.loaded+=e.perPage,o.discussions.fetchByGroup(e.group.key,t).then(e.updateDiscussions,function(){return e.canLoadMoreDiscussions=!1})},i.applyLoadingFunction(e,"loadMore"),e.loadMore(),e.openDiscussionForm=function(){return r.open(n,{discussion:function(){return o.discussions.build({groupId:e.group.id})}})},e.showThreadsPlaceholder=function(){return e.group.discussions().length<4},e.whyImEmpty=function(){return l.canViewGroup(e.group)?e.group.hasDiscussions?"private_only"===e.group.discussionPrivacyOptions?"discussions_are_private":"no_public_discussions":"no_discussions_in_group":"discussions_are_private"},e.howToGainAccess=function(){return e.group.hasDiscussions?"request"===e.group.membershipGrantedUpon?"join_group":"approval"===e.group.membershipGrantedUpon?"request_membership":e.group.membersCanAddMembers?"membership_is_invitation_only":"membership_is_invitation_by_admin_only":null},e.isMemberOfGroup=function(){return null!=c.membershipFor(e.group)}}}}),angular.module("loomioApp").directive("giftCard",function(){return{scope:{group:"="},restrict:"E",templateUrl:"generated/components/group_page/gift_card/gift_card.html",replace:!0,controller:function(e,t,o,r,n){return e.show=function(){return r.isMemberOf(e.group)&&"gift"===e.group.subscriptionKind&&null!=o.chargify},e.makeDonation=function(){return t.open(o.chargify.donation_url+"?"+n.encodedParams(e.group),"_blank"),!0}}}}),angular.module("loomioApp").directive("groupPreviousProposalsCard",function(){return{scope:{group:"="},restrict:"E",templateUrl:"generated/components/group_page/group_previous_proposals_card/group_previous_proposals_card.html",replace:!0,controller:function(e,t,o,r){return r.canViewPreviousProposals(e.group)&&o.proposals.fetchClosedByGroup(e.group.key).then(function(){return o.votes.fetchMyVotes(e.group)}),e.showPreviousProposals=function(){return r.canViewPreviousProposals(e.group)&&e.group.hasPreviousProposals()},e.lastVoteByCurrentUser=function(e){return e.lastVoteByUser(t)}}}}),angular.module("loomioApp").directive("groupActionsDropdown",function(){return{scope:{group:"="},restrict:"E",templateUrl:"generated/components/group_page/group_actions_dropdown/group_actions_dropdown.html",replace:!0,controllerAs:"groupActions",controller:function(e,t,o,r,n,a,s,i,l,c,p,u){this.canAdministerGroup=function(){return r.canAdministerGroup(e.group)},this.canEditGroup=function(t){return function(){return r.canEditGroup(e.group)}}(this),this.canManageGroupSubscription=function(){return r.canManageGroupSubscription(e.group)},this.canAddSubgroup=function(){return r.canCreateSubgroups(e.group)},this.canArchiveGroup=function(t){return function(){return r.canArchiveGroup(e.group)}}(this),this.canChangeVolume=function(){return r.canChangeGroupVolume(e.group)},this.openChangeVolumeForm=function(){return s.open(a,{model:function(){return e.group.membershipFor(n)}})},this.editGroup=function(){return s.open(i,{group:function(){return e.group}})},this.addSubgroup=function(){return s.open(i,{group:function(){return p.groups.build({parentId:e.group.id})}})},this.leaveGroup=function(){return s.open(l,{group:function(){return e.group}})},this.archiveGroup=function(){return s.open(c,{group:function(){return e.group}})},this.manageSubscriptions=function(){return t.open("https://www.billingportal.com/s/"+o.chargify.appName+"/login/magic","_blank"),!0},this.choosePlan=function(){return s.open(u,{group:function(){return e.group}})}}}}),angular.module("loomioApp").directive("groupHelpCard",function(){return{scope:{group:"="},restrict:"E",templateUrl:"generated/components/group_page/group_help_card/group_help_card.html",replace:!0,controller:function(e,t,o,r){return e.showVideo=o.loadVideos,e.helpLink=function(){return r.helpLink()},e.showHelpCard=function(){return t.isMemberOf(e.group)}}}}),angular.module("loomioApp").directive("groupPrivacyButton",function(){return{restrict:"E",templateUrl:"generated/components/group_page/group_privacy_button/group_privacy_button.html",replace:!0,scope:{group:"="},controller:function(e,t){return e.iconClass=function(){switch(e.group.groupPrivacy){case"open":return"fa-globe";case"closed":return"fa-lock";case"secret":return"fa-lock"}},e.privacyDescription=function(){return t.group(e.group)}}}}),angular.module("loomioApp").directive("joinGroupButton",function(){return{scope:{group:"="},restrict:"E",templateUrl:"generated/components/group_page/join_group_button/join_group_button.html",replace:!0,controller:function(e,t,o,r,n,a,s,i){return a.membershipRequests.fetchMyPendingByGroup(e.group.key),e.isMember=function(){return null!=n.membershipFor(e.group)},e.canJoinGroup=function(){return o.canJoinGroup(e.group)},e.canRequestMembership=function(){return o.canRequestMembership(e.group)},e.joinGroup=function(){return o.isLoggedIn()?a.memberships.joinGroup(e.group).then(function(){return s.success("join_group_button.messages.joined_group",{group:e.group.fullName})}):t.location="/users/sign_up?group_key="+e.group.key},e.requestToJoinGroup=function(){return r.open(i,{group:function(){return e.group}})},e.isLoggedIn=function(){return o.isLoggedIn()}}}}),angular.module("loomioApp").factory("GroupWelcomeModal",function(){return{shownToGroup:{},templateUrl:"generated/components/group_page/group_welcome_modal/group_welcome_modal.html",size:"group-welcome-modal",controller:function(e,t){return e.showVideo=t.loadVideos}}}),angular.module("loomioApp").directive("groupTheme",function(){return{scope:{group:"=",homePage:"=",compact:"="},restrict:"E",templateUrl:"generated/components/group_page/group_theme/group_theme.html",replace:!0,controller:function(e,t,o,r,n,a){return e.logoStyle=function(){return{"background-image":"url("+e.group.logoUrl()+")"}},e.coverStyle=function(){return{"background-image":"url("+e.group.coverUrl()+")","z-index":e.compact?-1:void 0}},e.isMember=function(){return null!=t.membershipFor(e.group)},e.canUploadPhotos=function(){return e.homePage&&o.canAdministerGroup(e.group)},e.openUploadCoverForm=function(){return r.open(n,{group:function(t){return function(){return e.group}}(this)})},e.openUploadLogoForm=function(){return r.open(a,{group:function(t){return function(){return e.group}}(this)})},e.themeHoverIn=function(){return e.themeHover=!0},e.themeHoverOut=function(){return e.themeHover=!1},e.logoHoverIn=function(){return e.logoHover=!0},e.logoHoverOut=function(){return e.logoHover=!1}}}}),angular.module("loomioApp").factory("LogoPhotoForm",function(){return{scope:{group:"="},templateUrl:"generated/components/group_page/logo_photo_form/logo_photo_form.html",controller:function(e,t,o,r,n){return e.selectFile=function(){return t(function(){return document.querySelector(".logo-photo-form__file-input").click()})},e.upload=n.upload(e,o,{uploadKind:"logo",submitFn:o.uploadPhoto,loadingMessage:"common.action.uploading",flashSuccess:"group_logo_modal.upload_success"})}}}),angular.module("loomioApp").directive("membersCard",function(){return{scope:{group:"="},restrict:"E",templateUrl:"generated/components/group_page/members_card/members_card.html",replace:!0,controller:function(e,t,o,r,n,a){return t.memberships.fetchByGroup(e.group.key,{per:10}),e.canAddMembers=function(){return o.canAddMembers(e.group)},e.isAdmin=function(){return o.canAdministerGroup(e.group)},e.canViewMemberships=function(){return o.canViewMemberships(e.group)},e.memberIsAdmin=function(t){return e.group.membershipFor(t).admin},e.showMembersPlaceholder=function(){return o.canAdministerGroup(e.group)&&e.group.memberships().length<=1},e.invitePeople=function(){return r.open(n,{group:function(){return e.group}})}}}}),angular.module("loomioApp").factory("MembershipRequestForm",function(){return{templateUrl:"generated/components/group_page/membership_request_form/membership_request_form.html",controller:function(e,t,o,r,n,a){e.membershipRequest=o.membershipRequests.build({groupId:r.id,name:a.name,email:a.email}),e.submit=t.submit(e,e.membershipRequest,{flashSuccess:"membership_request_form.messages.membership_requested",flashOptions:{group:r.fullName}}),e.isLoggedIn=n.isLoggedIn}}}),angular.module("loomioApp").directive("subgroupsCard",function(){return{scope:{group:"="},restrict:"E",templateUrl:"generated/components/group_page/subgroups_card/subgroups_card.html",replace:!0,controller:function(e,t,o,r,n){return t.groups.fetchByParent(e.group),e.canCreateSubgroups=function(){return o.canCreateSubgroups(e.group)},e.startSubgroup=function(){return r.open(n,{group:function(){return t.groups.build({parentId:e.group.id})}})},e.showSubgroupsCard=function(){return e.group.subgroups().length}}}}),angular.module("loomioApp").directive("membershipRequestsCard",function(){return{scope:{group:"="},restrict:"E",templateUrl:"generated/components/group_page/membership_requests_card/membership_requests_card.html",replace:!0,controller:function(e,t,o){return e.canManageMembershipRequests=function(){return o.canManageMembershipRequests(e.group)},e.canManageMembershipRequests()?t.membershipRequests.fetchPendingByGroup(e.group.key):void 0}}}),angular.module("loomioApp").factory("SubscriptionSuccessModal",function(){return{templateUrl:"generated/components/group_page/subscription_success_modal/subscription_success_modal.html",size:"subscription-success-modal",controller:function(e,t){return e.openIntercom=function(){return t.contactUs(),e.$close()}}}}),angular.module("loomioApp").directive("trialCard",function(){return{scope:{group:"="},restrict:"E",templateUrl:"generated/components/group_page/trial_card/trial_card.html",replace:!0,controller:function(e,t,o,r,n,a){return e.show=function(){return"trial"===e.group.subscriptionKind&&a.isAdminOf(e.group)&&null!=n.chargify},e.isExpired=function(){return moment().isAfter(e.group.subscriptionExpiresAt)},e.choosePlan=function(){return t.open(o,{group:function(){return e.group}})}}}}),angular.module("loomioApp").factory("AddMembersModal",function(){return{templateUrl:"generated/components/invitation_form/add_members_modal/add_members_modal.html",controller:function(e,t,o,r,n,a,s,i){return e.isDisabled=!1,e.group=r,e.loading=!0,e.selectedIds=[],e.load=function(){return t.memberships.fetchByGroup(r.parent().key,{per:500})},e.members=function(){return _.filter(r.parent().members(),function(e){return!e.isMemberOf(r)})},e.canAddMembers=function(){return e.members().length>0},o.applyLoadingFunction(e,"load"),e.load(),e.reopenInvitationsForm=function(){return s.open(i,{group:function(){return e.group}})},e.submit=function(){return e.isDisabled=!0,t.memberships.addUsersToSubgroup({groupId:e.group.id,userIds:e.selectedIds}).then(function(t){return 1===t.memberships.length?a.success("add_members_modal.user_added_to_subgroup",{name:t.users[0].name}):a.success("add_members_modal.users_added_to_subgroup",{count:t.memberships.length}),e.$close()})["finally"](function(){return e.isDisabled=!1})}}}}),angular.module("loomioApp").directive("adminMembershipsPanel",function(){return{scope:{memberships:"=",group:"="},restrict:"E",templateUrl:"generated/components/memberships_page/admin_memberships_panel/admin_memberships_panel.html",replace:!0,controller:"AdminMembershipsPanelController"}}),angular.module("loomioApp").controller("AdminMembershipsPanelController",function(e,t,o,r,n,a,s,i,l){return e.canRemoveMembership=function(e){return o.canRemoveMembership(e)},e.canToggleAdmin=function(t){return o.canAdministerGroup(e.group)&&(!t.admin||e.canRemoveMembership(t))},e.toggleAdmin=function(e){var o;return o=e.admin?"makeAdmin":"removeAdmin",e.admin||e.user()!==t||confirm(l("translate")("memberships_page.remove_admin_from_self.question"))?n.memberships[o](e).then(function(){return a.success("memberships_page.messages."+_.snakeCase(o)+"_success",{name:e.userName()})}):void(e.admin=!0)},e.openRemoveForm=function(e){return r.open(s,{membership:function(){return e}})},e.canAddMembers=function(){return o.canAddMembers(e.group)},e.invitePeople=function(){return r.open(i,{group:function(t){return function(){return e.group}}(this)})}}),angular.module("loomioApp").directive("pendingInvitationsCard",function(){return{scope:{group:"="},restrict:"E",templateUrl:"generated/components/memberships_page/pending_invitations_card/pending_invitations_card.html",replace:!0,controller:function(e,t,o,r,n,a){return e.canSeeInvitations=function(){return t.isAdminOf(e.group)},e.canSeeInvitations()&&o.invitations.fetchPendingByGroup(e.group.key,{per:1e3}),e.baseUrl=a.baseUrl,e.openCancelForm=function(e){return r.open(n,{invitation:function(){return e}})},e.invitationCreatedAt=function(e){return moment(e.createdAt).format("DD MMM YY")}}}}),angular.module("loomioApp").directive("membershipsPanel",function(){return{scope:{memberships:"=",group:"="},restrict:"E",templateUrl:"generated/components/memberships_page/memberships_panel/memberships_panel.html",replace:!0,controller:"AdminMembershipsPanelController"}}),angular.module("loomioApp").factory("CancelInvitationForm",function(){return{templateUrl:"generated/components/memberships_page/cancel_invitation_form/cancel_invitation_form.html",controller:function(e,t,o,r,n){return e.invitation=t,e.submit=n.submit(e,e.invitation,{submitFn:e.invitation.destroy,flashSuccess:"cancel_invitation_form.messages.success"})}}}),angular.module("loomioApp").directive("attachmentForm",function(){return{scope:{comment:"="},restrict:"E",templateUrl:"generated/components/thread_page/comment_form/attachment_form.html",replace:!0,controller:function(e,t,o,r){return e.upload=function(o){var n,a,s,i;for(i=[],a=0,s=o.length;s>a;a++)n=o[a],t.$broadcast("disableCommentForm"),e.currentUpload=r.attachments.upload(n,e.progress),i.push(e.currentUpload.then(e.success)["finally"](e.reset));return i},e.selectFile=function(){return o(function(){return document.querySelector(".attachment-form__file-input").click()})},e.progress=function(t){return e.percentComplete=Math.floor(100*t.loaded/t.total)},e.abort=function(){return e.currentUpload?e.currentUpload.abort():void 0},e.success=function(t){var o;return o=t.data||t,_.each(o.attachments,function(t){return e.comment.newAttachmentIds.push(t.id)})},e.reset=function(){return e.files=e.currentUpload=null,e.percentComplete=0,t.$broadcast("enableCommentForm")},e.reset()}}}),angular.module("loomioApp").directive("commentForm",function(){return{scope:{discussion:"="},restrict:"E",templateUrl:"generated/components/thread_page/comment_form/comment_form.html",replace:!0,controller:function(e,t,o,r,n,a,s,i,l){var c,p;return e.$on("disableCommentForm",function(){return e.submitIsDisabled=!0}),e.$on("enableCommentForm",function(){return e.submitIsDisabled=!1}),e.showCommentForm=function(){return s.canAddComment(e.discussion)},e.threadIsPublic=function(){return e.discussion["private"]===!1},e.threadIsPrivate=function(){return e.discussion["private"]===!0},c=function(){return e.comment.isReply()?"comment_form.messages.replied":"comment_form.messages.created"},p=function(){return e.comment.isReply()?e.comment.parent().authorName():void 0},e.init=function(){return e.comment=r.comments.build({discussionId:e.discussion.id}),e.submit=o.submit(e,e.comment,{allowDrafts:!0,submitFn:e.comment.save,flashSuccess:c,flashOptions:{name:p},successCallback:e.init}),a.submitOnEnter(e)},e.init(),e.$on("replyToCommentClicked",function(t,o){return e.comment.parentId=o.id,i.scrollTo(".comment-form__comment-field")}),e.$on("attachmentRemoved",function(t,o){var r;return r=e.comment.newAttachmentIds,r.splice(r.indexOf(o),1)}),e.bodySelector=".comment-form__comment-field",l.listen(e,e.comment,"body",e.bodySelector),e.updateMentionables=function(t){var o,r;return r=new RegExp("(^"+t+"| +"+t+")","i"),o=_.filter(e.discussion.group().members(),function(e){return e.id===n.id?!1:r.test(e.name)||r.test(e.username)}),e.mentionables=o.slice(0,5)},e.fetchByNameFragment=function(t){return e.updateMentionables(t),r.memberships.fetchByNameFragment(t,e.discussion.group().key).then(function(){return e.updateMentionables(t)})}}}}),angular.module("loomioApp").factory("DeleteCommentForm",function(){return{templateUrl:"generated/components/thread_page/comment_form/delete_comment_form.html",controller:function(e,t,o,r){return e.comment=r,e.submit=function(){return e.comment.destroy().then(function(){return e.$close(),o.events.find({commentId:e.comment.id})[0]["delete"]()},function(){return t.$broadcast("pageError","cantDeleteComment")})}}}}),angular.module("loomioApp").factory("EditCommentForm",function(){return{templateUrl:"generated/components/thread_page/comment_form/edit_comment_form.html",controller:function(e,t,o,r){return e.comment=t.clone(),e.submit=o.submit(e,e.comment,{flashSuccess:"comment_form.messages.updated"}),e.bodySelector=".edit-comment-form__comment-field",r.listen(e,e.comment,"body",e.bodySelector)}}}),angular.module("loomioApp").directive("currentProposalCard",function(){return{scope:{proposal:"="},restrict:"E",templateUrl:"generated/components/thread_page/current_proposal_card/current_proposal_card.html",replace:!0}}),angular.module("loomioApp").directive("activityCard",function(){return{scope:{discussion:"=",activeCommentId:"=?"},restrict:"E",templateUrl:"generated/components/thread_page/activity_card/activity_card.html",replace:!0,controller:function(e,t,o,r,n,a,s,i){var l,c,p,u;e.firstLoadedSequenceId=0,e.lastLoadedSequenceId=0,e.lastReadSequenceId=e.discussion.lastReadSequenceId,e.hasNewActivity=e.discussion.isUnread(),e.pagination=function(t){return s.windowFor({current:t,min:e.discussion.firstSequenceId,max:e.discussion.lastSequenceId,pageType:"activityItems"})},u=[],e.init=function(){return e.discussion.markAsRead(0),e.loadEventsForwards({commentId:e.activeCommentId,sequenceId:e.initialLoadSequenceId()}).then(function(){return o.$broadcast("threadPageEventsLoaded")})},e.initialLoadSequenceId=function(){return t.search().from?t.search().from:a.isLoggedIn()?e.discussion.isUnread()?e.discussion.lastReadSequenceId-5:e.pagination(e.discussion.lastSequenceId).prev:0},e.beforeCount=function(){return e.firstLoadedSequenceId-e.discussion.firstSequenceId},p=function(){return u=_.uniq(u),o.$broadcast("threadPosition",e.discussion,_.max(u))},l=function(e){return u.push(e),p()},c=function(e){return u=_.without(u,e),p()},e.threadItemHidden=function(e){return c(e.sequenceId)},e.threadItemVisible=function(t){return l(t.sequenceId),e.discussion.markAsRead(t.sequenceId),e.loadMoreAfterReading(t)?e.loadEventsForwards({sequenceId:e.lastLoadedSequenceId}):void 0},e.loadEvents=function(t){var o,n,a;return n=t.from,a=t.per,o=t.commentId,null==n&&(n=0),a=a||e.pagination().pageSize,r.events.fetchByDiscussion(e.discussion.key,{from:n,per:a,comment_id:o}).then(function(){return e.firstLoadedSequenceId=e.discussion.minLoadedSequenceId(),e.lastLoadedSequenceId=e.discussion.maxLoadedSequenceId()})},e.loadEventsForwards=function(t){var o,r;return o=t.commentId,r=t.sequenceId,e.loadEvents({commentId:o,from:r})},i.applyLoadingFunction(e,"loadEventsForwards"),e.loadEventsBackwards=function(){return e.loadEvents({from:e.pagination(e.firstLoadedSequenceId).prev})},i.applyLoadingFunction(e,"loadEventsBackwards"),e.canLoadBackwards=function(){return e.firstLoadedSequenceId>e.discussion.firstSequenceId&&!(e.loadEventsForwardsExecuting||e.loadEventsBackwardsExecuting)},e.loadMoreAfterReading=function(t){return t.sequenceId===e.lastLoadedSequenceId&&t.sequenceId<e.discussion.lastSequenceId},e.safeEvent=function(e){return _.contains(n.safeThreadItemKinds,e)},e.events=function(){return _.filter(e.discussion.events(),function(t){return e.safeEvent(t.kind)})},e.noEvents=function(){return!e.loadEventsForwardsExecuting&&!_.any(e.events())},e.init()}}}),angular.module("loomioApp").controller("DiscussionEditedItemController",function(e){var t,o;return t=e.event.discussion(),o=e.event.version(),e.title=o.attributeEdited("title")?o.changes.title[1]:"",e.onlyPrivacyEdited=function(){return o.attributeEdited("private")&&!o.attributeEdited("title")&&!o.attributeEdited("description")},e.privacyKey=function(){return e.onlyPrivacyEdited()?o.changes["private"][1]?"discussion_edited_item.public_to_private":"discussion_edited_item.private_to_public":void 0},e.actorName=e.event.actorName(),e.translationKey=o.editedAttributeNames().join("_")}),angular.module("loomioApp").controller("DiscussionMovedItemController",function(e){return e.groupName=e.event.group().name}),angular.module("loomioApp").controller("MotionClosedItemController",function(e){return e.actorName=event.actorName(),e.title=e.event.proposal().name}),angular.module("loomioApp").controller("MotionClosedItemController",function(e){return e.proposal=e.event.proposal()}),angular.module("loomioApp").controller("MotionEditedItemController",function(e){var t,o;return o=e.event.version(),t=o.proposal(),e.closingAt=o.attributeEdited("closing_at")?moment(o.changes.closing_at[1]).format("ha dddd, Do MMMM YYYY"):null,e.title=o.attributeEdited("name")?o.changes.name[1]:t.name,e.translationKey=o.editedAttributeNames().join("_")}),angular.module("loomioApp").controller("MotionOutcomeCreatedItemController",function(e){return e.proposal=e.event.proposal()}),angular.module("loomioApp").controller("MotionOutcomeUpdatedItemController",function(e){return e.proposal=e.event.proposal()}),angular.module("loomioApp").controller("NewCommentItemController",function(e,t,o,r,n,a,s,i,l,c,p){var u,d;return u=function(){var t,r,a,s,i;if(a=_.without(e.comment.likerIds,n.id),i=_.filter(e.comment.likers(),function(e){return _.contains(a,e.id)}),s=_.map(i,function(e){return e.name}),e.currentUserLikesIt())switch(s.length){case 0:return o("discussion.you_like_this").then(d);case 1:return o("discussion.liked_by_you_and_someone",{name:s[0]}).then(d);default:return t=s.slice(0,-1).join(", "),r=s.slice(-1)[0],o("discussion.liked_by_you_and_others",{joinedNames:t,name:r}).then(d)}else switch(s.length){case 0:return"";case 1:return o("discussion.liked_by_someone",{name:s[0]}).then(d);case 2:return o("discussion.liked_by_two_others",{name_1:s[0],name_2:s[1]}).then(d);default:return t=s.slice(0,-1).join(", "),r=s.slice(-1)[0],o("discussion.liked_by_many_others",{joinedNames:t,name:r}).then(d)}},e.comment=e.event.comment(),e.editComment=function(){return a.open(s,{comment:function(){return e.comment}})},e.deleteComment=function(){return a.open(i,{comment:function(){return e.comment}})},e.showContextMenu=function(){return e.canEditComment(e.comment)||e.canDeleteComment(e.comment)},e.canEditComment=function(){return l.canEditComment(e.comment)},e.canDeleteComment=function(){return l.canDeleteComment(e.comment)},e.showCommentActions=function(){return l.canRespondToComment(e.comment)},e.like=function(){return e.addLiker(),r.comments.like(n,e.comment).then(function(){},e.removeLiker)},e.unlike=function(){return e.removeLiker(),r.comments.unlike(n,e.comment).then(function(){},e.addLiker)},e.currentUserLikesIt=function(){return _.contains(e.comment.likerIds,n.id)},e.anybodyLikesIt=function(){return e.comment.likerIds.length>0},e.likedBySentence="",d=function(t){return e.likedBySentence=t},e.addLiker=function(){return e.comment.addLiker(n),u()},e.removeLiker=function(){return e.comment.removeLiker(n),u()},e.$watch("comment.likerIds",function(){return u()}),e.reply=function(){return t.$broadcast("replyToCommentClicked",e.comment)},e.showRevisionHistory=function(){return a.open(p,{model:function(t){return function(){return e.comment}}(this)})},c.listenForTranslations(e)}),angular.module("loomioApp").controller("NewVoteItemController",function(e,t){var o;return o=e.event.vote(),e.vote=o,t.listenForTranslations(e)}),angular.module("loomioApp").factory("CloseProposalForm",function(){return{templateUrl:"generated/components/thread_page/close_proposal_form/close_proposal_form.html",controller:function(e,t,o,r){return e.proposal=r,e.submit=o.submit(e,e.proposal,{submitFn:e.proposal.close,flashSuccess:"close_proposal_form.messages.success",successCallback:function(){return t.$broadcast("setSelectedProposal")}})}}}),angular.module("loomioApp").factory("ExtendProposalForm",function(){return{templateUrl:"generated/components/thread_page/extend_proposal_form/extend_proposal_form.html",controller:function(e,t,o){return e.proposal=t.clone(),e.submit=function(){return e.proposal.save().then(function(){return e.$close(),o.success("extend_proposal_form.success")})},e.cancel=function(t){return e.$close()}}}}),angular.module("loomioApp").directive("previousProposalsCard",function(){return{scope:{discussion:"="},restrict:"E",templateUrl:"generated/components/thread_page/previous_proposals_card/previous_proposals_card.html",replace:!0,controller:function(e,t,o){var r;o.votes.fetchMyVotes(e.discussion),o.proposals.fetchByDiscussion(e.discussion).then(function(){return t.$broadcast("threadPageProposalsLoaded")}),r=function(){var t;if(e.anyProposals()&&!e.discussion.hasActiveProposal())return t=e.discussion.closedProposals()[0],moment().add(-1,"month")<t.closedAt?t:void 0},e.$on("setSelectedProposal",function(t,o){return e.selectedProposalId=(o||r()||{}).id}),e.anyProposals=function(){return e.discussion.closedProposals().length>0}}}}),angular.module("loomioApp").directive("proposalCollapsed",function(){return{scope:{proposal:"="},restrict:"E",templateUrl:"generated/components/thread_page/proposal_collapsed/proposal_collapsed.html",replace:!0,controller:function(e,t){return e.lastVoteByCurrentUser=function(e){return e.lastVoteByUser(t)}}}}),angular.module("loomioApp").directive("positionButtonsPanel",function(){return{scope:{proposal:"="},restrict:"E",templateUrl:"generated/components/thread_page/position_buttons_panel/position_buttons_panel.html",replace:!0,controller:function(e,t,o,r,n,a){return e.showPositionButtons=function(){return a.canVoteOn(e.proposal)&&e.undecided()},e.undecided=function(){return!(null!=e.proposal.lastVoteByUser(r))},e.$on("triggerVoteForm",function(t,o){var n;return n=e.proposal.lastVoteByUser(r)||{},e.select(o,n.statement)}),e.select=function(r){return t.open(o,{vote:function(){return n.votes.build({proposalId:e.proposal.id,position:r})}})}}}}),angular.module("loomioApp").directive("proposalExpanded",function(){return{scope:{proposal:"=",canCollapse:"="},restrict:"E",templateUrl:"generated/components/thread_page/proposal_expanded/proposal_expanded.html",replace:!0,controller:function(e,t,o,r,n){return t.votes.fetchByProposal(e.proposal),e.collapse=function(){return e.$emit("collapseProposal")},e.showActionsDropdown=function(){return r.canCloseOrExtendProposal(e.proposal)},e.onlyVoterIsYou=function(){var t;return t=e.proposal.uniqueVotes(),1===t.length&&t[0].authorId===o.id},e.currentUserHasVoted=function(){return e.proposal.userHasVoted(o)},e.currentUserVote=function(){return e.proposal.lastVoteByUser(o)},e.showOutcomePanel=function(){return e.proposal.hasOutcome()||r.canCreateOutcomeFor(e.proposal)},n.listenForTranslations(e)}}}),angular.module("loomioApp").factory("ProposalOutcomeForm",function(){return{templateUrl:"generated/components/thread_page/proposal_outcome_form/proposal_outcome_form.html",controller:function(e,t,o,r){return e.proposal=t.clone(),e.hasOutcome=t.hasOutcome(),e.submit=o.submit(e,e.proposal,e.hasOutcome?{submitFn:e.proposal.updateOutcome,flashSuccess:"proposal_outcome_form.messages.updated"}:{submitFn:e.proposal.createOutcome,flashSuccess:"proposal_outcome_form.messages.created"},e.outcomeSelector=".proposal-form__outcome-field",r.listen(e,e.proposal,"outcome",e.outcomeSelector))}}}),angular.module("loomioApp").directive("proposalPositionsPanel",function(){return{scope:{proposal:"="},restrict:"E",templateUrl:"generated/components/thread_page/proposal_positions_panel/proposal_positions_panel.html",replace:!0,controller:function(e,t,o,r,n,a){var s;return e.undecidedPanelOpen=!1,e.changeVote=function(){return r.open(n,{vote:function(){return e.proposal.lastVoteByUser(o).clone()}})},s=function(t){var o;return o={yes:1,abstain:2,no:3,block:4},e.voteIsMine(t)?0:o[t.position]},e.curatedVotes=function(){return _.sortBy(e.proposal.uniqueVotes(),function(e){return s(e)})},e.voteIsMine=function(e){return e.authorId===o.id},e.showChangeVoteOption=function(t){return a.canVoteOn(e.proposal)&&e.voteIsMine(t)},e.showUndecided=function(){return e.undecidedPanelOpen=!0}}}}),angular.module("loomioApp").directive("proposalOutcomePanel",function(){return{scope:{proposal:"="},restrict:"E",templateUrl:"generated/components/thread_page/proposal_outcome_panel/proposal_outcome_panel.html",replace:!0,controller:function(e,t,o,r){e.canCreateOutcome=function(){return t.canCreateOutcomeFor(e.proposal)},e.openProposalOutcomeForm=function(){return o.open(r,{proposal:function(t){return function(){return e.proposal}}(this)})},e.canUpdateOutcome=function(){return t.canUpdateOutcomeFor(e.proposal)}}}}),angular.module("loomioApp").directive("proposalsCard",function(){return{scope:{},bindToController:{discussion:"="},restrict:"E",templateUrl:"generated/components/thread_page/proposals_card/proposals_card.html",replace:!0,controllerAs:"proposalsCard",controller:function(e,t){e.proposals.fetchByDiscussion(this.discussion),e.votes.fetchMyVotes(this.discussion),this.isExpanded=function(e){return null!=this.selectedProposal?e.id===this.selectedProposal.id:e.isActive()},this.selectProposal=function(e){return function(t){return e.selectedProposal=t}}(this),this.canStartProposal=function(e){return function(){return AbilityService.canStartProposal(e.discussion)}}(this)}}}),angular.module("loomioApp").factory("RevisionHistoryModal",function(){return{templateUrl:"generated/components/thread_page/revision_history_modal/revision_history_modal.html",controller:function(e,t,o,r,n){e.model=t,e.loading=!0,e.load=function(){switch(e.model.constructor.singular){case"discussion":return r.versions.fetchByDiscussion(e.model.key);case"comment":return r.versions.fetchByComment(e.model.id)}},e.header=function(){switch(e.model.constructor.singular){case"discussion":return"revision_history_modal.thread_header";
case"comment":return"revision_history_modal.comment_header"}}(),e.discussionRevision=function(){return"discussion"===e.model.constructor.singular},e.commentRevision=function(){return"comment"===e.model.constructor.singular},e.threadTitle=function(t){return e.model.attributeForVersion("title",t)},e.revisionBody=function(t){switch(e.model.constructor.singular){case"discussion":return e.model.attributeForVersion("description",t);case"comment":return e.model.attributeForVersion("body",t)}},e.threadDetails=function(e){return e.isOriginal()?"revision_history_modal.started_by":"revision_history_modal.edited_by"},e.versionCreatedAt=function(e){return moment(e).format("Do MMMM YYYY, h:mma")},n.applyLoadingFunction(e,"load"),e.load()}}}),angular.module("loomioApp").directive("undecidedPanel",function(){return{scope:{proposal:"="},restrict:"E",templateUrl:"generated/components/thread_page/undecided_panel/undecided_panel.html",replace:!0,controller:function(e,t,o){return e.undecidedPanelOpen=!1,e.showUndecided=function(){return e.proposal.fetchUndecidedMembers(),e.undecidedPanelOpen=!0,t(function(){return document.querySelector(".undecided-panel__heading").focus()})},e.hideUndecided=function(){return e.undecidedPanelOpen=!1}}}}),angular.module("loomioApp").factory("VoteForm",function(){return{templateUrl:"generated/components/thread_page/vote_form/vote_form.html",controller:function(e,t,o,r,n,a,s){return e.vote=t.clone(),e.editing=!1,e.$on("modal.closing",function(t){return n.confirmDiscardChanges(t,e.vote)}),e.submit=n.submit(e,e.vote,{flashSuccess:"vote_form.messages.created"}),e.yourLastVote=function(){return e.vote.proposal().lastVoteByUser(o)},e.statementSelector=".vote-form__statement-field",s.listen(e,e.vote,"statement",e.statementSelector),a.submitOnEnter(e)}}}),angular.module("loomioApp").factory("ChoosePlanModal",function(){return{templateUrl:"generated/components/group_page/trial_card/choose_plan_modal/choose_plan_modal.html",size:"choose-plan-modal",controller:function(e,t,o,r,n,a,s,i){return e.group=t,e.chooseGiftPlan=function(){return o.open(r,{group:function(){return e.group}})},e.choosePaidPlan=function(t){return s.location=""+a.chargify.host+a.chargify.plans[t].path+"?"+n.encodedParams(e.group)},e.openIntercom=function(){return i.contactUs(),e.$close()}}}}),angular.module("loomioApp").factory("ConfirmGiftPlanModal",function(){return{templateUrl:"generated/components/group_page/trial_card/confirm_gift_plan_modal/confirm_gift_plan_modal.html",size:"confirm-gift-plan-modal",controller:function(e,t,o,r,n){return e.group=t,e.choosePlan=function(){return o.open(r,{group:function(){return e.group}})},e.submit=function(){return e.group.remote.postMember(t.key,"use_gift_subscription").then(function(){return o.open(n,{group:function(){return e.group}}),e.$close()})}}}}),angular.module("loomioApp").factory("DonationModal",function(){return{templateUrl:"generated/components/group_page/trial_card/donation_modal/donation_modal.html",size:"confirm-gift-plan-modal",controller:function(e,t,o,r,n){return e.group=t,e.makeDonation=function(){return o.open(r.chargify.donation_url+"?"+n.encodedParams(e.group),"_blank"),!0}}}}),angular.module("loomioApp").directive("proposalActionsDropdown",function(){return{scope:{proposal:"="},restrict:"E",templateUrl:"generated/components/thread_page/current_proposal_card/proposal_actions_dropdown/proposal_actions_dropdown.html",replace:!0,controller:function(e,t,o,r,n,a){e.canCloseOrExtendProposal=function(){return r.canCloseOrExtendProposal(e.proposal)},e.canEditProposal=function(){return r.canEditProposal(e.proposal)},e.editProposal=function(){return t.open(o,{proposal:function(){return e.proposal.clone()}})},e.closeProposal=function(){return t.open(n,{proposal:function(){return e.proposal}})},e.extendProposal=function(){return t.open(a,{proposal:function(){return e.proposal}})}}}}),angular.module("loomioApp").run(["$templateCache",function(e){e.put("generated/components/archive_group_form/archive_group_form.html",'<form ng-submit="submit()"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="group_page.deactivate_group.title" class="lmo-h1"></h1></div><div class="modal-body"><span translate="group_page.deactivate_group.question"></span></div><div class="modal-footer"><button type="submit" translate="group_page.deactivate_group.submit" class="lmo-btn--submit archive-group-form__submit"></button><button ng-click="$close()" type="button" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></form>'),e.put("generated/components/attachment_preview/attachment_preview.html",'<div class="blank"> <a lmo-href="{{attachment.original}}" target="_blank" class="attachment-preview__link"><div ng-if="mode == \'thread\'" class="attachment-preview attachment-preview--thread"><div ng-if="attachment.isAnImage" class="attachment-preview__image"><img ng-src="{{location()}}" alt="{{ \'activity_card.attachment_display.image_alt\' | translate }}"></div><div ng-class="{\'attachment-preview__file--image\': attachment.isAnImage}" class="attachment-preview__file attachment-preview__file--thread"> <i class="fa fa-lg fa-paperclip"></i>  <span>{{attachment.filename}}</span> <span>{{attachment.formattedFilesize()}}</span></div></div><div ng-if="mode == \'thumb\'" title="{{attachment.filename}}" class="attachment-preview attachment-preview--thumb"><img ng-if="attachment.isAnImage" ng-src="{{location()}}" alt="{{ \'activity_card.attachment_display.image_alt\' | translate }}" class="attachment-preview__image"><div ng-if="!attachment.isAnImage" class="attachment-preview__file attachment-preview__file--thumb"><i class="fa fa-lg fa-paperclip"></i></div><button ng-if="!attachment.commentId" ng-click="destroy($event)" title="{{ \'comment_form.attachments.remove_attachment\' | translate }}" class="close attachment-preview__destroy"><span aria-hidden="true">&times;</span></button></div></a> </div>'),e.put("generated/components/authorized_apps_page/authorized_apps_page.html",'<div class="lmo-one-column-layout"><loading ng-show="authorizedAppsPage.loading"></loading><main ng-if="!authorizedAppsPage.loading" class="authorized-apps-page"><h1 translate="authorized_apps_page.title" class="lmo-h1"></h1><hr><div ng-if="authorizedAppsPage.applications().length == 0" translate="authorized_apps_page.no_applications" class="lmo-placeholder"></div><div ng-if="authorizedAppsPage.applications().length &gt; 0" class="authorized-apps-page__table"><div translate="authorized_apps_page.notice" class="lmo-placeholder"></div><div ng-repeat="application in authorizedAppsPage.applications() | orderBy: \'name\' track by application.id" class="row authorized-apps-page__table-row"><div class="col-xs-1 align-right"> <img ng-src="{{application.logoUrl}}" class="authorized-apps-page__avatar"> </div><div class="col-xs-7"><div class="authorized-apps-page__name">{{ application.name }}</div></div><div class="col-xs-4 align-center"><button ng-click="authorizedAppsPage.openRevokeForm(application)" class="lmo-btn--danger"><span translate="authorized_apps_page.revoke"></span></button></div><div class="clearfix"></div></div></div></main></div>'),e.put("generated/components/change_password_form/change_password_form.html",'<form ng-submit="submit()"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="profile_page.change_password.title" class="lmo-h1"></h1></div><div class="modal-body"><div translate="profile_page.change_password.helptext"></div><label for="user-current-password-field" translate="profile_page.change_password.current_password_label"></label><input type="password" ng-model="user.currentPassword" class="profile-page__current-password-input form-control" id="user-current-password-field"><validation_errors subject="user" field="currentPassword"></validation_errors><label for="user-new-password-field" translate="profile_page.change_password.new_password_label"></label><input type="password" ng-model="user.password" class="profile-page__new-password-input form-control" id="user-new-password-field"><validation_errors subject="user" field="password"></validation_errors><label for="user-password-confirmation-field" translate="profile_page.change_password.password_confirmation_label"></label><input type="password" ng-model="user.passwordConfirmation" class="profile-page__password-confirmation-input form-control" id="user-password-confirmation-field"><validation_errors subject="user" field="confirmPassword"></validation_errors></div><div class="modal-footer"><button type="submit" translate="profile_page.change_password.submit" class="lmo-btn--submit"></button><button ng-click="$close()" type="button" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></form>'),e.put("generated/components/change_picture_form/change_picture_form.html",'<div class="change-picture-form"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="profile_page.change_picture.title" class="lmo-h1"></h1></div><div class="modal-body"><div translate="profile_page.change_picture.helptext" class="change-picture-form__helptext"></div><ul class="change-picture-form__options-list"><li class="change-picture-form__option"><button ng-click="submit(\'initials\')" class="lmo-btn-link"><div class="user-avatar lmo-box--small option-icon lmo-float--left"><div class="user-avatar__initials--small">{{user.avatarInitials}}</div></div><span translate="profile_page.change_picture.use_initials" class="lmo-option-text"></span></button></li><li class="change-picture-form__option"><button ng-click="submit(\'gravatar\')" class="lmo-btn-link"><div class="user-avatar lmo-box--small option-icon lmo-float--left"><img gravatar-src-once="user.gravatarMd5" alt="{{::user.name}}" class="user-avatar__image--small"></div><span translate="profile_page.change_picture.use_gravatar" class="lmo-option-text"></span></button></li><li class="change-picture-form__option"><button ng-click="selectFile()" class="lmo-btn-link change-picture-form__upload-button"><div class="user-avatar lmo-box--small option-icon lmo-float--left"><div class="user-avatar__initials--small"><i class="fa fa-lg fa-camera"></i></div></div><span translate="profile_page.change_picture.use_uploaded" class="lmo-option-text"></span></button><input type="file" ng-model="files" ng-file-select="upload(files)" class="hidden change-picture-form__file-input"></li></ul></div><div class="modal-footer"><button ng-click="$close()" type="button" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></div>'),e.put("generated/components/change_volume_form/change_volume_form.html",'<div class="change-volume-form"><div ng-show="isDisabled" class="lmo-disabled-form"></div><form ng-submit="submit()"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="{{translateKey()}}.title" translate-value-title="{{model.title || model.groupName()}}" class="lmo-h1 change-volume-form__title"></h1></div><div class="modal-body"><ul class="change-volume-form__list"><li ng-repeat="level in volumeLevels" class="change-volume-form__option"><input id="volume-{{level}}" type="radio" ng-model="buh.volume" name="volume" value="{{level}}" class="change-volume-form__input"><label for="volume-{{level}}" class="change-volume-form__label"><strong translate="change_volume_form.{{level}}_label"></strong><p translate="{{translateKey()}}.{{level}}_description" class="change-volume-form__description"></p></label></li></ul><input type="checkbox" ng-model="applyToAll" class="change-volume-form__apply-to-all" id="apply-to-all"><label for="apply-to-all" translate="{{translateKey()}}.apply_to_all" class="change-volume-form__apply-to-all-label"></label></div><div class="modal-footer"><a href="https://loomio.gitbooks.io/manual/content/en/keeping_up_to_date.html" translate="common.help" target="_blank" class="change-volume-form__help"></a><button type="submit" ng-disabled="isDisabled" translate="common.action.update" class="change-volume-form__submit"></button><button type="button" translate="common.action.cancel" ng-click="$close()" class="change-volume-form__cancel"></button></div></form></div>'),e.put("generated/components/contact_page/contact_page.html",'<form name="groupForm" ng_submit="submit()" class="form-card"><h1 translate="contact_message_form.contact_us" class="lmo-h1"></h1><div class="lmo-form-group"><label for="contact-name-field" translate="contact_message_form.name_label"></label><input ng-model="message.name" ng_required="true" placeholder="{{contact_message_form.name_placeholder | translate}}" class="form-control" id="contact-name-field"><label for="contact-email-field" translate="contact_message_form.email_label"></label><input ng-model="message.email" ng_required="true" placeholder="{{contact_message_form.email_placeholder | translate}}" class="form-control" id="contact-email-field"><label for="contact-message-field" translate="contact_message_form.message_label"></label><textarea ng-model="message.message" placeholder="{{contact_message_form.message_placeholder | translate}}" id="contact-message-field"></textarea></div><button type="submit" translate="contact_message_form.send_message" class="lmo-btn--submit"></button></form>'),e.put("generated/components/dashboard_page/dashboard_page.html",'<div class="lmo-one-column-layout"><main class="dashboard-page lmo-row"><section aria-label="{{ \'dashboard_page.options.aria_label\' | translate }}" class="dashboard-page__options"><div uib-dropdown="true" class="dashboard-page__filter-dropdown"><button uib-dropdown-toggle="true" class="lmo-btn--nude"><span><div translate="dashboard_page.filtering.filter_threads_aria_label" class="sr-only"></div> <span translate="dashboard_page.filtering.filter_threads" aria-hidden="true"></span> </span><i class="fa fa-chevron-down"></i></button><div role="menu" class="uib-dropdown-menu lmo-dropdown-menu lmo-dropdown-menu--with-details"><ul class="lmo-dropdown-menu-items filtering-options"><li class="lmo-dropdown-menu-item filtering-option dashboard-page__filter-recent"><a ng-click="dashboardPage.setFilter(\'show_all\')"><div class="lmo-dropdown-menu-item-label"> <span translate="dashboard_page.filtering.all" aria-hidden="true"></span> <i ng-show="dashboardPage.filter == \'show_all\'" class="fa fa-lg fa-check"></i></div><div translate="dashboard_page.filtering.all_description" class="lmo-dropdown-menu-item-details"></div></a></li><li class="lmo-dropdown-menu-item filtering-option dashboard-page__filter-participating"><a ng-click="dashboardPage.setFilter(\'show_participating\')"><div class="lmo-dropdown-menu-item-label"> <span translate="dashboard_page.filtering.participating" aria-hidden="true"></span> <i ng-show="dashboardPage.filter == \'show_participating\'" class="fa fa-lg fa-check"></i></div><div translate="dashboard_page.filtering.participating_description" class="lmo-dropdown-menu-item-details"></div></a></li><li class="lmo-dropdown-menu-item filtering-option dashboard-page__filter-muted"><a ng-click="dashboardPage.setFilter(\'show_muted\')"><div class="lmo-dropdown-menu-item-label"> <span translate="dashboard_page.filtering.muted" aria-hidden="true"></span> <i ng-show="dashboardPage.filter == \'show_muted\'" class="fa fa-lg fa-check"></i></div><div translate="dashboard_page.filtering.muted_description" class="lmo-dropdown-menu-item-details"></div></a></li></ul></div></div></section><h1 translate="dashboard_page.filtering.all" ng-show="dashboardPage.filter == \'show_all\'" class="lmo-h1-medium dashboard-page__heading"></h1><h1 translate="dashboard_page.filtering.participating" ng-show="dashboardPage.filter == \'show_participating\'" class="lmo-h1-medium dashboard-page__heading"></h1><h1 translate="dashboard_page.filtering.muted" ng-show="dashboardPage.filter == \'show_muted\'" class="lmo-h1-medium dashboard-page__heading"></h1><div ng-hide="dashboardPage.loadMoreExecuting || dashboardPage.currentBaseQuery.any()" class="dashboard-page__no-threads"> <span ng-show="dashboardPage.filter == \'show_all\'" translate="dashboard_page.no_threads.show_all"></span>  <span ng-show="dashboardPage.filter == \'show_participating\'" translate="dashboard_page.no_threads.show_participating"></span>  <span ng-show="dashboardPage.filter == \'show_muted\'" translate="dashboard_page.no_threads.show_muted"></span>  <a ng-show="dashboardPage.filter != \'show_all\'" translate="dashboard_page.view_recent" ng-click="dashboardPage.setFilter(\'show_all\')"></a> </div><div ng-if="!dashboardPage.displayByGroup()" class="dashboard-page__collections"><section ng-if="dashboardPage.views.recent[viewName].any()" class="thread-preview-collection__container dashboard-page__{{viewName}}" ng-repeat="viewName in dashboardPage.recentViewNames"><h2 translate="dashboard_page.threads_from.{{viewName}}" class="dashboard-page__date-range"></h2><thread_preview_collection query="dashboardPage.views.recent[viewName]" class="thread-previews-container"></thread_preview_collection></section><div in-view="$inview &amp;&amp; dashboardPage.loadMore()" in-view-options="{debounce: 200}" class="dashboard-page__footer">.</div><loading ng-show="dashboardPage.loadMoreExecuting"></loading></div><div ng-if="dashboardPage.displayByGroup()" class="dashboard-page__collections"><div ng-repeat="group in dashboardPage.groups() | orderBy:\'name\' track by group.id" class="dashboard-page__group"><section ng-if="dashboardPage.views.groups[group.key].any()" role="region" aria-label="{{ \'dashboard_page.threads_from.group\' | translate }} {{group.name}}"> <img ng-src="{{group.logoUrl()}}" aria-hidden="true" class="selector-list-item-group-logo pull-left"> <h2 class="dashboard-page__group-name"><a lmo-href-for="group">{{group.name}}</a></h2><div class="dashboard-groups thread-previews-container"><thread_preview_collection query="dashboardPage.views.groups[group.key]" limit="dashboardPage.groupThreadLimit"></thread_preview_collection></div></section></div><loading ng-show="dashboardPage.loadMoreExecuting"></loading></div></main></div>'),e.put("generated/components/deactivate_user_form/deactivate_user_form.html",'<form ng-submit="submit()"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="profile_page.deactivate_user.title" class="lmo-h1"></h1></div><div class="modal-body"><h4 translate="profile_page.deactivate_user.question" class="lmo-h4"></h4><textarea ng-model="user.deactivationResponse" placeholder="{{ \'profile_page.deactivate_user.placeholder\' | translate }}" class="lmo-textarea form-control"></textarea></div><div class="modal-footer"><button type="submit" translate="profile_page.deactivate_user.submit" class="lmo-btn--danger"></button><button ng-click="$close()" type="button" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></form>'),e.put("generated/components/delete_thread_form/delete_thread_form.html",'<form ng-submit="submit()"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="delete-thread-form"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="delete_thread_form.title" class="lmo-h1"></h1></div><div class="modal-body"><span translate="delete_thread_form.body"></span></div><div class="modal-footer"><button type="submit" translate="delete_thread_form.confirm" class="lmo-btn--danger delete_thread_form__submit"></button><button ng-click="$close()" type="button" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></div></form>'),e.put("generated/components/discussion_form/discussion_form.html",'<form name="discussionForm" ng_submit="submit()" ng-disabled="isDisabled" class="discussion-form"><div ng-show="isDisabled" class="lmo-disabled-form"></div><input type="hidden" ng-model="discussion.usesMarkdown"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="discussion_form.new_discussion_title" ng-show="discussion.isNew()" class="lmo-h1 modal-title"></h1><h1 translate="discussion_form.edit_discussion_title" ng-hide="discussion.isNew()" class="lmo-h1 modal-title"></h1></div><div class="modal-body"><form_errors record="discussion"></form_errors><div translate="discussion_form.discussion_helptext" ng-show="discussion.isNew()" class="thread-helptext"></div><div ng-show="showGroupSelect" class="lmo-form-group"><label for="discussion-group-field" translate="discussion_form.group_label"></label><select ng-model="discussion.groupId" ng-required="true" ng-options="group.id as group.fullName for group in availableGroups() | orderBy: \'fullName\'" ng-change="restoreRemoteDraft(); updatePrivacy()" class="form-control" id="discussion-group-field"><option translate="discussion_form.group_placeholder"></option></select></div><div ng_if="discussion.groupId" class="discussion-group-selected"><div class="lmo-form-group"><label for="discussion-title" translate="discussion_form.title_label"></label><div class="lmo-relative"><input placeholder="{{ \'discussion_form.title_placeholder\' | translate }}" ng-model="discussion.title" ng-model-options="{debounce: 600}" ng-change="storeDraft()" ng-required="true" maxlength="255" class="discussion-form__title-input form-control lmo-primary-form-input" id="discussion-title"></div><validation_errors subject="discussion" field="title"></validation_errors></div><div class="lmo-form-group"><label for="discussion-context" translate="discussion_form.context_label"></label><div class="lmo-relative"><textarea msd-elastic="true" ng-model="discussion.description" ng-model-options="{debounce: 600}" ng-change="storeDraft()" placeholder="{{ \'discussion_form.context_placeholder\' | translate }}" class="lmo-textarea discussion-form__description-input form-control lmo-primary-form-input" id="discussion-context"></textarea><emoji_picker target-selector="descriptionSelector" class="lmo-action-dock"></emoji_picker></div></div><div ng-show="showPrivacyForm()" class="lmo-form-group"><label class="lmo-form-labelled-input discussion-form__public"><input type="radio" ng-model="discussion.private" ng-value="false"><span> <i class="fa fa-globe"></i> <strong translate="common.privacy.public"></strong><span class="seperator"></span><span translate="discussion_form.privacy_public"></span></span></label><label class="lmo-form-labelled-input discussion-form__private"><input type="radio" ng-model="discussion.private" ng-value="true"><span> <i class="fa fa-lock"></i> <strong translate="common.privacy.private"></strong><span class="seperator"></span><span>{{ privacyPrivateDescription() }}</span></span></label></div><div ng-show="!showPrivacyForm()" class="privacy-notice"><label ng_hide="discussion.private" class="lmo-form-labelled-input"><span> <i class="fa fa-globe"></i> <strong translate="common.privacy.public"></strong><span class="seperator"></span><span translate="discussion_form.privacy_public"></span></span></label><label ng-show="discussion.private" class="lmo-form-labelled-input"><span> <i class="fa fa-lock"></i> <strong translate="common.privacy.private"></strong><span class="seperator"></span><span>{{ privacyPrivateDescription() }}</span></span></label></div></div></div><div class="modal-footer"><button type="submit" translate="discussion_form.new_discussion_submit" ng-show="discussion.isNew()" class="pull-right lmo-btn--submit discussion-form__submit"></button><a lmo-href="/markdown" tabindex="0" target="_blank" title="{{ \'common.formatting_help.title\' | translate }}" class="discussion-form__formatting-help"><span translate="common.formatting_help.label"></span></a><button type="submit" translate="discussion_form.edit_discussion_submit" ng-hide="discussion.isNew()" class="lmo-btn--primary discussion-form__update"></button><button type="button" ng-click="$close()" translate="common.action.cancel" class="lmo-btn--cancel discussion-form__cancel"></button></div></form>'),e.put("generated/components/email_settings_page/email_settings_page.html",'<div class="lmo-one-column-layout"><main class="email-settings-page"><div class="lmo-page-heading"><h1 translate="email_settings_page.header" class="lmo-h1-medium"></h1></div><div class="email-settings-page__email-settings"><div class="email-settings-page__global-settings"><h3 translate="email_settings_page.all_groups" class="lmo-h3"></h3><form ng-submit="emailSettingsPage.submit()"><div class="email-settings-page__global-email-settings-options"><div class="email-settings-page__field"><input type="checkbox" ng-model="emailSettingsPage.user.emailMissedYesterday" class="email-settings-page__daily-summary" id="daily-summary-email"><label for="daily-summary-email" translate="email_settings_page.daily_summary_label"></label><div translate="email_settings_page.daily_summary_description" class="email-settings-page__input-description"></div></div><div class="email-settings-page__field"><input type="checkbox" ng-model="emailSettingsPage.user.emailOnParticipation" class="email-settings-page__on-participation" id="on-participation-email"><label for="on-participation-email" translate="email_settings_page.on_participation_label"></label><div translate="email_settings_page.on_participation_description" class="email-settings-page__input-description"></div></div><div class="email-settings-page__field"><input type="checkbox" ng-model="emailSettingsPage.user.emailWhenMentioned" class="email-settings-page__mentioned" id="mentioned-email"><label for="mentioned-email" translate="email_settings_page.mentioned_label"></label><div translate="email_settings_page.mentioned_description" class="email-settings-page__input-description"></div></div></div><button type="submit" ng-disabled="isDisabled" translate="email_settings_page.update_settings" class="email-settings-page__update-button"></button></form></div><div class="email-settings-page__specific-group-settings"><h3 translate="email_settings_page.specific_groups" class="lmo-h3"></h3><span translate="email_settings_page.default_settings"></span><button ng-click="emailSettingsPage.changeDefaultMembershipVolume()" translate="email_settings_page.change_default" class="email-settings-page__change-default-link lmo-btn-link"></button><ul class="email-settings-page__groups"><li ng-repeat="group in emailSettingsPage.user.groups() track by group.id" class="email-settings-page__group"><img ng-src="{{group.logoUrl()}}" class="lmo-box--medium"><div class="email-settings-page__group-details"><strong class="email-settings-page__group-name"> <span ng-if="group.isSubgroup()">{{group.parentName()}} -</span> <span>{{group.name}}</span></strong><p translate="change_volume_form.{{emailSettingsPage.groupVolume(group)}}_label" class="email-settings-page__membership-volume"></p></div><div class="email-settings-page__edit"><button ng-click="emailSettingsPage.editSpecificGroupVolume(group)" translate="email_settings_page.edit" class="email-settings-page__edit-membership-volume-link lmo-btn-link"></button></div></li></ul><a href="https://loomio.gitbooks.io/manual/content/en/keeping_up_to_date.html" target="_blank" translate="Learn more about email settings..." class="email-settings-page__learn-more-link"></a></div></div></main></div>'),e.put("generated/components/emoji_picker/emoji_picker.html",'<div aria-hidden="true" off-click="hideMenu()" class="emoji-picker"><button type="button" tabindex="-1" ng-click="toggleMenu()" class="btn btn-nude emoji-picker__toggle"><i class="fa fa-smile-o"></i></button><div ng-if="showMenu" class="emoji-picker__menu"><div ng-show="hovered.name" class="emoji-picker__preview"> <span ng-bind-html="hovered.image"></span> <span class="emoji-picker__hovered-name">{{ hovered.name }}</span><hr class="emoji-picker__hr"></div><div ng-if="noEmojisFound()" translate="emoji_picker.no_emojis_found" translate-value-term="{{term}}" class="emoji-picker__none-found"></div><div ng-repeat="emoji in source" class="emoji-picker__selector"><a ng-click="select(emoji)" ng-mouseover="hover(emoji)" class="emoji-picker__link"><div ng-bind-html="render(emoji)" class="emoji-picker__icon"></div></a></div><input ng-model="term" ng-change="search(term)" placeholder="{{\'emoji_picker.search\' | translate}}" class="emoji-picker__search form-control"></div></div>'),e.put("generated/components/error_page/error_page.html",'<div class="error-page"><div translate="error_page.forbidden" ng-if="error.status == 403" class="error-page__forbidden"></div><div translate="error_page.page_not_found" ng-if="error.status == 404" class="error-page__page-not-found"></div><div translate="error_page.internal_server_error" ng-if="error.status == 500" class="error-page__internal-server-error"></div></div>'),e.put("generated/components/flash/flash.html",'<div aria-live="{{ariaLive()}}" role="alert" class="flash-root"><div ng-show="display()" ng-animate="\'enter\'" class="flash-root__container alert-{{flash.level}}"><div class="flash-root__message"><loading ng-if="loading()" class="flash-root__loading"></loading>{{ flash.message | translate:flash.options }}</div><div ng-if="flash.actionFn" class="flash-root__action"><a ng-click="flash.actionFn()" translate="{{flash.action}}"></a></div></div></div>'),e.put("generated/components/form_errors/form_errors.html",'<div ng-hide="record.isValid()" ng-animate="\'enter\'" class="form-errors"><ul><li ng-repeat="error in record.errors"># translation soon{{error}}</li></ul></div>'),e.put("generated/components/group_avatar/group_avatar.html",'<div class="group-avatar lmo-box--{{size}}" aria-hidden="true"><img class="lmo-box--{{size}}" alt="{{group.name}}" ng-src="{{::group.logoUrl()}}"></div>'),e.put("generated/components/group_form/group_form.html",'<div class="group-form"><form ng-submit="submit()" ng-disabled="group.processing" name="groupForm"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="{{i18n.heading}}" class="lmo-h1"></h1></div><div class="modal-body"><div class="group-form__basic"><div class="group-form__name"><label for="group-name" translate="{{i18n.group_name}}"></label><input placeholder="{{ \'group_form.group_name_placeholder\' | translate }}" ng-required="ng-required" ng-model="group.name" ng-model-options="{debounce: 600}" ng-change="storeDraft()" maxlength="255" class="form-control" id="group-name"><validation_errors subject="group" field="name"></validation_errors></div><div class="group-form__description"><label for="group-description" translate="group_form.description"></label><textarea placeholder="{{ \'group_form.description_placeholder\' | translate }}" msd-elastic="true" ng-model="group.description" ng-model-options="{debounce: 600}" ng-change="storeDraft()" class="lmo-textarea form-control" id="group-description"></textarea></div><div class="group-form__privacy-statement">{{privacyStatement()}}</div><div class="group-form__privacy lmo-form-group"><label translate="group_form.privacy"></label><label ng-if="!group.isSubgroupOfSecretParent()" class="lmo-form-labelled-input"><input type="radio" ng-model="group.groupPrivacy" ng-change="groupPrivacyChanged()" value="open" name="groupPrivacy" class="group-form__privacy-open"><span><strong translate="common.privacy.open"></strong><span class="seperator"></span>{{ privacyStringFor("open") }}</span></label><label class="lmo-form-labelled-input"><input type="radio" ng-model="group.groupPrivacy" ng-change="groupPrivacyChanged()" value="closed" name="groupPrivacy" class="group-form__privacy-closed"><span><strong translate="common.privacy.closed"></strong><span class="seperator"></span>{{ privacyStringFor("closed") }}</span></label><label class="lmo-form-labelled-input"><input type="radio" ng-model="group.groupPrivacy" ng-change="groupPrivacyChanged()" value="secret" name="groupPrivacy" class="group-form__privacy-secret"><span><strong translate="common.privacy.secret"></strong><span class="seperator"></span>{{ privacyStringFor("secret") }}</span></label></div></div><button type="button" ng-show="!expanded" ng-click="expandForm()" translate="group_form.advanced_settings" class="lmo-link group-form__advanced-link"></button><div ng-show="expanded" class="group-form__advanced"><div ng-if="group.privacyIsOpen()" class="group-form__joining lmo-form-group"><label translate="group_form.how_do_people_join"></label><label class="lmo-form-labelled-input"><input type="radio" ng-model="group.membershipGrantedUpon" value="request" name="membership-granted-upon" class="group-form__membership-granted-upon-request"><span translate="group_form.membership_granted_upon_request"></span></label><label class="lmo-form-labelled-input"><input type="radio" ng-model="group.membershipGrantedUpon" value="approval" name="membership-granted-upon" class="group-form__membership-granted-upon-approval"><span translate="group_form.membership_granted_upon_approval"></span></label></div><div class="group-form__permissions lmo-form-group"><label translate="group_form.permissions"></label><label ng-if="group.privacyIsClosed() &amp;&amp; !group.isSubgroupOfSecretParent()" class="lmo-form-labelled-input"><input type="checkbox" ng-model="buh.allowPublicThreads" ng-change="allowPublicThreadsClicked()" class="group-form__allow-public-threads"><span translate="group_form.allow_public_threads"></span></label><label ng-if="group.isSubgroup() &amp;&amp; group.privacyIsClosed()" class="lmo-form-labelled-input"><input type="checkbox" ng-model="group.parentMembersCanSeeDiscussions" class="group-form__parent-members-can-see-discussions"><span translate="group_form.parent_members_can_see_discussions" translate-value-parent="{{group.parent().name}}"></span></label><label class="lmo-form-labelled-input"><input type="checkbox" ng-model="group.membersCanAddMembers" class="group-form__members-can-add-members"><span translate="group_form.members_can_add_members"></span></label><label ng-if="group.isParent()" class="lmo-form-labelled-input"><input type="checkbox" ng-model="group.membersCanCreateSubgroups" class="group-form__members-can-create-subgroups"><span translate="group_form.members_can_create_subgroups"></span></label><label class="lmo-form-labelled-input"><input type="checkbox" ng-model="group.membersCanStartDiscussions" class="group-form__members-can-start-discussions"><span translate="group_form.members_can_start_discussions"></span></label><label class="lmo-form-labelled-input"><input type="checkbox" ng-model="group.membersCanEditDiscussions" class="group-form__members-can-edit-discussions"><span translate="group_form.members_can_edit_discussions"></span></label><label class="lmo-form-labelled-input"><input type="checkbox" ng-model="group.membersCanEditComments" class="group-form__members-can-edit-comments"><span translate="group_form.members_can_edit_comments"></span></label><label class="lmo-form-labelled-input"><input type="checkbox" ng-model="group.membersCanRaiseMotions" class="group-form__members-can-raise-motions"><span translate="group_form.members_can_raise_motions"></span></label><label class="lmo-form-labelled-input"><input type="checkbox" ng-model="group.membersCanVote" class="group-form__members-can-vote"><span translate="group_form.members_can_vote"></span></label></div></div></div><div class="modal-footer"><button ng-click="$close()" type="button" translate="common.action.cancel" class="lmo-btn--cancel"></button><button type="submit" translate="{{i18n.submit}}" class="lmo-btn--submit group-form__submit-button"></button></div></form></div>'),
e.put("generated/components/group_page/group_page.html",'<div class="loading-wrapper lmo-two-column-layout"><loading ng-if="!groupPage.group"></loading><main ng-if="groupPage.group" class="group-page"><group_theme group="groupPage.group" home-page="true"></group_theme><div class="lmo-row"><div class="lmo-group-column-left"><section aria-labelledby="description-card-title" class="group-page__description"><h2 translate="group_page.description" class="lmo-card-heading" id="description-card-title"></h2><div translate="group_page.description_placeholder" ng-if="groupPage.showDescriptionPlaceholder()" class="group-page__description-placeholder lmo-placeholder lmo-hint-text"></div><div marked="groupPage.group.description" class="group-page__description-text lmo-last lmo-markdown-wrapper"></div></section><discussions_card group="groupPage.group"></discussions_card></div><div class="lmo-group-column-right"><trial_card group="groupPage.group"></trial_card><gift_card group="groupPage.group"></gift_card><membership_requests_card group="groupPage.group"></membership_requests_card><members_card group="groupPage.group"></members_card><group_previous_proposals_card group="groupPage.group"></group_previous_proposals_card><subgroups_card group="groupPage.group"></subgroups_card><group_help_card group="groupPage.group"></group_help_card></div></div></main></div>'),e.put("generated/components/groups_page/groups_page.html",'<div class="lmo-one-column-layout"><main class="groups-page"><div class="row groups-page__heading"><h1 translate="groups_page.page_header" class="lmo-h1-medium"></h1><button ng-click="groupsPage.startGroup()" class="groups-page__new-group"> <i class="fa fa-lg fa-plus"></i> <span translate="navbar.user_options.new_group"></span></button></div><div class="groups-page__groups"><ul class="groups-page__parent-groups"><li ng-repeat="group in groupsPage.parentGroups() | orderBy: \'name\' track by group.id" class="groups-page__parent-group"><div class="groups-page__parent-group-header clearfix"> <img ng-src="{{group.logoUrl()}}" aria-hidden="true" class="groups-page__parent-group-logo"> <h2 id="{{group.key}}" class="groups-page__parent-group-name"><a lmo-href-for="group">{{group.name}}</a></h2></div><ul ng-if="group.subgroups().length &gt; 0" class="groups-page__subgroups"><li ng-repeat="subgroup in group.subgroups() | orderBy: \'name\' track by subgroup.id" class="groups-page__subgroup"><a lmo-href-for="subgroup">{{subgroup.name}}</a></li></ul></li></ul></div></main></div>'),e.put("generated/components/help_page/help_page.html",'<div class="form-card"><div class="col-xs-12" id="help-content"><section id="how-it-works"><div class="inner-container"><div class="row"><div class="subhead"><h1 translate="help_page.how_it_works" class="lmo-h1"></h1></div></div><div class="row" id="video-tutorial"><div class="col-sm-12"><h2 translate="help_page.video_tutorial" class="lmo-h2"></h2></div><div class="col-md-12"><p translate="help_page.video_tutorial_description"></p></div><div class="col-md-12"><iframe width="356px" height="267px" src="//www.youtube.com/embed/eu6A1IQar0g" frameborder="0" allowfullscreen></iframe></div></div><div class="row" id="getting-started"><div class="col-sm-12"><h2 translate="help_page.getting_started" class="lmo-h2"></h2></div><div class="col-sm-8"><p translate="help_page.getting_started_description"></p></div></div><div class="row" id="have-a-discussion"><div class="col-sm-12"><h2 translate="help_page.have_a_discussion" class="lmo-h2"></h2></div><div class="col-sm-8"><p translate="help_page.have_a_discussion_description"></p></div></div><div class="row" id="make-a-decision"><div class="col-sm-12"><h2 translate="help_page.make_a_decision" class="lmo-h2"></h2></div><div class="col-sm-8"><p translate="help_page.make_a_decision_description"></p></div></div><div class="row" id="have-your-say"><div class="col-sm-12"><h2 translate="help_page.have_your_say" class="lmo-h2"></h2></div><div translate="help_page.have_your_say_details_html" class="col-sm-6"></div><div class="col-sm-6"><div class="positions"><p translate="help_page.positions_agree_description"></p><p translate="help_page.positions_abstain_description"></p><p translate="help_page.positions_disagree_description"></p><p translate="help_page.positions_block_description"></p></div></div></div><div class="row" id="prompt-people"><div class="col-md-10"><h2 translate="help_page.prompt_people_html" class="lmo-h2"></h2></div></div><div class="row"><div class="col-md-8"><p translate="help_page.prompt_people_details"></p></div></div><div class="row" id="keep-up-to-date"><div class="col-md-8"><h2 translate="help_page.keep_up_to_date" class="lmo-h2"><a lmo-href="/email"><span translate="help_page.keep_up_to_date_html"></span></a></h2></div></div><div class="row" id="images-and-text-formatting"><div class="col-md-8"><h2 translate="help_page.images_and_text_formatting" class="lmo-h2"></h2><span translate="help_page.images_and_text_formatting_html"></span></div></div></div></section><section id="getting-the-most-out-of-Loomio"><div class="inner-container"><div class="row"><h1 translate="help_page.getting_the_most" class="lmo-h1"></h1></div><div class="row" id="starting-an-engaging-discussion"><div class="col-md-10"><h2 translate="help_page.start_discussion" class="lmo-h2"></h2></div></div><div class="row"><div translate="help_page.start_discussion_html" class="col-md-8"></div></div><div class="row" id="writing-a-clear-proposal"><div class="col-md-8"><h2 translate="help_page.start_proposal" class="lmo-h2"></h2><span translate="help_page.start_proposal_html"></span></div></div><div class="row" id="different-ways-to-use-Loomio"><div class="col-md-9"><h2 translate="help_page.different_ways" class="lmo-h2"></h2></div></div><div class="row"><div class="col-md-8"><div translate="help_page.example1_html" class="example"></div><div translate="help_page.example2_html" class="example"></div></div></div></div></section><section id="coordinating-your-Loomio-group"><div class="inner-container"><div class="row"><h1 translate="help_page.coordinating" class="lmo-h1"></h1></div><div class="row"><div class="col-md-8 extra-margin"><p translate="help_page.coordinating_details"></p></div></div><div class="row" id="writing-a-great-invitation"><div translate="help_page.invitation_html" class="col-md-8"></div></div><div class="row" id="tips-for-engaging-your-group"><div translate="help_page.engaging_html" class="col-md-8"></div></div></div></section><section id="get-in-touch"><div class="inner-container"><div class="row"><h1 translate="help_page.get_in_touch" class="lmo-h1"></h1></div><div class="row"><div class="col-md-8"><a lmo-href="/contact"><p translate="help_page.get_in_touch_description_html" class="extra-margin"></p></a></div></div><div class="row" id="join-the-community"><h1 translate="help_page.join_the_community" class="lmo-h1"></h1></div><div class="row"><div class="col-md-8"><p translate="help_page.join_the_community_description_html" class="extra-margin"></p></div></div></div></section></div><div class="clearfix"></div></div>'),e.put("generated/components/invitation_form/invitable.html",'<div class="invitation-form__invitable"><div class="media-left"><user_avatar ng-if="match.label.type == \'user\'" user="match.label.user" size="medium"></user_avatar><div aria-hidden="true" ng-if="match.label.type != \'user\'" class="invitation-form__avatar-image"><img ng-if="match.label.image" alt="{{match.label.name}}" ng-src="{{match.label.image}}"><img ng-if="!match.label.image" alt="{{match.label.name}}" src="img/default-user.png"></div></div><div class="invitation-form__invitable-content"> <div class="invitable-name">{{match.label.name}}</div> <abbr ng-if="match.label.subtitle" class="invitable-subtitle">{{match.label.subtitle}}</abbr></div><div class="invitation-form__spacer"></div></div>'),e.put("generated/components/invitation_form/invitation_form.html",'<div class="invitation-form"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="invitation_form.invite_people" class="lmo-h1 modal-title"></h1></div><div class="modal-body"><label for="group-select" translate="invitation_form.group"></label><select ng-model="form.groupId" ng-required="ng-required" ng-options="group.id as group.fullName for group in availableGroups() | orderBy: \'fullName\'" ng-change="restoreRemoteDraft(); fetchShareableInvitation()" class="invitation-form__group-select form-control" id="group-select"></select><label translate="invitation_form.shareable_link"></label><div class="invitation-form__flex"><input value="{{invitationLink()}}" class="invitation-form__shareable-link-field form-control"><button type="button" clipboard="true" text="invitationLink()" on-copied="copied()" class="invitation-form__copy-button lmo-btn--primary">{{ \'invitation_form.copy_link\' | translate}}</button></div><div translate="invitation_form.shareable_link_explanation" class="invitation-form__shareable-link-explanation"></div><div translate="invitation_form.email_explanation" class="invitation-form__email-explanation"></div><label for="email-addresses" translate="invitation_form.email_addresses"></label><textarea ng-model="form.emails" ng-required="ng-required" msd-elastic="true" rows="1" ng-model-options="{debouce: 600}" ng-change="storeDraft()" placeholder="{{ \'invitation_form.email_addresses_placeholder\' | translate }}" class="invitation-form__email-addresses form-control" id="email-addresses"></textarea><validation_errors subject="form" field="emails" class="invitation-form__validation-errors"></validation_errors><div ng-show="noInvitations" translate="invitation_form.messages.no_invitations" class="invitation-form__no-invitations lmo-validation-error"></div><div ng-show="maxInvitations()" translate="invitation_form.messages.max_invitations" class="invitation-form__max-invitations lmo-validation-error"></div><p ng-if="!showCustomMessageField()"> <span translate="invitation_form.add_custom_message"></span>  <button translate="invitation_form.add_custom_message_link" ng-click="addCustomMessage()" class="invitation-form__add-custom-message-link lmo-btn-link--blue"></button> </p><div ng-if="showCustomMessageField()" class="blank"><label for="custom-message" translate="invitation_form.custom_message"></label><textarea ng-model="form.message" msd-elastic="true" ng-model-options="{debounce: 600}" ng-change="storeDraft()" placeholder="{{ \'invitation_form.custom_message_placeholder\' | translate }}" class="lmo-textarea invitation-form__custom-message form-control" id="custom-message"></textarea></div><p ng-if="form.group().isSubgroup()"> <button translate="invitation_form.add_members" ng-click="addMembers()" class="invitation-form__add-members lmo-btn-link--blue"></button> <span translate="invitation_form.from_parent_group" translate-values="{name: form.group().parentName()}"></span></p></div><div class="modal-footer"><button ng-click="submit()" translate="{{submitText()}}" translate-value-count="{{invitationsCount()}}" ng-disabled="invalidEmail()" class="invitation-form__submit lmo-btn--submit"></button><button ng-click="$close()" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></div>'),e.put("generated/components/legacy_trial_expired_modal/legacy_trial_expired_modal.html",'<div class="legacy-trial-expired-modal"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="legacy_trial_expired_modal.heading" class="lmo-h1 modal-title"></h1></div><div class="modal-body donation-modal__body"><img src="/img/team-600.png" alt="Loomio team photo" class="donation-modal__loomio-team"><p translate="legacy_trial_expired_modal.body" class="donation-modal__message"></p></div><div class="modal-footer lmo-clearfix"><button type="button" ng-click="submit()" translate="legacy_trial_expired_modal.submit" class="lmo-btn--primary legacy-trial-expired-modal__submit"></button></div></div>'),e.put("generated/components/leave_group_form/leave_group_form.html",'<form ng-submit="submit()"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="leave-group-form"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="group_page.leave_group.title" class="lmo-h1"></h1></div><div class="modal-body"><span ng-if="canLeaveGroup()" translate="group_page.leave_group.question"></span><span ng-if="!canLeaveGroup()" translate="group_page.leave_group.cannot_leave_group"></span></div><div class="modal-footer"><button ng-if="canLeaveGroup()" type="submit" translate="group_page.leave_group.submit" class="lmo-btn--submit leave-group-form__submit"></button><a ng-if="!canLeaveGroup()" lmo-href-for="group" lmo-href-action="memberships" ng-click="$close()" class="lmo-btn--primary leave-group-form__add-coordinator"><span translate="group_page.leave_group.add_coordinator"></span></a><button ng-click="$close()" type="button" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></div></form>'),e.put("generated/components/inbox_page/inbox_page.html",'<div class="lmo-one-column-layout"><main class="inbox-page"><div class="thread-preview-collection__container"><h1 translate="inbox_page.unread_threads" class="lmo-h1-medium inbox-page__heading"></h1><loading ng-if="inboxPage.loading()"></loading><div ng-if="!inboxPage.loading()" class="inbox-page__threads"><div ng-show="!inboxPage.hasThreads()" class="inbox-page__no-threads"> <span translate="inbox_page.no_threads"></span> </div><div ng-repeat="group in inboxPage.groups() | orderBy: \'name\' track by group.id" class="inbox-page__group"><section ng-if="inboxPage.views.groups[group.key].any()" role="region" aria-label="{{ \'inbox_page.threads_from.group\' | translate }} {{group.name}}"><div class="inbox-page__group-name-container"> <img ng-src="{{group.logoUrl()}}" aria-hidden="true" class="selector-list-item-group-logo pull-left"> <h2 class="inbox-page__group-name"><a href="/g/{{group.key}}">{{group.name}}</a></h2></div><div class="inbox-page__groups thread-previews-container"><thread_preview_collection query="inboxPage.views.groups[group.key]" limit="inboxPage.threadLimit"></thread_preview_collection></div></section></div></div></div></main></div>'),e.put("generated/components/loading/loading.html",'<div class="page-loading"><i class="fa fa-lg fa-spin fa-circle-o-notch"></i></div>'),e.put("generated/components/membership_requests_page/membership_requests_page.html",'<div class="loading-wrapper lmo-one-column-layout"><loading ng-if="!membershipRequestsPage.group"></loading><main ng-if="membershipRequestsPage.group" class="membership-requests-page"><group_theme group="membershipRequestsPage.group"></group_theme><div class="membership-requests-page__pending-requests"><h2 translate="membership_requests_page.heading" class="lmo-h2"></h2><ul ng-if="membershipRequestsPage.group.hasPendingMembershipRequests()"><li ng-repeat="request in membershipRequestsPage.pendingRequests() track by request.id" class="media membership-requests-page__pending-request"><div class="media-left"><user_avatar user="request.actor()" size="medium"></user_avatar></div><div class="media-body"><span class="membership-requests-page__pending-request-name"><strong>{{request.actor().name}}</strong></span><div class="membership-requests-page__pending-request-email">{{request.email}}</div><div class="membership-requests-page__pending-request-date"><timeago timestamp="request.createdAt"></timeago></div><div class="membership-requests-page__pending-request-introduction">{{request.introduction}}</div><div class="membership-requests-page__actions"><button ng-click="membershipRequestsPage.approve(request)" translate="membership_requests_page.approve" class="lmo-btn--primary membership-requests-page__approve"></button><button ng-click="membershipRequestsPage.ignore(request)" translate="membership_requests_page.ignore" class="lmo-btn--default membership-requests-page__ignore"></button></div></div></li></ul><div ng-if="!membershipRequestsPage.group.hasPendingMembershipRequests()" translate="membership_requests_page.no_pending_requests" class="membership-requests-page__no-pending-requests"></div></div><div class="membership-requests-page__previous-requests"><h3 translate="membership_requests_page.previous_requests" class="lmo-card-heading"></h3><ul ng-if="membershipRequestsPage.group.hasPreviousMembershipRequests()"><li ng-repeat="request in membershipRequestsPage.previousRequests() track by request.id" class="media membership-requests-page__previous-request"><div class="media-left"><user_avatar user="request.actor()" size="medium"></user_avatar></div><div class="media-body"><span class="membership-requests-page__previous-request-name"><strong>{{request.actor().name}}</strong></span><div class="membership-requests-page__previous-request-email">{{request.email}}</div><div class="membership-requests-page__previous-request-response"><span translate="membership_requests_page.previous_request_response" translate-value-response="{{request.formattedResponse()}}" translate-value-responder="{{request.responder().name}}"></span><timeago timestamp="request.respondedAt"></timeago></div><div class="membership-requests-page__previous-request-introduction">{{request.introduction}}</div></div></li></ul><div ng-if="!membershipRequestsPage.group.hasPreviousMembershipRequests()" translate="membership_requests_page.no_previous_requests" class="membership-requests-page__no-previous-requests"></div></div></main></div>'),e.put("generated/components/memberships_page/memberships_page.html",'<div class="loading-wrapper lmo-one-column-layout"><loading ng-if="!membershipsPage.group"></loading><main ng-if="membershipsPage.group" class="memberships-page"><group_theme group="membershipsPage.group"></group_theme><div class="memberships-page__memberships"><h2 translate="memberships_page.members" class="lmo-h2"></h2><div class="memberships-page__search-filter"><input ng-model="membershipsPage.fragment" ng-model-options="{debounce: 300}" ng-change="membershipsPage.fetchMemberships()" placeholder="{{\'memberships_page.fragment_placeholder\' | translate}}" class="membership-page__search-filter form-control"><i class="fa fa-lg fa-search"></i></div><admin_memberships_panel ng-if="membershipsPage.canAdministerGroup()" memberships="membershipsPage.memberships" group="membershipsPage.group"></admin_memberships_panel><memberships_panel ng-if="!membershipsPage.canAdministerGroup()" memberships="membershipsPage.memberships" group="membershipsPage.group"></memberships_panel></div><pending_invitations_card group="membershipsPage.group"></pending_invitations_card></main></div>'),e.put("generated/components/modal_header_cancel_button/modal_header_cancel_button.html",'<button type="button" class="close" ng-click="$close()" aria-hidden="true"><span>&times;</span><span translate="common.action.cancel" class="sr-only"></span></button>'),e.put("generated/components/notifications/comment_liked.html",'<div class="media-left"><user_avatar user="notification.actor()" size="small"></user_avatar></div><div class="media-body"><span translate="notifications.comment_liked" translate-value-name="{{notification.actor().name}}" translate-value-discussion="{{notification.event().discussion().title}}"></span> <timeago timestamp="notification.createdAt"></timeago> </div>'),e.put("generated/components/notifications/comment_replied_to.html",'<div class="media-left"><user_avatar user="notification.actor()" size="small"></user_avatar></div><div class="media-body"><span translate="notifications.comment_replied_to" translate-value-name="{{notification.actor().name}}" translate-value-discussion="{{notification.event().discussion().title}}"></span> <timeago timestamp="notification.createdAt"></timeago> </div>'),e.put("generated/components/notifications/invitation_accepted.html",'<div class="media-left"><user_avatar user="notification.actor()" size="small"></user_avatar></div><div class="media-body"><span translate="notifications.invitation_accepted" translate-value-name="{{notification.actor().name}}" translate-value-group="{{notification.group().name}}"></span> <timeago timestamp="notification.createdAt"></timeago> </div>'),e.put("generated/components/notifications/membership_request_approved.html",'<div class="media-left"><user_avatar user="notification.actor()" size="small"></user_avatar></div><div class="media-body"><span translate="notifications.membership_request_approved" translate-value-name="{{notification.actor().name}}" translate-value-group="{{notification.event().membership().group().fullName}}"></span> <timeago timestamp="notification.createdAt"></timeago> </div>'),e.put("generated/components/notifications/membership_requested.html",'<div ng-if="notification.event().membershipRequest().byExistingUser()" class="media"><div class="media-left"><user_avatar user="notification.event().membershipRequest().actor()" size="small"></user_avatar></div><div class="media-body"><span translate="notifications.membership_requested" translate-value-name="{{notification.event().membershipRequest().actor().name}}" translate-value-group="{{notification.event().membershipRequest().group().fullName}}"></span></div></div><div ng-if="!notification.event().membershipRequest().byExistingUser()" class="media"><div class="media-left"><img ng-src="{{notification.event().membershipRequest().group().logoUrl()}}" aria-hidden="true" class="lmo-box--small lmo-rounded-corners"></div><div class="media-body"><span translate="notifications.membership_requested" translate-value-name="{{notification.event().membershipRequest().name}}" translate-value-group="{{notification.event().membershipRequest().group().fullName}}"></span> <timeago timestamp="notification.createdAt"></timeago> </div></div>'),e.put("generated/components/notifications/motion_closed.html",'<div class="media-left"><user_avatar user="notification.actor()" size="small"></user_avatar></div><div class="media-body"><span translate="notifications.motion_closed" translate-value-proposal="{{notification.relevantRecord().name}}"></span> <timeago timestamp="notification.createdAt"></timeago> <div translate="notifications.publish_outcome" class="notifications__publish-outcome"></div></div>'),e.put("generated/components/notifications/motion_closing_soon.html",'<div class="media-left"><div class="thread-item__proposal-icon"></div></div><div class="media-body"><span translate="notifications.motion_closing_soon" translate-value-proposal="{{notification.relevantRecord().name}}"></span> <timeago timestamp="notification.createdAt"></timeago> </div>'),e.put("generated/components/notifications/motion_outcome_created.html",'<div class="media-left"><user_avatar user="notification.actor()" size="small"></user_avatar></div><div class="media-body"><span translate="notifications.motion_outcome_created" translate-value-name="{{notification.actor().name}}" translate-value-proposal="{{notification.relevantRecord().name}}"></span> <timeago timestamp="notification.createdAt"></timeago> </div>'),e.put("generated/components/notifications/new_coordinator.html",'<div class="media-left"><user_avatar user="notification.actor()" size="small"></user_avatar></div><div class="media-body"><span><strong><a lmo-href-for="notification.actor()" class="notifications__link">{{notification.actor().name}}</a></strong></span><span translate="notifications.new_coordinator"></span><span><strong><a lmo-href-for="notification.group()" class="notifications__link">{{notification.group().name}}</a></strong></span> <timeago timestamp="notification.createdAt"></timeago> </div>'),e.put("generated/components/notifications/notifications.html",'<div uib-dropdown="true" on-toggle="toggled(open)" class="blank"><button uib-dropdown-toggle="true" tabindex="4" class="lmo-btn--nude lmo-navbar__btn lmo-navbar__btn--notifications lmo-navbar__btn-icon notifications__button has-badge"><div translate="navbar.notifications" class="sr-only"></div><i aria-hidden="true" ng-class="{\'fa-bell\': hasUnread(), \'fa-bell-o\': !hasUnread()}" class="fa fa-lg fa-fw"></i><span ng-if="hasUnread()" class="badge notifications__activity">{{unreadCount()}}</span></button><div role="menu" class="uib-dropdown-menu lmo-dropdown-menu lmo-dropdown-menu--with-selector-list notifications__dropdown"><div class="navbar-notifications"><ul class="selector-list"><li translate="notifications.header" role="heading" class="selector-list-header"></li><li ng-class="{\'lmo-active\': !notification.viewed}" ng-repeat="notification in notifications() | orderBy: \'-createdAt\' track by notification.id" class="selector-list-item media"><a class="selector-list-item-link navbar-notifications__{{notification.kind()}}" lmo-href-for="notification.relevantRecord()" lmo-href-action="{{notification.actionPath()}}" ng-click="broadcastThreadEvent(notification)"><div ng-include="\'generated/components/notifications/\' + notification.kind() + \'.html\'" class="blank"></div></a></li></ul><loading ng-if="loading()"></loading></div></div></div>'),e.put("generated/components/notifications/user_added_to_group.html",'<span ng-if="notification.event().membership().inviter() == null"><span translate="notifications.user_added_to_group_no_inviter" translate-value-group="{{notification.event().membership().group().fullName}}"></span></span><div ng-if="notification.event().membership().inviter()" class="lmo-wrap"><div class="media-left"><user_avatar user="notification.event().membership().inviter()" size="small"></user_avatar></div><div class="media-body"><span translate="notifications.user_added_to_group" translate-value-name="{{notification.event().membership().inviter().name}}" translate-value-group="{{notification.event().membership().group().fullName}}"></span> <timeago timestamp="notification.createdAt"></timeago> </div></div>'),e.put("generated/components/notifications/user_mentioned.html",'<div class="media-left"><user_avatar user="notification.actor()" size="small"></user_avatar></div><div class="media-body"><span translate="notifications.user_mentioned" translate-value-name="{{notification.actor().name}}" translate-value-title="{{notification.event().comment().discussion().title}}"></span> <timeago timestamp="notification.createdAt"></timeago> </div>'),e.put("generated/components/pie_with_position/pie_with_position.html",'<div class="pie-with-position"><pie_chart votes="proposal.voteCounts" class="pie-with-position__pie-canvas"></pie_chart><div class="pie-with-position__position-icon-container"><div ng-if="lastVoteByCurrentUser(proposal)" class="pie-with-position__position-icon thread-preview__position-icon--{{lastVoteByCurrentUser(proposal).position}}"></div><div ng-if="!lastVoteByCurrentUser(proposal)" class="pie-with-position__undecided-icon"><i class="fa fa-question"></i></div></div></div>'),e.put("generated/components/previous_proposals_page/previous_proposals_page.html",'<div class="loading-wrapper lmo-one-column-layout"><loading ng-if="!previousProposalsPage.group"></loading><main ng-if="previousProposalsPage.group" class="previous-proposals-page"><group_theme group="previousProposalsPage.group"></group_theme><div class="previous-proposals-page__previous-proposals"><div class="lmo-card-left-right-padding"><h2 translate="previous_proposals_page.heading" class="lmo-h2"></h2></div><proposal_accordian ng-if="previousProposalsPage.group" model="previousProposalsPage.group"></proposal_accordian></div></main></div>'),e.put("generated/components/proposal_closing_time/proposal_closing_time.html",' <abbr class="closing-in timeago timeago--inline"><span ng-if="proposal.isActive()" translate="common.closing_in" translate-value-time="{{proposal.closingAt | timeFromNowInWords}}" ng-attr-title="{{proposal.closingAt | exactDateWithTime}}"></span><span ng-if="!proposal.isActive()" translate="common.closed_ago" translate-value-time="{{proposal.closedAt | timeFromNowInWords}}" ng-attr-title="{{proposal.closedAt | exactDateWithTime}}"></span></abbr> '),e.put("generated/components/proposal_form/closing_at_field.html",'<div class="closing-at-field"><div class="not-a-form-group"><label for="proposal-close-date-field" translate="proposal_form.closes"></label> <timeago timestamp="proposal.closingAt"></timeago> <div class="closing-at-group"><input type="date" min="{{dateToday}}" ng-model="closingDate" class="closing-at-field__date" id="proposal-close-date-field"><select ng-model="closingHour" class="closing-at-field__time"><option ng-repeat="hour in hours" value="{{hour}}" ng-selected="hour == closingHour">{{ times[hour] }}</option></select><span class="closing-at-field__zone">{{ timeZone }}</span></div></div></div>'),e.put("generated/components/proposal_form/proposal_form.html",'<form ng-submit="submit()" ng-disabled="proposal.processing" class="proposal-form"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 ng-if="proposal.isNew()" translate="proposal_form.start_a_proposal" class="lmo-h1"></h1><h1 ng-if="!proposal.isNew()" translate="proposal_form.edit_proposal" class="lmo-h1"></h1></div><div class="modal-body"><p ng-if="proposal.isNew()" translate="proposal_form.what_does_a_proposal_do"></p><p ng-if="!proposal.isNew()" translate="proposal_form.editing_title_and_description_forbidden"></p><form_errors record="proposal"></form_errors><fieldset ng-disabled="!proposal.canBeEdited()"><div class="lmo-form-group"><label for="proposal-title-field" translate="proposal_form.title_label"></label><div class="lmo-relative"><textarea msd-elastic="true" rows="1" placeholder="{{ \'proposal_form.title_placeholder\' | translate }}" ng-model="proposal.name" ng-model-options="{debounce: 600}" ng-change="storeDraft()" ng-required="false" maxlength="255" class="proposal-form__title-field form-control lmo-primary-form-input" id="proposal-title-field"></textarea></div><validation_errors subject="proposal" field="name"></validation_errors></div><div class="lmo-form-group"><label for="proposal-details-field" translate="proposal_form.details_label"></label><div class="lmo-relative"><textarea msd-elastic="true" ng-model="proposal.description" ng-model-options="{debounce: 600}" ng-change="storeDraft()" placeholder="{{ \'proposal_form.details_placeholder\' | translate }}" class="lmo-textarea proposal-form__details-field form-control lmo-primary-form-input" id="proposal-details-field"></textarea><emoji_picker target-selector="descriptionSelector" class="lmo-action-dock"></emoji_picker></div></div><closing_at_field proposal="proposal"></closing_at_field></fieldset></div><div class="modal-footer"><button ng-if="proposal.isNew()" type="submit" translate="proposal_form.start_proposal" class="lmo-btn--submit proposal-form__start-btn"></button><button ng-if="!proposal.isNew()" type="submit" translate="common.action.save_changes" class="lmo-btn--submit proposal-form__save-changes-btn"></button><button ng-click="$close($event)" type="button" translate="common.action.cancel" class="lmo-btn--cancel proposal-form__cancel-btn"></button></div></form>'),e.put("generated/components/profile_page/profile_page.html",'<div class="loading-wrapper lmo-one-column-layout"><loading ng-if="!profilePage.user"></loading><main ng-if="profilePage.user" class="profile-page"><h1 translate="profile_page.profile" class="lmo-h1 lmo-vertical-spacer-lg"></h1><div class="profile-page-card"><div ng-show="profilePage.isDisabled" class="lmo-disabled-form"></div><h3 translate="profile_page.edit_profile" class="lmo-h3"></h3><label for="user-picture-field" translate="profile_page.picture_label"></label><user_avatar user="profilePage.user" size="featured"></user_avatar><div class="lmo-vertical-spacer"><button ng-click="profilePage.changePicture()" translate="profile_page.change_picture_link" class="profile-page__change-picture lmo-link"></button></div><div class="profile-page__profile-fieldset lmo-vertical-spacer"><label for="user-name-field" translate="profile_page.name_label"></label><input ng-required="ng-required" ng-model="profilePage.user.name" class="profile-page__name-input form-control" id="user-name-field"><validation_errors subject="profilePage.user" field="name"></validation_errors><label for="user-username-field" translate="profile_page.username_label"></label><input ng-required="ng-required" ng-model="profilePage.user.username" class="profile-page__username-input form-control" id="user-username-field"><validation_errors subject="profilePage.user" field="username"></validation_errors><label for="user-email-field" translate="profile_page.email_label"></label><input ng-required="ng-required" ng-model="profilePage.user.email" class="profile-page__email-input form-control" id="user-email-field"><validation_errors subject="profilePage.user" field="email"></validation_errors><label for="user-locale-field" translate="profile_page.locale_label"></label><select ng-model="profilePage.user.selectedLocale" ng-required="true" ng-options="locale.key as locale.name for locale in profilePage.availableLocales()" class="profile-page__language-input form-control" id="user-locale-field"></select><validation_errors subject="profilePage.user" field="selectedLocale"></validation_errors></div><div class="profile-page__update-account lmo-vertical-spacer"><button ng-click="profilePage.submit()" ng-disabled="isDisabled" translate="profile_page.update_profile" class="lmo-btn--submit profile-page__update-button"></button></div><div class="lmo-vertical-spacer"><button ng-click="profilePage.changePassword()" translate="profile_page.change_password_link" class="profile-page__change-password lmo-link"></button></div></div><div ng-if="profilePage.canDeactivateUser()" class="profile-page-card"><h3 translate="profile_page.deactivate_user.title" class="lmo-h3"></h3><button ng-click="profilePage.deactivateUser()" translate="profile_page.deactivate_user_link" class="lmo-link lmo-vertical-spacer"></button></div></main></div>'),
e.put("generated/components/proposal_redirect/proposal_redirect.html",'<div class="lmo-one-column-layout">redirecting to thread</div>'),e.put("generated/components/registered_app_form/registered_app_form.html",'<form name="registeredAppForm" ng_submit="submit()" ng-disabled="isDisabled" class="registered-app-form"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="registered_app_form.new_application_title" ng-show="application.isNew()" class="lmo-h1 modal-title"></h1><h1 translate="registered_app_form.edit_application_title" ng-hide="application.isNew()" class="lmo-h1 modal-title"></h1></div><div class="modal-body registered-app-form__modal-body"><div class="lmo-form-group registered-app-form__avatar"><img ng-src="{{application.logoUrl}}"> <button ng-if="!application.isNew()" type="button" ng-click="clickFileUpload()" class="lmo-btn--cancel registered-app-form__logo-upload-button"> <i class="fa fa-lg fa-camera"></i>  <span translate="common.action.upload"></span> </button> <input type="file" ng-model="file" ng-file-select="upload(file)" class="registered-app-form__logo-input hidden"></div><div class="lmo-form-group registered-app-form__text-fields"><label for="application-name" translate="registered_app_form.name_label"></label><input placeholder="{{ \'registered_app_form.name_placeholder\' | translate }}" ng-model="application.name" ng-required="true" maxlength="255" class="registered-app-form__name-input form-control lmo-primary-form-input"><validation_errors subject="application" field="name"></validation_errors><label for="application-redirect-uri" translate="registered_app_form.redirect_uri_label"></label><textarea msd-elastic="true" ng-model="application.redirectUri" ng-required="true" placeholder="{{ \'registered_app_form.redirect_uri_placeholder\' | translate }}" class="lmo-textarea registered-app-form__redirect-uris-input form-control"></textarea><abbr translate="registered_app_form.redirect_uri_note" class="registered-app-form__helptext"></abbr><validation_errors subject="application" field="redirectUri"></validation_errors></div><div class="clearfix"></div></div><div class="modal-footer"><button type="submit" translate="registered_app_form.new_application_submit" ng-show="application.isNew()" class="lmo-btn--submit registered-app-form__submit"></button><button type="submit" translate="registered_app_form.edit_application_submit" ng-hide="application.isNew()" class="lmo-btn--primary registered-app-form__update"></button><button type="button" ng-click="$close()" translate="common.action.cancel" class="lmo-btn--cancel registered-app-form__cancel"></button></div></form>'),e.put("generated/components/registered_app_page/registered_app_page.html",'<div class="lmo-one-column-layout"><loading ng-if="!registeredAppPage.application"></loading><main ng-if="registeredAppPage.application" class="registered-app-page"><img ng-src="{{registeredAppPage.application.logoUrl}}" class="registered-app-page__avatar"><h1 class="lmo-h1 registered-app-page__title">{{ registeredAppPage.application.name }}</h1><hr><h3 translate="registered_app_page.uid" class="lmo-h3 registered-app-page__header"></h3><div class="registered-app-page__flex"><code class="registered-app-page__code">{{ registeredAppPage.application.uid }}</code><button type="button" title="{{ \'common.copy\' | translate }}" clipboard="true" text="registeredAppPage.application.uid" on-copied="registeredAppPage.copied()" class="lmo-btn--nude registered-app-page__btn--copy"> <i class="fa fa-copy"></i> </button></div><h3 translate="registered_app_page.secret" class="lmo-h3 registered-app-page__header"></h3><div class="registered-app-page__flex"><code class="registered-app-page__code">{{ registeredAppPage.application.secret }}</code><button type="button" title="{{ \'common.copy\' | translate }}" clipboard="true" text="registeredAppPage.application.secret" on-copied="registeredAppPage.copied()" class="lmo-btn--nude registered-app-page__btn--copy"> <i class="fa fa-copy"></i> </button></div><h3 translate="registered_apps_page.redirect_uris" class="lmo-h3 registered-app-page__header"></h3><div ng-repeat="uri in registeredAppPage.application.redirectUriArray()" class="registered-app-page__flex"><code class="registered-app-page__code">{{ uri }}</code><button type="button" title="{{ \'common.copy\' | translate }}" clipboard="true" text="uri" on-copied="registeredAppPage.copied()" class="lmo-btn--nude registered-app-page__btn--copy"> <i class="fa fa-copy"></i> </button></div><hr><a lmo-href="/apps/registered" class="lmo-btn--cancel pull-left"><span translate="common.action.back"></span></a> <button type="button" translate="common.action.remove" ng-click="registeredAppPage.openRemoveForm()" class="lmo-btn--danger pull-right"></button>  <button type="button" translate="common.action.edit" ng-click="registeredAppPage.openEditForm()" class="lmo-btn--primary pull-right registered-app-page__edit"></button> <div class="clearfix"></div></main></div>'),e.put("generated/components/proposal_accordian/proposal_accordian.html",'<div class="proposal-accordian"><div ng-repeat="proposal in model.closedProposals() | orderBy:\'-closedAt\' track by proposal.id" id="proposal-{{proposal.id}}" class="lmo-wrap"><div ng-if="selectedProposalId == proposal.id" class="active-proposal"><proposal_expanded proposal="proposal" can_collapse="true"></proposal_expanded></div><div ng-if="selectedProposalId != proposal.id" ng-click="selectProposal(proposal)" class="inactive-proposal"><proposal_collapsed proposal="proposal"></proposal_collapsed></div></div></div>'),e.put("generated/components/registered_apps_page/registered_apps_page.html",'<div class="lmo-one-column-layout"><loading ng-show="registeredAppsPage.loading"></loading><main ng-if="!registeredAppsPage.loading" class="registered-apps-page"><h1 translate="registered_apps_page.title" class="lmo-h1"></h1><hr><div ng-if="registeredAppsPage.applications().length == 0" translate="registered_apps_page.no_applications" class="lmo-placeholder"></div><div ng-if="registeredAppsPage.applications().length &gt; 0" class="registered-apps-page__table"><div class="row registered-apps-page__table-row"><div class="col-xs-1"></div><div translate="registered_apps_page.name" class="lmo-bold col-xs-3"></div><div translate="registered_apps_page.redirect_uris" class="lmo-bold col-xs-7"></div><div class="lmo-bold col-xs-1"></div></div><div ng-repeat="application in registeredAppsPage.applications() | orderBy: \'name\' track by application.id" class="row registered-apps-page__table-row"><div class="col-xs-1 align-right"> <img ng-src="{{application.logoUrl}}" class="registered-apps-page__avatar"> </div><div class="col-xs-3"><a lmo-href-for="application" class="registered-apps-page__name">{{ application.name }}</a></div><div class="col-xs-7"><code ng-repeat="uri in application.redirectUriArray()" class="registered-apps-page__code">{{uri}}</code></div><div class="col-xs-1 align-center"><button ng-click="registeredAppsPage.openDestroyForm(application)" class="registered-apps-page__remove-link"><i class="fa fa-lg fa-times-circle"></i></button></div><div class="clearfix"></div></div></div><hr><button ng-click="registeredAppsPage.openApplicationForm()" class="lmo-btn lmo-btn--submit"><span translate="registered_apps_page.create_new_application"></span></button></main></div>'),e.put("generated/components/remove_app_form/remove_app_form.html",'<form ng-submit="submit()"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="remove_app_form.title" translate-value-name="{{application.name}}" class="lmo-h1"></h1></div><div class="modal-body"><span translate="remove_app_form.question" translate-value-name="{{application.name}}"></span></div><div class="modal-footer"><button type="submit" translate="remove_app_form.submit" class="lmo-btn--danger"></button><button ng-click="$close()" type="button" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></form>'),e.put("generated/components/revoke_app_form/revoke_app_form.html",'<form ng-submit="submit()"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="revoke_app_form.title" translate-value-name="{{application.name}}" class="lmo-h1"></h1></div><div class="modal-body"><span translate="revoke_app_form.question" translate-value-name="{{application.name}}"></span></div><div class="modal-footer"><button type="submit" translate="revoke_app_form.submit" class="lmo-btn--danger"></button><button ng-click="$close()" type="button" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></form>'),e.put("generated/components/remove_membership_form/remove_membership_form.html",'<form ng-submit="submit()"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="memberships_page.remove_membership.title" class="lmo-h1"></h1></div><div class="modal-body"><span translate="memberships_page.remove_membership.question" translate-value-name="{{membership.userName()}}" translate-value-group="{{membership.group().name}}"></span></div><div class="modal-footer"><button type="submit" translate="memberships_page.remove_membership.submit" class="lmo-btn--danger memberships-page__remove-membership-confirm"></button><button ng-click="$close()" type="button" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></form>'),e.put("generated/components/smart_time/smart_time.html",' <abbr class="smart-time"><span data-toggle="tooltip" ng-attr-title="{{time | exactDateWithTime}}">{{value}}</span></abbr> '),e.put("generated/components/star_toggle/star_toggle.html",'<div ng-if="isLoggedIn()" class="star-toggle"><input type="checkbox" id="star-thread-{{thread.id}}" ng-change="thread.saveStar()" ng-model="thread.starred" class="sr-only"><label for="star-thread-{{thread.id}}" class="fa"><span translate="star_toggle.star" class="sr-only"></span></label></div>'),e.put("generated/components/start_group_form/start_group_form.html",'<form name="startGroupForm" ng_submit="submit()" ng-disabled="group.processing" class="start-group-form"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 ng-if="group.isParent()" translate="start_group_form.heading" class="lmo-h1 modal-title"></h1><h1 ng-if="group.isSubgroup()" translate="start_group_form.heading_when_subgroup" class="lmo-h1 modal-title"></h1></div><div class="modal-body"><form_errors record="group"></form_errors><div ng-if="group.isParent()" translate="start_group_form.group_helptext" class="group-helptext"></div><div class="lmo-form-group"><label for="group-name" ng-if="group.isParent()" translate="start_group_form.name_label"></label><label for="group-name" ng-if="group.isSubgroup()" translate="start_group_form.subgroup_name_label"></label><input ng-model="group.name" ng-model-options="{debounce: 600}" ng-change="storeDraft()" ng-required="true" class="start-group-form__name lmo-primary-form-input form-control" id="group-name"></div><div class="lmo-form-group"><label for="group-description" translate="start_group_form.description_label"></label><textarea msd-elastic="true" ng-model="group.description" ng-model-options="{debounce: 600}" ng-change="storeDraft()" placeholder="{{ \'start_group_form.description_placeholder\' | translate }}" class="lmo-textarea start-group-form__description lmo-primary-form-input form-control" id="group-description"></textarea></div><div ng-if="group.isParent()" translate="start_group_form.group_payment_reminder" class="group-payment-notice"></div></div><div class="modal-footer"><button type="submit" translate="start_group_form.submit" class="lmo-btn--submit start-group-form__submit"></button><button type="button" ng-click="$close()" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></form>'),e.put("generated/components/start_menu/start_menu.html",'<div class="start-menu"><div ng-show="startMenuOpen" uib-modal-window="uib-modal-window" ng-click="toggleStartMenu()" class="start-menu__modal-backdrop modal-backdrop"></div><div ng-show="startMenuOpen" class="start-menu__options start-menu__over-modal"><start_menu_option text="invite_people" icon="user" action="invitePeople" group="currentGroup" hotkey="pressedI"></start_menu_option><start_menu_option text="start_group" icon="group" action="startGroup" group="currentGroup" hotkey="pressedG"></start_menu_option><start_menu_option text="start_thread" icon="pencil" action="startThread" group="currentGroup" hotkey="pressedT"></start_menu_option></div><button ng-click="toggleStartMenu()" title="{{\'start_menu.title\' | translate}}" class="start-menu__start-button start-menu__menu-button start-menu__over-modal"><i ng-if="!startMenuOpen" class="fa fa-plus fa-2x"></i><i ng-if="startMenuOpen" class="fa fa-times fa-2x"></i></button></div>'),e.put("generated/components/start_menu/start_menu_option.html",'<button class="start-menu__option start-menu__{{action}}" ng-click="openModal()"><div translate="start_menu.{{text}}" class="start-menu__option-text"></div><div class="start-menu__option-icon start-menu__menu-button"><i class="fa fa-lg fa-{{icon}}"></i></div></button>'),e.put("generated/components/start_proposal_button/start_proposal_button.html",'<div ng-show="canStartProposal()" class="start-proposal-button"><button type="button" ng-click="startProposal()" class="lmo-btn--featured start-proposal-button__button"> <i class="fa fa-lg fa-rocket"></i> <span translate="proposal_form.start_proposal"></span></button></div>'),e.put("generated/components/thread_lintel/thread_lintel.html",'<div ng-if="show()" class="thread-lintel__wrapper"><div class="thread-lintel__content"><div ng-class="{\'lmo-width-75\': !proposalButtonInView}" class="thread-lintel__left"><div ng-click="scrollToThread()" class="lmo-truncate thread-lintel__title">{{ discussion.title }}</div><div ng-if="discussion.activeProposal() &amp;&amp; !proposalInView" ng-click="scrollToProposal()" class="lmo-truncate thread-lintel__proposal"><div class="thread-lintel__proposal-pie-chart"><pie_chart votes="discussion.activeProposal().voteCounts" class="lmo-box--tiny"></pie_chart></div><span>{{ discussion.activeProposal().name }}</span></div></div><div ng-if="!discussion.activeProposal() &amp;&amp; !proposalButtonInView" class="thread-lintel__right"><start_proposal_button discussion="discussion" class="hidden-xs"></start_proposal_button></div><div class="thread-lintel__progress-wrap thread-lintel__progress"><div style="width: {{positionPercent}}%" class="thread-lintel__progress-bar thread-lintel__progress"></div></div></div></div>'),e.put("generated/components/thread_page/thread_page.html",'<div class="loading-wrapper lmo-two-column-layout"><loading ng-if="!threadPage.discussion"></loading><main ng-if="threadPage.discussion" class="thread-page"><group_theme group="threadPage.discussion.group()" compact="true"></group_theme><div class="lmo-thread-column-left"><section aria-label="{{ \'thread_context.aria_label\' | translate }}" class="thread-context"><div class="thread-actions pull-right"><star_toggle thread="threadPage.discussion"></star_toggle><span uib-dropdown="true" ng-if="threadPage.showContextMenu()"><button uib-dropdown-toggle="true" class="thread-context__dropdown-button lmo-btn--nude"><div translate="thread_context.thread_options" class="sr-only"></div><i class="fa fa-fw fa-chevron-down"></i></button><div class="thread-context__dropdown uib-dropdown-menu lmo-dropdown-menu"><ul class="lmo-dropdown-menu-items"><li ng-if="threadPage.canChangeVolume()" class="lmo-dropdown-menu-item"><a ng-click="threadPage.openChangeVolumeForm()" translate="thread_context.email_settings" class="thread-context__dropdown-options-email-settings lmo-dropdown-menu-item-label"></a></li><li ng-if="threadPage.canEditThread()" class="lmo-dropdown-menu-item"><a ng-click="threadPage.editThread()" translate="thread_context.edit_thread" class="thread-context__dropdown-options-edit lmo-dropdown-menu-item-label"></a></li><li ng-if="threadPage.canMoveThread()" class="lmo-dropdown-menu-item"><a ng-click="threadPage.moveThread()" translate="thread_context.move_thread" class="thread-context__dropdown-options-move lmo-dropdown-menu-item-label"></a></li><li class="lmo-dropdown-menu-item"><a lmo-href-for="threadPage.discussion" lmo-href-action="print" target="_blank" class="thread-context__dropdown-options-print"><span translate="thread_context.print_thread"></span></a></li><li ng-if="threadPage.canDeleteThread()" class="lmo-dropdown-menu-item"><a ng-click="threadPage.deleteThread()" translate="thread_context.delete_thread" class="thread-context__dropdown-options-delete lmo-dropdown-menu-item-label"></a></li></ul></div></span></div><h1 in-view="threadPage.showLintel(!$inview)" class="lmo-h1" id="thread-context__heading">{{threadPage.discussion.title}}</h1><h1 ng-if="threadPage.translation"><translation translation="threadPage.translation" field="title"></translation></h1><div class="thread-context__details"><span translate="discussion.started_by" translate-value-name="{{::threadPage.discussion.authorName()}}"></span> <timeago timestamp="::threadPage.discussion.createdAt" class="nowrap"></timeago>  <translate_button model="threadPage.discussion" showdot="true" class="lmo-card-minor-action"></translate_button> <span aria-hidden="true">·</span><span ng-if="threadPage.discussion.edited()"> <button ng-click="threadPage.showRevisionHistory()" translate="discussion.edited" class="thread-context__edited-link lmo-btn-link"></button> <span aria-hidden="true">·</span></span> <span ng-show="threadPage.discussion.private" class="nowrap discussion-privacy__is-private"> <i class="fa fa-lock"></i> <span translate="common.privacy.private"></span></span>  <span ng-show="!threadPage.discussion.private" class="nowrap discussion-privacy__is-public"> <i class="fa fa-globe"></i> <span translate="common.privacy.public"></span></span> <outlet name="after-thread-title"></outlet></div><div marked="threadPage.discussion.description" aria-label="{{ \'thread_context.aria_label\' | translate }}" class="thread-context__description lmo-markdown-wrapper"></div><translation ng-if="threadPage.translation &amp;&amp; threadPage.discussion.description" translation="threadPage.translation" field="description"></translation><a ng-click="threadPage.editThread()" translate="thread_context.edit_thread" ng-if="threadPage.canEditThread()" class="thread-context__edit-link lmo-card-minor-action"></a></section></div><div class="lmo-thread-column-right"><section in-view="threadPage.proposalButtonInView($inview)" in-view-options="{debounce: 200}" ng-if="threadPage.canStartProposal()" aria-label="{{ \'start_proposal_card.title\' | translate }}" class="start-proposal-card"><h2 translate="common.models.proposal" class="lmo-card-heading"></h2><div translate="start_proposal_card.helptext" class="lmo-placeholder lmo-hint-text table-cell"></div><div class="start-proposal-card__start-proposal-button"><start_proposal_button discussion="threadPage.discussion" class="table-cell thread-start-proposal-button"></start_proposal_button></div></section><current_proposal_card in-view="threadPage.proposalInView($inview)" in-view-options="{debounce: 200}" ng-if="threadPage.discussion.hasActiveProposal()" proposal="threadPage.discussion.activeProposal()"></current_proposal_card><previous_proposals_card discussion="threadPage.discussion"></previous_proposals_card></div><div class="lmo-thread-column-left"><activity_card discussion="threadPage.discussion" active-comment-id="threadPage.activeCommentId"></activity_card><comment_form discussion="threadPage.discussion"></comment_form><outlet name="thread-page-column-right"></outlet></div><thread_lintel></thread_lintel><div class="clearfix"></div></main></div>'),e.put("generated/components/thread_preview/thread_preview.html",'<div class="thread-preview"><a lmo-href-for="thread" class="thread-preview__link"><div class="thread-preview__icon"><user_avatar ng-if="!thread.activeProposal()" user="thread.author()" size="medium"></user_avatar><div ng-if="thread.activeProposal()" class="thread-preview__pie-container"><pie_chart votes="thread.activeProposal().voteCounts" ng-if="thread.activeProposal()" class="thread-preview__pie-canvas"></pie_chart><div class="thread-preview__position-icon-container"><div ng-if="lastVoteByCurrentUser(thread)" class="thread-preview__position-icon thread-preview__position-icon--{{lastVoteByCurrentUser(thread).position}}"></div><div ng-if="!lastVoteByCurrentUser(thread)" class="thread-preview__undecided-icon"><i class="fa fa-question"></i></div></div></div></div><div class="sr-only"><span>{{thread.authorName()}}: {{thread.title}}.</span><span ng-if="thread.isUnread()" translate="dashboard_page.aria_thread.unread" translate-value-count="{{ thread.unreadItemsCount() }}"></span><span ng-if="thread.activeProposal()" translate="dashboard_page.aria_thread.current_proposal" translate-value-name="{{ thread.activeProposal().name }}"></span><span ng-if="thread.activeProposal() &amp;&amp; lastVoteByCurrentUser(thread)" translate="dashboard_page.aria_thread.you_voted" translate-value-position=" {{lastVoteByCurrentUser(thread).position}} "></span></div><div aria-hidden="true" class="screen-only"><div class="thread-preview__text-container"><div ng-class="{\'thread-preview--unread\': thread.isUnread() }" class="thread-preview__title">{{thread.title}}</div><div ng-if="thread.isUnread() &amp;&amp; thread.itemsCount &gt; 0" class="thread-preview__unread-count">({{thread.unreadItemsCount()}})</div></div><div ng-if="thread.activeProposal()" class="thread-preview__text-container"> <div class="thread-preview__proposal-name">{{ thread.activeProposal().name }}</div> <div ng-if="thread.activeProposal().closingSoon()" class="thread-preview__proposal-closing-container"> <proposal_closing_time proposal="thread.activeProposal()" class="thread-preview__proposal-closing-at"></proposal_closing_time> </div></div><div class="thread-preview__text-container"><div class="thread-preview__group-name">{{ thread.group().fullName }} · <smart_time time="thread.lastActivityAt"></smart_time> </div></div><outlet name="after-thread-preview"></outlet></div></a><div class="thread-preview__star"><star_toggle thread="thread" aria-hidden="true"></star_toggle></div><div ng-if="thread.discussionReaderId" class="thread-preview__actions hidden-xs"> <button ng-click="thread.markAsRead()" ng-class="{disabled: !thread.isUnread()}" title="{{\'dashboard_page.mark_as_read\' | translate }}" class="thread-preview__mark-as-read"> <i class="fa fa-check"></i> </button>  <button ng-click="changeVolume(\'mute\')" ng-show="!thread.isMuted()" title="{{ \'volume_levels.mute\' | translate }}" class="thread-preview__mute"><i class="fa fa-volume-off"></i> <i class="fa fa-times"></i> </button>  <button ng-click="changeVolume(\'normal\')" ng-show="thread.isMuted()" title="{{ \'volume_levels.unmute\' | translate }}" class="thread-preview__mute"> <i class="fa fa-volume-down"></i> </button> </div></div>'),e.put("generated/components/thread_preview_collection/thread_preview_collection.html",'<div class="thread-previews"><outlet name="before-thread-previews"></outlet><div ng-repeat="thread in query.threads() | orderBy:importance track by thread.key | limitTo: limit" class="blank"><thread_preview thread="thread"></thread_preview></div></div>'),e.put("generated/components/timeago/timeago.html",' <abbr class="timeago"><span am-time-ago="timestamp" data-toggle="tooltip" ng-attr-title="{{timestamp | exactDateWithTime}}"></span></abbr> '),e.put("generated/components/translate_button/translate_button.html",'<div class="translate-button"> <span ng-if="showdot &amp;&amp; (canTranslate() || translateExecuting || translated)" aria-hidden="true">·</span>  <button ng-if="canTranslate()" ng-click="translate()" translate="common.action.translate" class="thread-item__translate"></button> <loading ng-show="translateExecuting" class="translate-button__loading"></loading> <span ng-if="translated" translate="common.action.translated" class="thread-item__translation"></span> </div>'),e.put("generated/components/translation/translation.html",'<div class="translation"><hr><div marked="translated" class="translation__body lmo-markdown-wrapper"></div><hr></div>'),e.put("generated/components/user_avatar/user_avatar.html",'<div class="user-avatar lmo-box--{{size}}" aria-hidden="true" ng-class="{\'user-avatar--coordinator\': coordinator}" title="{{user.name}}"><div class="lmo-box--{{size}} user-avatar__initials--{{size}}" aria-hidden="true" ng-if="user.avatarKind == \'initials\'">{{user.avatarInitials}}</div><img class="lmo-box--{{size}}" ng-if="user.avatarKind == \'gravatar\'" gravatar-src-once="user.gravatarMd5" gravatar-size="50" alt="{{::user.name}}"><img class="lmo-box--{{size}}" ng-if="user.avatarKind == \'uploaded\'" alt="{{user.name}}" ng-src="{{::user.avatarUrl}}"></div>'),e.put("generated/components/user_page/user_page.html",'<div class="loading-wrapper container main-container lmo-one-column-layout"><loading ng-if="!userPage.user"></loading><main ng-if="userPage.user" class="user-page main-container lmo-row"><div class="user-page__profile"><div class="user-page__left"><user_avatar user="userPage.user" size="featured"></user_avatar></div><div class="user-page__right"><h1 class="user-page__name">{{userPage.user.name}}</h1><h4 class="user-page__username">@{{userPage.user.username}}</h4><h2 translate="common.groups" class="lmo-h2 user-page__groups-title"></h2><div ng-repeat="group in userPage.user.groups() | orderBy: \'fullName\' track by group.id" class="user-page__groups"><a lmo-href-for="group">{{group.fullName}}</a></div><loading ng-if="userPage.loadGroupsForExecuting"></loading></div><div class="clearfix"></div></div></main></div>'),e.put("generated/components/validation_errors/validation_errors.html",'<div class="lmo-validation-error"><label for="{{field}}-error" ng-repeat="error in subject.errors[field]"><span>{{error}}</span></label></div>'),e.put("generated/components/move_thread_form/move_thread_form.html",'<form ng-submit="submit()"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="move-thread-form"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="move_thread_form.title" class="lmo-h1"></h1></div><div class="modal-body"><label for="group-dropdown" translate="move_thread_form.body"></label><select ng-model="discussion.groupId" ng-required="ng-required" ng-options="group.id as group.fullName for group in availableGroups() | orderBy: \'fullName\'" ng-change="updateTarget()" class="move-thread-form__group-dropdown form-control" id="group-dropdown"></select></div><div class="modal-footer"><button type="button" translate="move_thread_form.confirm" ng-click="moveThread()" class="lmo-btn--submit move-thread-form__submit"></button><button ng-click="$close()" type="button" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></div></form>'),e.put("generated/components/mute_explanation_modal/mute_explanation_modal.html",'<div class="mute-explanation-modal"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="mute_explanation_modal.mute_thread" class="lmo-h1 mute-explanation-modal__title"></h1></div><div class="modal-body mute-explanation-modal__body"><div translate="mute_explanation_modal.body" class="mute-explanation-modal__mute-explanation"></div><div class="mute-explanation-modal__muted-threads-image"><img src="/img/muted-threads-cropped.png" alt="Muted threads filter"></div></div><div class="modal-footer lmo-clearfix"><button type="button" ng-click="changeVolume(\'mute\')" translate="mute_explanation_modal.mute_thread" class="mute-explanation-modal__mute-thread"></button><button type="button" ng-click="$close()" translate="common.action.cancel" class="mute-explanation-modal__cancel"></button></div></div>'),e.put("generated/components/navbar/navbar.html",'<header role="banner" class="lmo-navbar"><section role="navigation" class="lmo-navbar-item-container lmo-navbar-item-container--left"><div ng-if="isLoggedIn()" ng-class="{\'lmo-navbar__item--selected\': selected == \'dashboardPage\'}" class="lmo-navbar__item"><a lmo-href="/dashboard" title="{{ \'navbar.recent_title\' | translate }}" tabindex="1" ng-click="homePageClicked()" class="btn lmo-navbar__btn lmo-navbar__btn-icon lmo-navbar__recent"> <i class="fa fa-lg fa-clock-o"></i> <span translate="navbar.recent" class="lmo-navbar__btn-label"></span></a></div><div ng-if="isLoggedIn()" ng-class="{\'lmo-navbar__item--selected\': selected == \'inboxPage\'}" class="lmo-navbar__item"><a lmo-href="/inbox" title="{{ \'navbar.unread_title\' | translate }}" tabindex="2" class="btn lmo-navbar__btn lmo-navbar__btn-icon has-badge"> <i class="fa fa-lg fa-inbox"></i> <span translate="navbar.unread" class="lmo-navbar__btn-label"></span><span ng-show="unreadThreadCount() &gt; 0" class="badge">{{unreadThreadCount()}}</span></a></div><div ng-if="isLoggedIn()" ng-class="{\'lmo-navbar__item--selected\': selected == \'groupsPage\'}" class="lmo-navbar__item"><a lmo-href="/groups" title="{{ \'navbar.groups_title\' | translate }}" tabindex="3" class="groups-item btn lmo-navbar__btn-icon lmo-navbar__btn"> <i class="fa fa-lg fa-group"></i> <span translate="navbar.groups" class="lmo-navbar__btn-label"></span></a></div><div class="lmo-navbar__item lmo-navbar__logo"><img src="img/logo.png"><span ng-if="!officialLoomio">{{hostName}}</span></div></section><div class="lmo-navbar-item-container lmo-navbar-item-container--right"><section role="search" class="lmo-navbar-item-container__sub lmo-navbar-item-container__sub--left"><div class="lmo-navbar__item"><navbar_search></navbar_search></div></section><section aria-label="{{ \'navbar.user_actions\' | translate }}" class="lmo-navbar-item-container__sub lmo-navbar-item-container__sub--right"><div ng-if="isLoggedIn()" class="lmo-navbar__logged-in"><div ng-if="isLoggedIn()" class="lmo-navbar__item lmo-navbar__item--notifications"><notifications></notifications></div><div ng-if="isLoggedIn()" class="lmo-navbar__item lmo-navbar__item--user"><navbar_user_options></navbar_user_options></div></div><div ng-if="!isLoggedIn()" class="lmo-navbar__logged-out"> <button ng-click="goToSignIn()" class="lmo-navbar__sign-in"><span translate="navbar.sign_in"></span></button> </div></section></div></header>'),e.put("generated/components/navbar/navbar_search.html",'<div class="navbar-search"><div class="navbar-search-input-wrapper"><label translate="navbar.search.placeholder" class="sr-only"></label><input ng-model="query" ng-model-options="{debounce: {default: 400, blur: 200}}" ng-change="getSearchResults(query)" placeholder="{{ \'navbar.search.placeholder\' | translate }}" ng-focus="focused = true" ng-blur="handleSearchBlur()" tabindex="2" class="navbar-search-input form-control" id="primary-search-input"><i ng-hide="query" aria-hidden="true" class="fa fa-lg fa-fw fa-search navbar-search-input-icon"></i><i ng-show="query" ng-click="clearAndFocusInput()" title="{{ \'navbar.search.close\' | translate }}" class="fa fa-lg fa-fw fa-times navbar-search-input-icon"></i></div><div ng-show="showDropdown()" class="navbar-search-results"><ul class="group-selector-list selector-list"><li ng-show="groups().length &gt; 0" class="navbar-search-list-item selector-list-header"><h3 translate="common.groups" class="lmo-dropdown-heading"></h3></li><li ng-repeat="group in groups() | orderBy: \'fullName\' track by group.id" ng-class="{\'selector-list-item-no-bottom-line\': (queryEmpty()), \'selector-list-item-top-line\': (queryEmpty() &amp;&amp; group.isParent())}" class="navbar-search-list-item navbar-search-list-option selector-list-item media"><a lmo-href-for="group" ng-mousedown="closeSearchDropdown($event)" ng-blur="handleSearchBlur()" class="selector-list-item-link"><div class="media-left"><div ng-if="group.isSubgroup() &amp;&amp; queryEmpty()" class="selector-list-item-group-logo"></div><img ng-if="group.isParent() || queryPresent()" ng-src="{{group.logoUrl()}}" aria-hidden="true" class="selector-list-item-group-logo"></div><div class="selector-list-item-group-name media-body"><div ng-if="queryPresent()" class="blank">{{ group.fullName }}</div><div ng-if="queryEmpty()" ng-class="{\'font-bold\': group.isParent()}" class="blank">{{ group.name }}</div></div></a></li></ul><ul ng-show="query" class="thread-list selector-list"><li ng-show="searching" class="navbar-search-list-item selector-list-item search-loading"><loading></loading></li><li ng-show="noResultsFound()" translate="navbar.search.no_results" class="navbar-search-list-item selector-list-item no-results-found"></li><li ng-show="searchResults &amp;&amp; !(searching || noResultsFound())" class="navbar-search-list-item selector-list-header"><h3 translate="navbar.search.discussions" class="lmo-dropdown-heading"></h3></li><li ng-show="!(searching || noResultsFound())" ng-repeat="searchResult in searchResults | orderBy: [\'-rank\', \'-lastActivityAt\']" class="navbar-search-list-item navbar-search-list-option selector-list-item media"><a lmo-href-for="searchResult" ng-mousedown="closeSearchDropdown($event)" ng-blur="handleSearchBlur()" class="search-result selector-list-item-link"><search_result result="searchResult"></search_result></a></li></ul></div></div>'),
e.put("generated/components/navbar/navbar_user_options.html",'<div class="navbar-user-options"><div uib-dropdown="true" class="blank"><button tabindex="5" uib-dropdown-toggle="true" class="btn lmo-btn-nude lmo-navbar__btn lmo-navbar__btn-icon"><div translate="navbar.user_options.label" class="sr-only"></div><user_avatar user="currentUser" size="small" ng-if="currentUser.avatarKind != \'initials\'"></user_avatar><div ng-if="currentUser.avatarKind == \'initials\'" class="navbar-user-options__user-profile-icon user-avatar"><i class="fa fa-lg fa-user"></i></div></button><div class="uib-dropdown-menu lmo-dropdown-menu lmo-dropdown-menu--with-icons user-options-dropdown"><ul class="lmo-dropdown-menu-items"><li class="lmo-dropdown-menu-item"><a lmo-href="/profile" class="navbar-user-options__profile-link"> <i class="fa fa-lg fa-cog"></i> <span translate="navbar.user_options.profile"></span></a></li><li class="lmo-dropdown-menu-item"><a lmo-href="/email_preferences" class="navbar-user-options__email-settings-link"> <i class="fa fa-envelope"></i> <span translate="navbar.user_options.email_settings"></span></a></li><li class="lmo-dropdown-menu-item"><a lmo-href="{{helpLink()}}" target="_blank" class="navbar-user-options__help-link"> <i class="fa fa-info-circle"></i> <span translate="navbar.user_options.help"></span></a></li><li ng-if="showContactUs()" class="lmo-dropdown-menu-item"><a ng-click="contactUs()" class="navbar-user-options__contact-us-link"> <i class="fa fa-question-circle"></i> <span translate="navbar.user_options.contact_us"></span></a></li><li class="lmo-dropdown-menu-item"><a ng-click="signOut()" class="navbar-user-options__sign-out-link"> <i class="fa fa-lg fa-sign-out"></i> <span translate="navbar.user_options.sign_out"></span></a></li></ul></div></div></div>'),e.put("generated/components/navbar/search_result.html",'<div class="blank"><div class="pull-right"> <smart_time time="result.lastActivityAt"></smart_time> </div><div class="search-result-item"><div class="search-result-title">{{ result.title }}</div><div class="search-result-group-name">{{ result.resultGroupName }}</div><div ng-if="result.blurb" class="search-result-blurb"><span ng-if="showBlurbLeader()" class="search-result__leader">…</span><span ng-bind-html="result.blurb" class="search-result__blurb"></span><span ng-if="showBlurbTrailer()" class="search-result__trailer">…</span></div></div></div>'),e.put("generated/components/group_page/cover_photo_form/cover_photo_form.html",'<div class="cover-photo-form"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="group_cover_modal.heading" class="lmo-h1 modal-title"></h1></div><div class="modal-body"><button ng-click="selectFile()" class="lmo-btn-link"><div class="lmo-box--small lmo-float--left"><div class="user-avatar__initials--small"><i class="fa fa-lg fa-camera"></i></div></div><span translate="group_cover_modal.upload_link" class="lmo-option-text"></span></button><div class="lmo-clearfix"></div><input type="file" ng-model="files" ng-file-select="upload(files)" class="hidden cover-photo-form__file-input"><p translate="group_cover_modal.helptext"></p><p translate="group_cover_modal.image_size_helptext"></p></div><div class="modal-footer lmo-clearfix"><button ng-click="$close()" type="button" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></div>'),e.put("generated/components/group_page/discussions_card/discussions_card.html",'<section aria-labelledby="threads-card-title" class="discussions-card"><div class="discussions-card__header"><h2 translate="group_page.discussions" class="lmo-card-heading" id="threads-card-title"></h2><button ng-if="isMemberOfGroup()" ng_click="openDiscussionForm()" title="{{ \'navbar.start_thread\' | translate }}" class="discussions-card__new-thread-button"> <i class="fa fa-plus"></i> <span translate="navbar.start_thread"></span></button><div translate="group_page.discussions_placeholder" ng-if="showThreadsPlaceholder()" class="lmo-placeholder"></div></div><div ng-if="!loadMoreExecuting &amp;&amp; !discussions.any()" class="discussions-card__list--empty"><div translate="group_page.thread_list.empty.{{whyImEmpty()}}" class="discussions-card__list-empty-reason"></div><div ng-if="howToGainAccess()" class="discussions-card__how-to-gain-access"><span translate="group_page.thread_list.empty.{{howToGainAccess()}}"></span></div></div><div class="discussions-card__list"><section ng-if="discussions.any()" class="thread-preview-collection__container"><thread_preview_collection query="discussions" class="thread-previews-container"></thread_preview_collection></section><div ng-if="canLoadMoreDiscussions" class="lmo-show-more"><button ng-hide="loadMoreExecuting" ng-click="loadMore()" translate="common.action.show_more" class="discussions-card__show-more"></button></div><loading ng-show="loadMoreExecuting"></loading></div></section>'),e.put("generated/components/group_page/gift_card/gift_card.html",'<div class="blank"><section ng-if="show()" class="gift-card"><h2 translate="gift_card.heading" class="lmo-card-heading"></h2><p translate="gift_card.body" translate-value-name="{{group.name}}"></p><button ng-click="makeDonation()" class="gift-card__confirm-button"> <i class="fa fa-lg fa-gift"></i> <span translate="gift_card.make_a_contribution"></span></button></section></div>'),e.put("generated/components/group_page/group_previous_proposals_card/group_previous_proposals_card.html",'<div class="blank"><section ng-if="showPreviousProposals()" aria-labelledby="group-previous-proposals-card__title" class="group-previous-proposals-card"><h2 translate="group_previous_proposals_card.heading" class="lmo-card-heading" id="group-previous-proposals-card__title"></h2><ul class="group-previous-proposals-card__previous_proposals"><li ng-repeat="proposal in group.closedProposals() | limitTo: 3 track by proposal.id" class="group-previous-proposals-card__previous_proposal"><pie_with_position proposal="proposal" class="pull-left"></pie_with_position><a lmo-href-for="group" lmo-href-action="previous_proposals"><div class="group-previous-proposals-card__proposal-title">{{proposal.name}}</div></a></li></ul><a lmo-href-for="group" lmo-href-action="previous_proposals" class="group-previous-proposals-card__link lmo-card-minor-action"><span translate="group_previous_proposals_card.see_more"></span></a></section></div>'),e.put("generated/components/group_page/group_actions_dropdown/group_actions_dropdown.html",'<div uib-dropdown="true" class="group-page-actions"><button uib-dropdown-toggle="true" class="lmo-btn--nude group-page-actions__button"> <span translate="group_page.options.label"></span> <i class="fa fa-lg fa-angle-down"></i></button><div role="menu" class="uib-dropdown-menu lmo-dropdown-menu lmo-dropdown-menu--with-icons"><ul class="lmo-dropdown-menu-items"><li ng-if="groupActions.canEditGroup()" class="lmo-dropdown-menu-item"><a ng-click="groupActions.editGroup()" class="group-page-actions__edit-group-link"> <i class="fa fa-lg fa-cog"></i> <span translate="group_page.options.edit_group"></span></a></li><li ng-if="groupActions.canAdministerGroup()" class="lmo-dropdown-menu-item"><a lmo-href-for="group" lmo-href-action="memberships" class="group-page-actions__manage-memberships-link"> <i class="fa fa-lg fa-users"></i> <span translate="group_page.options.manage_members"></span></a></li><li ng-if="groupActions.canManageGroupSubscription()" class="lmo-dropdown-menu-item"><a ng-if="group.subscriptionKind == \'paid\'" ng-click="groupActions.manageSubscriptions()" class="group-page-actions__manage-subscription-link"> <i class="fa fa-lg fa-calendar-check-o"></i> <span translate="group_page.options.manage_subscription"></span></a><a ng-if="group.subscriptionKind == \'gift\'" ng-click="groupActions.choosePlan()" class="group-page-actions__manage-subscription-link"> <i class="fa fa-lg fa-gift"></i> <span translate="group_page.options.manage_subscription"></span></a></li><li ng-if="groupActions.canAddSubgroup()" class="lmo-dropdown-menu-item"><a ng-click="groupActions.addSubgroup()" class="group-page-actions__add-subgroup-link"> <i class="fa fa-lg fa-plus"></i> <span translate="group_page.options.add_subgroup"></span></a></li><li ng-if="groupActions.canChangeVolume()" class="lmo-dropdown-menu-item"><a ng-click="groupActions.openChangeVolumeForm()" class="group-page-actions__change-volume-link"> <i class="fa fa-lg fa-bell"></i> <span translate="group_page.options.email_settings"></span></a></li><li class="lmo-dropdown-menu-item"><a ng-click="groupActions.leaveGroup()" class="group-page-actions__leave-group"> <i class="fa fa-lg fa-sign-out"></i> <span translate="group_page.options.leave_group"></span></a></li><li ng-if="groupActions.canArchiveGroup()" class="lmo-dropdown-menu-item"><a ng-click="groupActions.archiveGroup()" class="group-page-actions__archive-group"> <i class="fa fa-lg fa-ban"></i> <span translate="group_page.options.deactivate_group"></span></a></li></ul></div></div>'),e.put("generated/components/group_page/group_help_card/group_help_card.html",'<div class="blank"><section ng-if="showHelpCard()" class="group-help-card"><h2 translate="group_help_card.title" class="lmo-card-heading"></h2><div class="group-help-card__video-wrapper"><div ng-if="showVideo" class="lmo-bank"><iframe width="269" height="150" src="https://www.youtube.com/embed/pF-wpXo8Rdw?showinfo=0&nologo=1" frameborder="0" allowfullscreen></iframe></div></div><div class="group-help-card__articles"><div class="media"><div class="media-left"><img src="/img/10-tips.png" alt="Weaving in agenda points" class="group-help-card__article-thumbnail"></div><div class="media-body"><a href="http://blog.loomio.org/2015/09/10/10-tips-for-making-great-decisions-with-loomio/" title="10 tips for making great decisions with Loomio" target="_blank" class="group-help-card__article-title"><span translate="group_help_card.ten_tips_article_title"></span></a></div></div><div class="media"><div class="media-left"><img src="/img/conversation-to-action.png" alt="Caring work environment" class="group-help-card__article-thumbnail"></div><div class="media-body"><a href="http://blog.loomio.org/2015/09/18/9-ways-to-use-a-loomio-proposal-to-turn-a-conversation-into-action/" title="9 ways to use a Loomio proposal to turn a conversation into action" target="_blank" class="group-help-card__article-title"><span translate="group_help_card.nine_ways_to_use_proposals"></span></a></div></div></div><a lmo-href="{{helpLink()}}" target="_blank" class="group-help-card__more-help lmo-card-minor-action"><span translate="common.more_help"></span></a></section></div>'),e.put("generated/components/group_page/group_privacy_button/group_privacy_button.html",'<button uib-popover="{{privacyDescription()}}" title="{{privacyDescription()}}" class="group-privacy-button"><div translate="group_page.privacy.aria_label" translate-value-privacy="{{group.groupPrivacy}}" class="sr-only"></div><div aria-hidden="true" class="screen-only"> <i ng-class="iconClass()" class="fa fa-lg"></i> <span translate="common.privacy.{{group.groupPrivacy}}"></span></div></button>'),e.put("generated/components/group_page/join_group_button/join_group_button.html",'<div class="blank"><div ng-if="!isMember()" class="join-group-button"><div ng-if="canJoinGroup()" class="blank"><button translate="join_group_button.join_group" ng-click="joinGroup()" class="join-group-button__join-group"></button></div><div ng-if="canRequestMembership()" class="blank"><button translate="join_group_button.ask_to_join_group" ng-click="requestToJoinGroup()" class="join-group-button__ask-to-join-group"></button></div></div></div>'),e.put("generated/components/group_page/group_welcome_modal/group_welcome_modal.html",'<div class="group-welcome-modal"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="group_welcome_modal.heading" class="lmo-h1 modal-title"></h1></div><div class="modal-body"><p translate="group_welcome_modal.first_step"></p><div ng-if="showVideo" class="group-welcome-model__video-wrapper"><iframe src="https://www.youtube.com/embed/pF-wpXo8Rdw?showinfo=0&amp;nologo=1" frameborder="0" class="group-welcome-modal__video"></iframe></div><p translate="group_welcome_modal.second_step"></p></div><div class="modal-footer lmo-clearfix"><button type="button" ng-click="$close()" translate="group_welcome_modal.ok_got_it" class="lmo-btn--primary group-welcome-modal__close-button"></button></div></div>'),e.put("generated/components/group_page/group_theme/group_theme.html",'<div class="group-theme"><div ng-style="coverStyle()" class="group-theme__cover"><div ng-mouseover="themeHoverIn()" ng-mouseleave="themeHoverOut()" ng-if="canUploadPhotos()" class="group-theme__upload-photo"><button ng-click="openUploadCoverForm()" title="{{ \'group_page.new_photo\' | translate }}" class="lmo-btn-link"><i class="fa fa-lg fa-camera"></i><span ng-show="themeHover" translate="group_page.new_photo" class="group-theme__upload-help-text"></span></button></div></div><div ng-if="compact" class="group-theme__header--compact"><div aria-hidden="true" class="group-theme__logo--compact"><a lmo-href-for="group"><img ng-src="{{group.logoUrl()}}"></a></div><div class="group-theme__name--compact"><a ng-if="group.isSubgroup()" lmo-href-for="group.parent()">{{group.parentName()}}</a> <span ng-if="group.isSubgroup()">-</span> <a lmo-href-for="group">{{group.name}}</a></div></div><div ng-if="!compact" class="group-theme__header"><div ng-style="logoStyle()" alt="{{ \'group_page.group_logo\' | translate }}" class="group-theme__logo"><div ng-mouseover="logoHoverIn()" ng-mouseleave="logoHoverOut()" ng-if="canUploadPhotos()" class="group-theme__upload-photo"><button ng-click="openUploadLogoForm()" title="{{ \'group_page.new_photo\' | translate }}" class="lmo-btn-link"><i class="fa fa-lg fa-camera"></i><span ng-show="logoHover" translate="group_page.new_photo" class="group-theme__upload-help-text"></span></button></div></div><div class="group-theme__name-and-actions"><h1 aria-label="breadcrumb" role="navigation" class="lmo-h1 group-theme__name"><a ng-if="group.isSubgroup()" lmo-href-for="group.parent()" aria-level="1">{{group.parentName()}}</a> <span ng-if="group.isSubgroup()">-</span> <a lmo-href-for="group" aria-level="2">{{group.name}}</a></h1><div ng-if="homePage" class="group-theme__actions"><div ng-if="isMember()" class="group-theme__member-actions"><div class="pull-right"><group_actions_dropdown group="group"></group_actions_dropdown></div><group_privacy_button group="group"></group_privacy_button></div><join_group_button group="group"></join_group_button></div><div class="clearfix"></div></div></div></div>'),e.put("generated/components/group_page/logo_photo_form/logo_photo_form.html",'<div class="logo-photo-form"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="group_logo_modal.heading" class="lmo-h1 modal-title"></h1></div><div class="modal-body"><button ng-click="selectFile()" class="lmo-btn-link"><div class="lmo-box--small lmo-float--left"><div class="user-avatar__initials--small"><i class="fa fa-lg fa-camera"></i></div></div><span translate="group_logo_modal.upload_link" class="lmo-option-text"></span></button><div class="lmo-clearfix"></div><input type="file" ng-model="files" ng-file-select="upload(files)" class="hidden logo-photo-form__file-input"><p translate="group_logo_modal.image_size_helptext"></p></div><div class="modal-footer lmo-clearfix"><button ng-click="$close()" type="button" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></div>'),e.put("generated/components/group_page/members_card/members_card.html",'<div class="blank"><section ng-if="canViewMemberships()" aria-labelledby="members-card-title" class="members-card"><h2 translate="group_page.members" class="lmo-card-heading" id="members-card-title"></h2><div class="members-card__list"><div ng-if="group.memberships().length &gt; 1" ng-repeat="membership in group.memberships() | orderBy: \'-admin\' | limitTo:10" class="members-card__avatar"><user_avatar user="membership.user()" coordinator="membership.admin" size="medium"></user_avatar></div><div translate="group_page.members_placeholder" ng-if="showMembersPlaceholder()" class="lmo-placeholder"></div></div><div ng-if="canAddMembers()" class="members-card__invite-members"><button ng_click="invitePeople()" class="members-card__invite-members-btn"> <i class="fa fa-lg fa-plus"></i> <span translate="group_page.invite_people"></span></button></div><a lmo-href-for="group" lmo-href-action="memberships" class="members-card__manage-members"><span translate="group_page.all_members" translate-value-count="{{group.membershipsCount}}"></span></a></section></div>'),e.put("generated/components/group_page/membership_request_form/membership_request_form.html",'<form ng-submit="submit()" ng-disabled="membership_request.processing" class="membership-request-form"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="membership_request_form.heading" class="lmo-h1"></h1></div><div class="modal-body"><fieldset><div class="lmo-form-group"><label for="membership-request-name" translate="membership_request_form.name_label"></label><input ng-model="membershipRequest.name" ng-required="true" ng-disabled="isLoggedIn()" class="membership-request-form__name form-control" id="membership-request-name"></div><div class="lmo-form-group"><label for="membership-request-email" translate="membership_request_form.email_label"></label><input ng-model="membershipRequest.email" ng-required="true" ng-disabled="isLoggedIn()" class="membership-request-form__email form-control" id="membership-request-email"></div><div class="lmo-form-group"><label for="membership-request-introduction" translate="membership_request_form.introduction_label"></label><textarea ng-model="membershipRequest.introduction" ng-required="false" class="lmo-textarea membership-request-form__introduction form-control" id="membership-request-introduction"></textarea></div></fieldset></div><div class="modal-footer"><button type="submit" translate="membership_request_form.submit_button" class="membership-request-form__submit-btn"></button><button ng-click="$close()" type="button" translate="common.action.cancel" class="membership-request-form__cancel-btn"></button></div></form>'),e.put("generated/components/group_page/subgroups_card/subgroups_card.html",'<div class="blank"><section ng-if="showSubgroupsCard()" aria-labelledby="subgroups-card__title" class="subgroups-card"><h2 translate="group_page.subgroups" class="lmo-card-heading" id="subgroups-card__title"></h2><ul class="subgroups-card__list"><li ng-repeat="subgroup in group.subgroups() | orderBy: \'name\' track by subgroup.id" class="subgroups-card__list-item"><div class="subgroups-card__list-item-logo"><group_avatar group="subgroup" size="medium"></group_avatar></div><div class="subgroups-card__list-item-name"><a lmo-href-for="subgroup">{{ subgroup.name }}</a></div><div class="subgroups-card__list-item-description">{{ subgroup.description | truncate }}</div></li></ul><button ng-click="startSubgroup()" ng-if="canCreateSubgroups()" class="subgroups-card__add-subgroup-link"><span translate="common.action.add_subgroup"></span></button></section></div>'),e.put("generated/components/group_page/membership_requests_card/membership_requests_card.html",'<div class="blank"><section ng-if="canManageMembershipRequests() &amp;&amp; group.hasPendingMembershipRequests()" class="membership-requests-card"><h2 translate="membership_requests_card.heading" class="lmo-card-heading"></h2><ul class="membership-requests-card__pending-requests"><li ng-repeat="membershipRequest in group.pendingMembershipRequests() | orderBy: \'-createdAt\' | limitTo: 5 track by membershipRequest.id" class="media"><a lmo-href-for="group" lmo-href-action="membership_requests" title="{{ \'membership_requests_card.manage_requests\' | translate }}"><div class="media-left"><user_avatar user="membershipRequest.actor()" size="medium"></user_avatar></div><div class="media-body"><span class="membership-requests-card__requestor-name">{{membershipRequest.actor().name}}</span><div class="lmo-truncate membership-requests-card__requestor-introduction">{{membershipRequest.introduction}}</div></div></a></li></ul><a lmo-href-for="group" lmo-href-action="membership_requests" class="membership-requests-card__link lmo-card-minor-action"><span translate="membership_requests_card.manage_requests_with_count" translate-value-count="{{group.pendingMembershipRequests().length}}"></span></a></section></div>'),e.put("generated/components/group_page/subscription_success_modal/subscription_success_modal.html",'<div class="subscription-success-modal"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="subscription_success_modal.heading" class="lmo-h1 modal-title"></h1></div><div class="modal-body"><img src="img/mascot.png" class="subscription-success-modal__mascot"><div class="subscription-success-modal__message"><p translate="subscription_success_modal.receipt"></p><p><span translate="subscription_success_modal.change_subscription"></span><span><button translate="subscription_success_modal.contact_link" ng-click="openIntercom()" class="subscription-success-modal__contact-link"></button></span></p><p translate="subscription_success_modal.sign_off"></p></div></div><div class="modal-footer lmo-clearfix"><button type="button" ng-click="$close()" translate="subscription_success_modal.ok_got_it" class="lmo-btn--submit"></button></div></div>'),e.put("generated/components/group_page/trial_card/trial_card.html",'<div class="blank"><section ng-if="show()" class="trial-card"><h2 translate="trial_card.title" class="lmo-card-heading" id="trial-card__title"></h2><p ng-if="!isExpired()" translate="trial_card.in_progress_body" translate-values="{name: group.name}"></p><p ng-if="isExpired()" translate="trial_card.expired_body_html" translate-values="{name: group.name}"></p><button ng-click="choosePlan()" class="trial-card__choose-plan-button"> <i class="fa fa-lg fa-calendar-check-o"></i> <span translate="trial_card.choose_plan"></span></button></section></div>'),e.put("generated/components/invitation_form/add_members_modal/add_members_modal.html",'<div class="lmo-blank"><loading ng-if="loadExecuting"></loading><div ng-if="!loadExecuting" class="add-members-modal"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="add_members_modal.heading" translate-values="{name: group.parentName()}" class="lmo-h1 modal-title"></h1></div><div class="modal-body"><div ng-if="!canAddMembers()" class="add-members-modal__empty-list"><p translate="add_members_modal.no_members_to_add" translate-value-parent="{{group.parentName()}}"></p></div><div ng-if="canAddMembers()" class="add-members-modal__list"><label ng-repeat="member in members()" class="add-members-modal__list-item"><input type="checkbox" checklist-model="selectedIds" checklist-value="member.id"><user_avatar user="member" size="small"></user_avatar><strong>{{member.name}}</strong>&nbsp;(@{{member.username}})</label></div></div><div class="modal-footer lmo-clearfix"><button type="button" ng-click="reopenInvitationsForm()" translate="common.action.back" class="lmo-btn--cancel"></button><button type="button" ng-click="submit()" translate="add_members_modal.add_members" ng-if="canAddMembers()" class="lmo-btn--submit add-members-modal__submit"></button></div></div></div>'),e.put("generated/components/memberships_page/admin_memberships_panel/admin_memberships_panel.html",'<div class="blank"><div class="row memberships-page__table-row"><div class="col-xs-7"></div><div translate="memberships_page.coordinator_label" class="lmo-bold col-xs-3 hidden-xs align-center"></div><div translate="memberships_page.remove_member_label" class="lmo-bold col-xs-2 hidden-xs align-center"></div></div><div ng-repeat="membership in memberships() | orderBy: \'-admin\' track by membership.id" data-username="{{membership.user().username}}" class="row memberships-page__table-row memberships-page__membership"><div class="col-xs-7"><div class="media"><div class="media-left hidden-xs"><user_avatar user="membership.user()" size="medium" coordinator="membership.admin"></user_avatar></div><div class="media-body"><div class="memberships-page__member-info"><a lmo-href-for="membership.user()">{{::membership.user().name}}</a><div>@{{::membership.user().username}}</div></div></div></div></div><div class="col-xs-3 align-center"><input type="checkbox" ng-model="membership.admin" ng-change="toggleAdmin(membership)" ng-disabled="!canToggleAdmin(membership)" class="memberships-page__make-coordinator"></div><div class="col-xs-2 align-center"><button ng-click="openRemoveForm(membership)" ng-show="canRemoveMembership(membership)" class="memberships-page__remove-link"><i class="fa fa-lg fa-times-circle"></i></button></div></div><div class="row memberships-page__table-row"><div ng-if="canAddMembers()" class="members-card__invite-members col-xs-6"><button ng_click="invitePeople()" class="lmo-btn--featured lmo-btn--block lmo-btn--icon"> <i class="fa fa-lg fa-plus"></i> <span translate="group_page.invite_people"></span></button></div></div></div>'),e.put("generated/components/memberships_page/pending_invitations_card/pending_invitations_card.html",'<div class="blank"><section ng-if="canSeeInvitations() &amp;&amp; group.hasPendingInvitations()" class="pending-invitations-card"><h3 translate="pending_invitations_card.heading" class="lmo-card-heading"></h3><table class="pending-invitations-card__pending-invitations table"><thead><tr><th translate="pending_invitations_card.email" class="pending_invitations_card__email-heading"></th><th translate="pending_invitations_card.invitation_link" class="pending-invitations-card__invitation-url-heading"></th><th translate="pending_invitations_card.sent" class="pending-invitations-card__sent-heading"></th><th></th></tr></thead><tbody><tr ng-repeat="invitation in group.pendingInvitations() track by invitation.id"><td class="pending-invitations-card__email">{{invitation.recipientEmail}}</td><td class="pending-invitations-card__invitation-url">{{baseUrl}}invitations/{{invitation.token}}</td><td class="pending-invitations-card__sent">{{invitationCreatedAt(invitation)}}</td><td class="align-center"><button ng-click="openCancelForm(invitation)" class="pending-invitations-card__cancel-link"><i class="fa fa-lg fa-times-circle"></i></button></td></tr></tbody></table></section></div>'),e.put("generated/components/memberships_page/memberships_panel/memberships_panel.html",'<div class="blank"><div class="row memberships-page__table-row"></div><div ng-repeat="membership in memberships() track by membership.id" class="row memberships-page__table-row memberships-page__membership"><div class="col-xs-8"><div class="media"><div class="media-left hidden-xs"><user_avatar user="membership.user()" size="medium" coordinator="membership.admin"></user_avatar></div><div class="media-body"><div class="memberships-page__member-info"><a lmo-href-for="membership.user()">{{::membership.user().name}}</a><div>@{{::membership.user().username}}</div></div></div></div></div></div><div class="row memberships-page__table-row"><div ng-if="canAddMembers()" class="members-card__invite-members col-xs-6"><a ng_click="invitePeople()" class="lmo-btn--featured lmo-btn--block lmo-btn--icon"> <i class="fa fa-lg fa-plus"></i> <span translate="group_page.invite_people"></span></a></div></div></div>'),e.put("generated/components/memberships_page/cancel_invitation_form/cancel_invitation_form.html",'<form ng-submit="submit()"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="cancel_invitation_form.heading" class="lmo-h1"></h1></div><div class="modal-body"><span translate="cancel_invitation_form.question"></span></div><div class="modal-footer"><button type="submit" translate="cancel_invitation_form.submit" class="lmo-btn--danger cancel-invitation-form__submit"></button><button ng-click="$close()" type="button" translate="cancel_invitation_form.cancel" class="lmo-btn--cancel"></button></div></form>'),e.put("generated/components/thread_page/comment_form/attachment_form.html",'<div class="comment-form-attachments"><button type="button" ng-click="selectFile()" ng-hide="files" aria-label="{{ \'comment_form.attachments.aria_label\' | translate }}" class="lmo-btn--default"><i class="fa fa-lg fa-paperclip"></i></button><input type="file" ng-model="files" ng-file-select="upload(files)" class="attachment-form__file-input hidden"><div ng-repeat="file in files" class="attachment-form-in-progress"><div class="progress active attachment-form-progress-field"><span class="attachment-form-progress-text">{{ file.name }}: {{ percentComplete }} %</span><uib-progressbar ng-attr-value="percentComplete" class="attachment-form-progress-bar progress-striped active"></uib-progressbar></div><button type="button" ng-click="abort()" class="close attachment-form-cancel cancel-upload">&times;</button></div></div>'),e.put("generated/components/thread_page/comment_form/comment_form.html",'<div class="blank"><section ng-if="showCommentForm()" aria-labelledby="comment-form-title"><form ng_submit="submit()" class="comment-form"><div ng-show="isDisabled" class="lmo-disabled-form"></div><input type="hidden" ng-model="comment.usesMarkdown"> <h2 translate="comment_form.aria_label" class="lmo-card-heading" id="comment-form-title"></h2> <span translate="comment_form.in_reply_to" translate-values="{name: \'{{comment.parent().authorName()}}\' }" ng-show="comment.parent().authorName()"></span><div class="lmo-relative"><textarea msd-elastic="true" ng-change="storeDraft()" ng-model-options="{ updateOn: \'default blur\', debounce: {\'default\': 300, \'blur\': 0} }" aria-labelledby="comment-form-title" name="body" placeholder="Say something..." ng_model="comment.body" mentio="mentio" mentio-trigger-char="\'@\'" mentio_items="mentionables" mentio-template-url="generated/components/thread_page/comment_form/mentio_menu.html" mentio-search="fetchByNameFragment(term)" mentio-id="comment-field" ng-focus="formInFocus()" ng-blur="formLostFocus()" class="lmo-textarea form-control comment-form__comment-field lmo-primary-form-input"></textarea><emoji_picker target-selector="bodySelector" class="lmo-action-dock"></emoji_picker></div><validation_errors subject="comment" field="body"></validation_errors><div ng_repeat="attachment in comment.newAttachments()" class="comment-row comment-attachments"></div><div ng-if="threadIsPublic()" translate="comment_form.public_privacy_notice" class="comment-form__privacy-notice"></div><div ng-if="threadIsPrivate()" translate="comment_form.private_privacy_notice" translate-value-group-name="{{comment.group().fullName}}" class="comment-form__privacy-notice"></div><attachment_preview attachment="attachment" mode="thumb" ng-repeat="attachment in comment.newAttachments() | orderBy: \'id\' track by attachment.id"></attachment_preview><div class="thread-comment-form-actions"><button type="submit" ng-disabled="submitIsDisabled" translate="comment_form.submit_button.label" class="lmo-btn--submit submit comment-form__submit-button"></button><button type="button" translate="comment_form.cancel_reply" ng-show="comment.parentId" ng-click="comment.parentId = null" class="lmo-btn--default comment-form-button"></button><attachment_form comment="comment"></attachment_form><button type="button" translate="common.action.cancel" ng-click="cancel($event)" ng-hide="comment.isNew()" class="lmo-btn--default" id="post-comment-cancel"></button><a lmo-href="/markdown" target="_blank" title="{{ \'common.formatting_help.title\' | translate }}" class="comment-form-button"><span translate="common.formatting_help.label"></span></a></div></form></section></div>'),
e.put("generated/components/thread_page/comment_form/delete_comment_form.html",'<div class="delete-comment-form"><form ng-submit="submit()" ng-disabled="comment.processing" name="deleteCommentForm"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h3 translate="comment_form.delete_comment" class="modal-title"></h3></div><div class="modal-body"><div translate="comment_form.confirm_delete_message" class="comment-form-delete-message"></div></div><div class="modal-footer"><button type="submit" translate="comment_form.confirm_delete" class="lmo-btn--danger delete-comment-form__delete-button"></button><button type="button" ng-click="$close()" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></form></div>'),e.put("generated/components/thread_page/comment_form/edit_comment_form.html",'<div class="edit-comment-form"><form ng-submit="submit()" ng-disabled="comment.processing" name="commentForm"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="comment_form.edit_comment" class="lmo-h1 modal-title"></h1></div><div class="modal-body"><div class="lmo-relative"><textarea name="body" ng_model="comment.body" mentio="mentio" mentio-trigger-char="\'@\'" mentio_items="mentionables" mentio-template-url="generated/components/thread_page/comment_form/mentio_menu.html" mentio-search="fetchByNameFragment(term)" mentio-id="comment-field" ng-model-options="{ updateOn: \'default blur\', debounce: {\'default\': 300, \'blur\': 0} }" class="lmo-textarea form-control edit-comment-form__comment-field"></textarea><emoji_picker target-selector="bodySelector" class="lmo-action-dock"></emoji_picker></div></div><div class="modal-footer"> <button type="submit" translate="common.action.save_changes" class="lmo-btn--submit comment-form__submit-btn"></button> <button type="button" ng-click="$close()" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></form></div>'),e.put("generated/components/thread_page/comment_form/mentio_menu.html",'<ul class="list-group user-search"><li mentio_menu_item="user" ng_repeat="user in items track by user.id" class="list-group-item"><div class="media-left"><user_avatar user="user" size="small"></user_avatar></div><div class="mentionable-content"><div class="mentionable-name">{{user.name}}</div><div class="mentionable-username">{{user.username}}</div></div></li></ul>'),e.put("generated/components/thread_page/current_proposal_card/current_proposal_card.html",'<section aria-labelledby="current-proposal-card-heading" class="current-proposal-card"><div class="lmo-card-heading-padding"><h2 translate="common.models.proposal" tabindex="0" class="lmo-card-heading" id="current-proposal-card-heading"></h2></div><proposal_expanded proposal="proposal"></proposal_expanded></section>'),e.put("generated/components/thread_page/activity_card/activity_card.html",'<section aria-labelledby="activity-card-title" class="activity-card"><h2 translate="discussion.activity" class="lmo-card-heading" id="activity-card-title"></h2><a ng-show="canLoadBackwards()" ng-click="loadEventsBackwards()" tabindex="0" class="activity-card__load-backwards"> <i class="fa fa-refresh"></i> <span translate="discussion.load_previous" translate-value-count="{{beforeCount()}}"></span></a><loading ng-show="loadEventsBackwardsExecuting" class="activity-card__loading page-loading"></loading><div ng-if="noEvents()" translate="discussion.activity_placeholder" class="activity-card__no-activity lmo-placeholder align-center"></div><ul class="activity-card__activity-list"><li ng_repeat="event in events() track by event.id" in-view="($inview&amp;&amp;threadItemVisible(event)) || (!$inview&amp;&amp;threadItemHidden(event))" in-view-options="{debounce: 100}" aria-labelledby="event-{{event.id}}" class="activity-card__activity-list-item"><div ng-if="$last" class="activity-card__last-item"></div><div id="sequence-{{event.sequenceId}}" ng-include="\'generated/components/thread_page/activity_card/\'+ event.kind + \'.html\'" ng-if="!event.deleted" class="activity-card-content"></div><div ng-if="event.sequenceId == lastReadSequenceId" ng-class="{\'activity-card__new-activity\': hasNewActivity}" translate="activity_card.new_activity" class="activity-card__last-read-activity"></div></li></ul><loading ng-show="loadEventsForwardsExecuting" class="activity-card__loading page-loading"></loading></section>'),e.put("generated/components/thread_page/activity_card/discussion_edited.html",'<div ng-controller="DiscussionEditedItemController" class="thread-item"><div class="thread-item__header media"><div class="media-left"><user_avatar user="event.actor()" size="small"></user_avatar></div><div class="media-body"><h3 id="event-{{event.id}}" class="thread-item__title"><strong> <a lmo-href-for="event.actor()">{{ event.actorName() }}</a> </strong><span translate="discussion_edited_item.{{translationKey}}" translate-value-title="{{title}}"></span><span><span ng-if="onlyPrivacyEdited()" translate="{{privacyKey()}}"></span></span><timeago timestamp="event.createdAt" class="timeago--inline"></timeago></h3></div></div></div>'),e.put("generated/components/thread_page/activity_card/discussion_moved.html",'<div ng-controller="DiscussionMovedItemController" class="thread-item"><div class="thread-item__header media"><div class="media-left"><user_avatar user="event.actor()" size="small"></user_avatar></div><div class="media-body"><h3 id="event-{{event.id}}" class="thread-item__title"><strong> <a lmo-href-for="event.actor()">{{ event.actorName() }}</a> </strong><span translate="discussion_moved_item.discussion_moved" translate-value-group="{{groupName}}"></span><timeago timestamp="event.createdAt" class="timeago--inline"></timeago></h3></div></div></div>'),e.put("generated/components/thread_page/activity_card/motion_closed.html",'<div ng-controller="MotionClosedItemController" class="thread-item"><div class="thread-item__header media"><div class="media-left"><div class="thread-item__proposal-icon"></div></div><div class="media-body"><h3 id="event-{{event.id}}" class="thread-item__title"><span translate="proposal_closed_item.proposal_closed" translate-values="{title: proposal.name}"></span><timeago timestamp="proposal.closingAt" class="timeago--inline"></timeago></h3></div></div></div>'),e.put("generated/components/thread_page/activity_card/motion_closed_by_user.html",'<div class="thread-item"><div class="thread-item__header media"><div class="media-left"><div class="thread-item__proposal-icon"></div></div><div class="media-body"><h3 class="thread-item__title"><strong> <a lmo-href-for="event.actor()">{{ event.actorName() }}</a> </strong><span id="event-{{event.id}}" translate="proposal_closed_by_user_item.proposal_closed_by_user" translate-value-title="{{event.proposal().name}}"></span><timeago timestamp="proposal.createdAt" class="timeago--inline"></timeago></h3></div></div></div>'),e.put("generated/components/thread_page/activity_card/motion_edited.html",'<div ng-controller="MotionEditedItemController" class="thread-item"><div class="thread-item__header media"><div class="media-left"><div class="thread-item__proposal-icon"></div></div><div class="media-body"><h3 id="event-{{event.id}}" class="thread-item__title"><strong> <a lmo-href-for="event.actor()">{{ event.actorName() }}</a> </strong><span translate="proposal_edited_item.{{translationKey}}" translate-values="{time: closingAt, title: title}"></span></h3></div></div><div class="thread-item__footer"><div class="thread-item__actions"><timeago timestamp="event.createdAt"></timeago></div></div></div>'),e.put("generated/components/thread_page/activity_card/motion_outcome_created.html",'<div ng-controller="MotionOutcomeCreatedItemController" class="thread-item"><div class="thread-item__header media"><div class="media-left"><user_avatar user="event.actor()" size="small"></user_avatar></div><div class="media-body"><h3 id="event-{{event.id}}" class="thread-item__title"><strong> <a lmo-href-for="event.actor()">{{ event.actorName() }}</a> </strong><span translate="proposal_outcome_created_item.proposal_outcome_created"></span></h3></div></div><div marked="proposal.outcome" class="thread-item__body lmo-markdown-wrapper"></div><div class="thread-item__footer"><div class="thread-item__actions"><timeago timestamp="event.createdAt"></timeago></div></div></div>'),e.put("generated/components/thread_page/activity_card/motion_outcome_updated.html",'<div ng-controller="MotionOutcomeUpdatedItemController" class="thread-item"><div class="thread-item__header media"><div class="media-left"><user_avatar user="event.actor()" size="small"></user_avatar></div><div class="media-body"><h3 id="event-{{event.id}}" class="thread-item__title"><strong> <a lmo-href-for="event.actor()">{{ event.actorName() }}</a> </strong><span translate="proposal_outcome_updated_item.proposal_outcome_updated"></span></h3></div></div><div marked="proposal.outcome" class="thread-item__body lmo-markdown-wrapper"></div><div class="thread-item__footer"><div class="thread-item__actions"><timeago timestamp="event.createdAt"></timeago></div></div></div>'),e.put("generated/components/thread_page/activity_card/new_comment.html",'<div ng_controller="NewCommentItemController" id="comment-{{comment.id}}" class="thread-item thread-item--comment"><div uib-dropdown="true" ng-if="showContextMenu()" class="pull-right"><button uib-dropdown-toggle="true" type="button" class="thread-item__dropdown-button lmo-btn--nude"><i class="fa fa-chevron-down"></i><div translate="new_comment_item.context_menu.aria_label" class="sr-only"></div></button><div class="uib-dropdown-menu lmo-dropdown-menu"><ul class="lmo-dropdown-menu-items"><li ng-if="canEditComment()" class="lmo-dropdown-menu-item"><a ng-click="editComment()" translate="new_comment_item.context_menu.edit_comment" class="lmo-dropdown-menu-item-label thread-item__edit-link"></a></li><li ng-if="canDeleteComment()" class="lmo-dropdown-menu-item"><a ng-click="deleteComment()" translate="new_comment_item.context_menu.delete_comment" class="lmo-dropdown-menu-item-label thread-item__delete-link"></a></li></ul></div></div><outlet name="before-comment-dropdown" class="lmo-relative pull-right"></outlet><div class="thread-item__header media"><div class="media-left"><user_avatar user="comment.author()" size="small"></user_avatar></div><div class="media-body"><h3 ng-if="comment.parentId" id="event-{{event.id}}" class="new-comment__in-reply-to"><strong> <a lmo-href-for="comment.author()">{{ comment.authorName() }}</a> </strong><span translate="new_comment_item.in_reply_to" translate-value-recipient="{{comment.parentAuthorName}}"></span></h3><h3 ng-if="!comment.parentId" class="new-comment__author-name"> <a lmo-href-for="comment.author()">{{ comment.authorName() }}</a> </h3><div ng-if="!comment.parentId" id="event-{{event.id}}" translate="new_comment_item.aria_label" translate-value-author="{{comment.authorName()}}" class="sr-only"></div></div></div><div marked="comment.cookedBody()" class="thread-item__body lmo-markdown-wrapper"></div><translation ng-if="translation" translation="translation" field="body" class="thread-item__body"></translation><div class="thread-item__attachments"><div ng-repeat="attachment in comment.attachments() | orderBy:\'createdAt\' track by attachment.id" class="thread-item__attachment"><attachment_preview attachment="attachment" mode="thread"></attachment_preview></div></div><div class="thread-item__footer"><div ng-if="showCommentActions()" class="thread-item__actions"> <button type="button" translate="common.action.like" ng-show="!currentUserLikesIt()" ng_click="like()" class="thread-item__action thread-item__action--like"></button>  <button type="button" translate="common.action.unlike" ng_click="unlike()" ng-show="currentUserLikesIt()" class="thread-item__action"></button>  <span aria-hidden="true">·</span>  <button translate="common.action.reply" type="button" ng_click="reply()" class="thread-item__action thread-item__action--reply"></button> <translate_button model="comment" showdot="true"></translate_button> <span aria-hidden="true">·</span>  <a lmo-href-for="comment"> <timeago timestamp="comment.createdAt"></timeago> </a> <span ng-if="comment.edited()"><span aria-hidden="true">·</span> <button ng-click="showRevisionHistory()" translate="new_comment_item.edited" class="thread-item__action--view-edits"></button> </span></div><div class="clearfix"></div><outlet name="after-comment-event"></outlet><div ng_show="anybodyLikesIt()" class="thread-item__liked-by">{{ likedBySentence }}</div></div></div>'),e.put("generated/components/thread_page/activity_card/new_motion.html",'<div class="thread-item"><div class="thread-item__header media"><div class="media-left"><user_avatar user="event.actor()" size="small"></user_avatar></div><div class="media-body"><h3 id="event-{{event.id}}" class="thread-item__title"><strong> <a lmo-href-for="event.actor()">{{ event.actorName() }}</a> </strong> <span translate="new_proposal_item.author_created_proposal" translate-value-title="{{event.proposal().name}}"></span> <timeago timestamp="event.createdAt" class="timeago--inline"></timeago></h3></div></div></div>'),e.put("generated/components/thread_page/activity_card/new_vote.html",'<div ng-controller="NewVoteItemController" class="thread-item"><div class="thread-item__header media"><div class="media-left"><div class="thread-item__vote-icon thread-item__vote-icon--{{vote.position}}"></div></div><div class="media-body"><h3 ng-if="!vote.hasStatement()" id="event-{{event.id}}" class="thread-item__title"><strong> <a lmo-href-for="vote.author()">{{vote.authorName()}}</a> </strong><span translate="new_vote_item.{{vote.positionVerb()}}"></span><timeago timestamp="vote.createdAt" class="timeago--inline"></timeago></h3><h3 ng-if="vote.hasStatement()" id="event-{{event.id}}" class="thread-item__title"><strong> <a lmo-href-for="vote.author()">{{vote.authorName()}}</a> </strong><span translate="new_vote_item.{{vote.positionVerb()}}_with_statement"></span><span marked="vote.statement" class="thread-item__vote-statement"></span><translation ng-if="translation" translation="translation" field="statement"></translation></h3></div><div class="thread-item__footer"> <timeago timestamp="vote.createdAt" class="timeago--inline"></timeago> <translate_button ng-if="vote.hasStatement()" model="vote" showdot="true"></translate_button></div></div></div>'),e.put("generated/components/thread_page/activity_card/thread_item.html",'<div id="{{event.sequenceId}}" ng_include="\'thread_page/activity_card/\'+ event.kind+ \'.html\'" class="thread-item"></div>'),e.put("generated/components/thread_page/comment/delete_comment.html",'<div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h3 translate="delete_comment_dialog.title" class="modal-title"></h3></div><div class="modal-body"><flash modal="true"></flash><span translate="delete_comment_dialog.question"></span></div><div class="modal-footer"><button ng-click="submit()" translate="delete_comment_dialog.confirm" class="lmo-btn--danger"></button><button ng-click="cancel($event)" translate="common.action.cancel" class="lmo-btn--cancel"></button></div>'),e.put("generated/components/thread_page/close_proposal_form/close_proposal_form.html",'<form ng-submit="submit()" ng-disabled="proposal.processing" class="close-proposal-form"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="close_proposal_form.close_proposal" class="lmo-h1"></h1></div><div class="modal-body"><span translate="close_proposal_form.helptext"></span></div><div class="modal-footer"><button type="submit" translate="close_proposal_form.close_proposal_submit" class="lmo-btn--submit close-proposal-form__submit-btn"></button><button type="button" ng-click="$close()" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></form>'),e.put("generated/components/thread_page/extend_proposal_form/extend_proposal_form.html",'<form ng-submit="submit()" ng-disabled="proposal.processing" class="extend-proposal-form"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="extend_proposal_form.title" class="lmo-h1"></h1></div><div class="modal-body"><closing_at_field proposal="proposal"></closing_at_field></div><div class="modal-footer"><button type="submit" translate="extend_proposal_form.submit" class="lmo-btn--submit cuke-extend-proposal-btn"></button><button type="button" ng-click="cancel($event)" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></form>'),e.put("generated/components/thread_page/previous_proposals_card/previous_proposals_card.html",'<section aria-labelledby="previous-proposals-card-heading" ng-show="anyProposals()" class="previous-proposals-card"><div class="lmo-card-heading-padding"><h2 translate="previous_proposals_card.heading" class="lmo-card-heading" id="previous-proposals-card-heading"></h2></div><proposal_accordian model="discussion" selected-proposal-id="selectedProposalId"></proposal_accordian></section>'),e.put("generated/components/thread_page/proposal_collapsed/proposal_collapsed.html",'<a id="proposal-{{proposal.key}}" class="proposal-collapsed"><div class="sr-only">{{proposal.name}}.<proposal_closing_time proposal="proposal">.</proposal_closing_time></div><div aria-hidden="true" class="screen-only proposal-collapsed__flex"><pie_with_position proposal="proposal"></pie_with_position><div class="proposal-collapsed__body"><div class="proposal-collapsed__title">{{proposal.name}}<proposal_closing_time proposal="proposal" class="proposal-collapsed__closed-at">.</proposal_closing_time></div><div ng-if="proposal.hasOutcome()" class="proposal-collapsed__outcome"> <span translate="proposal_collapsed.outcome"></span> <span marked="proposal.outcome"></span></div></div></div></a>'),e.put("generated/components/thread_page/position_buttons_panel/position_buttons_panel.html",'<div class="blank"><div ng-if="showPositionButtons()" class="position-buttons-panel"><h4 translate="position_buttons_panel.heading" class="lmo-card-subheading"></h4><div class="position_buttons_panel__buttons"><button ng-click="select(\'yes\')" class="position-button position-button--yes"><div translate="vote_form.i_agree" class="sr-only"></div></button><button ng-click="select(\'abstain\')" class="position-button position-button--abstain"><div translate="vote_form.i_abstain" class="sr-only"></div></button><button ng-click="select(\'no\')" class="position-button position-button--no"><div translate="vote_form.i_disagree" class="sr-only"></div></button><button ng-click="select(\'block\')" class="position-button position-button--block"><div translate="vote_form.i_block" class="sr-only"></div></button></div><outlet name="after-position-buttons"></outlet></div></div>'),e.put("generated/components/thread_page/proposal_expanded/proposal_expanded.html",'<div ng-show="proposal" id="proposal-{{proposal.key}}" class="proposal-expanded"><proposal_actions_dropdown proposal="proposal" ng-if="showActionsDropdown()"></proposal_actions_dropdown><a lmo-href-for="proposal" class="proposal-expanded__proposal-name-link"><h3 class="proposal-expanded__proposal-name">{{proposal.name}}</h3><h3 ng-if="translation"><translation translation="translation" field="name"></translation></h3></a><div class="proposal-expanded__started-by"><span translate="proposal_expanded.started_by" translate-values="{\'name\': proposal.authorName()}"></span> <span aria-hidden="true">·</span> <a lmo-href-for="proposal"> <proposal_closing_time proposal="proposal"></proposal_closing_time> </a><translate_button model="proposal" showdot="true" class="lmo-link-color"></translate_button></div><div marked="proposal.description" class="proposal-expanded-description lmo-markdown-wrapper"></div><translation ng-if="translation &amp;&amp; proposal.description" translation="translation" field="description"></translation><proposal_outcome_panel ng-if="showOutcomePanel()" proposal="proposal"></proposal_outcome_panel><translation ng-if="translation &amp;&amp; proposal.outcome" translation="translation" field="outcome"></translation><position_buttons_panel proposal="proposal"></position_buttons_panel><proposal_positions_panel proposal="proposal"></proposal_positions_panel><a ng-click="collapse()" translate="proposal_expanded.collapse" ng-show="canCollapse" class="proposal-expanded__collapse pull-right"></a><div class="clearfix"></div></div>'),e.put("generated/components/thread_page/proposal_outcome_form/proposal_outcome_form.html",'<form ng-submit="submit()" ng-disabled="proposal.processing" class="proposal-form"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 ng-if="!hasOutcome" translate="proposal_outcome_form.set_outcome" class="lmo-h1"></h1><h1 ng-if="hasOutcome" translate="proposal_outcome_form.update_outcome" class="lmo-h1"></h1></div><div class="modal-body"><form_errors record="proposal"></form_errors><fieldset><div class="lmo-form-group"><label for="proposal-outcome-field" translate="proposal_outcome_form.outcome_label"></label><div class="lmo-relative"><textarea placeholder="{{ \'proposal_outcome_form.outcome_placeholder\' | translate }}" ng-model="proposal.outcome" ng-required="true" class="lmo-textarea proposal-form__outcome-field form-control" id="proposal-outcome-field"></textarea><emoji_picker target-selector="outcomeSelector" class="lmo-action-dock"></emoji_picker></div></div></fieldset></div><div class="modal-footer"><button type="submit" translate="proposal_outcome_form.publish_outcome" class="lmo-btn--submit proposal-outcome-form__publish-outcome-btn"></button><button ng-click="$close()" type="button" translate="common.action.cancel" class="lmo-btn--cancel proposal-outcome-form__cancel-btn"></button></div></form>'),e.put("generated/components/thread_page/proposal_positions_panel/proposal_positions_panel.html",'<div class="proposal-positions-panel"><h4 translate="proposal_positions_panel.heading" class="lmo-card-subheading"></h4><div class="proposal-pie-chart media"><div class="proposal-pie-chart__pie media-left"><pie_chart votes="proposal.voteCounts" class="proposal-positions-panel__pie-chart"></pie_chart></div><div class="proposal-pie-chart__legend media-body"><table role="presentation" id="proposal-current-positions"><caption translate="proposal_expanded.current_votes" class="sr-only"></caption><tbody><tr ng-repeat="position in proposal.positions"><td><div class="proposal-pie-chart__label proposal-pie-chart__label--{{position}}">{{ proposal.voteCounts[position] }} {{ "proposal_position_"+position | translate}}</div></td></tr></tbody></table></div></div><div translate="proposal_pie_chart.participation_statement" translate-value-percentage="{{proposal.percentVoted()}}" translate-value-number="{{proposal.numberVoted()}}" translate-value-total="{{proposal.groupSizeWhenVoting()}}" class="proposal-pie-chart__participation-statement"></div><ul class="proposal-positions-panel__list"><li ng_repeat="vote in curatedVotes() track by vote.id" class="proposal-positions-panel__vote media"><div class="media-left"><div class="thread-item__vote-icon thread-item__vote-icon--{{vote.position}}"></div></div><div class="media-body"><span class="proposal-positions-panel__name-and-position"><strong> <a lmo-href-for="vote.author()">{{vote.authorName()}}</a> </strong><span translate="new_vote_item.{{vote.positionVerb()}}"></span></span><span ng-if="!vote.hasStatement()">.</span><span ng-if="vote.hasStatement()" class="proposal-positions-panel__separator">:</span><span marked="vote.statement" ng-if="vote.hasStatement()" class="proposal-positions-panel__vote-statement"></span><button ng-if="showChangeVoteOption(vote)" ng-click="changeVote()" class="proposal-positions-panel__change-your-vote"> <i class="fa fa-exchange"></i> <span translate="proposal_positions_panel.change_your_vote"></span></button></div></li></ul><undecided_panel proposal="proposal" ng-if="proposal.hasUndecidedMembers()"></undecided_panel></div>'),e.put("generated/components/thread_page/proposal_outcome_panel/proposal_outcome_panel.html",'<div class="proposal-outcome-panel"><h4 translate="proposal_outcome_panel.heading" class="lmo-card-subheading"></h4><div ng-if="canCreateOutcome()" class="lmo-wrap"><p translate="proposal_outcome_panel.set_outcome_hint" class="lmo-hint-text"></p><a ng-click="openProposalOutcomeForm()" translate="proposal_outcome_panel.set_outcome_btn" class="lmo-btn--featured lmo-btn--icon proposal-outcome-panel__set-outcome-btn"></a></div><p ng-show="proposal.hasOutcome()" marked="proposal.outcome" class="proposal-outcome-panel__outcome lmo-markdown-wrapper"></p><button ng-if="canUpdateOutcome()" ng-click="openProposalOutcomeForm()" translate="proposal_outcome_panel.edit_outcome_link" class="lmo-btn-link lmo-card-minor-action proposal-outcome-panel__edit-outcome-link"></button></div>'),e.put("generated/components/thread_page/proposals_card/proposals_card.html",'<section aria-labelledby="proposals-card-heading" class="proposals-card"><h2 translate="discussion.proposals" class="lmo-card-heading" id="proposals-card-heading"></h2><div ng_repeat="proposal in proposalsCard.discussion.proposals() track by proposal.id" class="proposals-card__proposals"><div ng-if="proposalsCard.isExpanded(proposal)" class="active-proposal"><proposal_expanded proposal="proposal"></proposal_expanded></div><h3 translate="discussion.previous_proposals" ng-show="proposalsCard.discussion.proposals().length &gt; 1"></h3><div ng-if="!proposalsCard.isExpanded(proposal)" ng_click="proposalsCard.selectProposal(proposal)" class="inactive-proposal"><proposal_collapsed proposal="proposal"></proposal_collapsed></div></div></section>'),e.put("generated/components/thread_page/revision_history_modal/revision_history_modal.html",'<div class="revision-history-modal"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="{{header}}" class="lmo-h1"></h1></div><loading ng-if="loadExecuting"></loading><div ng-if="!loadExecuting" class="modal-body revision-history-modal__body"><h2 ng-if="commentRevision()" class="lmo-h2">{{model.authorName()}}</h2><div ng-repeat="version in model.versions() | orderBy: \'-createdAt\' track by version.id" id="version-{{version.id}}" class="lmo-wrap"><div class="revision-history-modal__revision"><h2 ng-if="discussionRevision()" translate="{{threadTitle(version)}}" class="lmo-h2"></h2><div class="revision-history-modal__thread-details"><span ng-if="commentRevision()" translate="revision_history_modal.posted"></span><span ng-if="discussionRevision()" translate="{{threadDetails(version)}}" translate-value-name="{{version.authorOrEditorName()}}"></span> <span>{{versionCreatedAt(version.createdAt)}}</span>  <span ng-if="version.isCurrent(version)">(current)</span> </div><div marked="revisionBody(version)" class="revision-history-modal__revision-body lmo-markdown-wrapper"></div></div></div></div><div class="modal-footer"><button type="button" translate="common.action.close" ng-click="$close()" class="revision-history-modal__close"></button></div></div>'),e.put("generated/components/thread_page/undecided_panel/undecided_panel.html",'<div class="undecided-panel"><a ng-click="showUndecided()" ng-show="!undecidedPanelOpen" translate="undecided_panel.show_undecided" class="undecided-panel__show-undecided-link lmo-card-minor-action"></a><h3 ng-show="undecidedPanelOpen" translate="undecided_panel.aria_label" tabindex="0" class="undecided-panel__heading sr-only"></h3><ul ng-if="undecidedPanelOpen" class="undecided-panel__list"><li ng-repeat="user in proposal.undecidedMembers() track by user.id" class="media"><div class="media-left"><i class="fa fa-question-circle undecided-panel__icon"></i></div><div class="media-body"><span class="undecided-panel__user">{{user.name}}</span></div></li></ul><a ng-click="hideUndecided()" ng-show="undecidedPanelOpen" translate="undecided_panel.hide_undecided" class="undecided-panel__hide-undecided-link lmo-card-minor-action"></a></div>'),e.put("generated/components/thread_page/vote_form/vote_form.html",'<div class="vote-form"><form ng-submit="submit()" ng-disabled="vote.processing" name="voteForm"><div ng-show="isDisabled" class="lmo-disabled-form"></div><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="vote_form.heading" class="lmo-h1 modal-title"></h1></div><div class="modal-body"><form_errors record="vote"></form_errors><select ng-model="vote.position" class="form-control vote-form__select-position"><option value="yes" translate="vote_form.i_agree"></option><option value="abstain" translate="vote_form.i_abstain"></option><option value="no" translate="vote_form.i_disagree"></option><option value="block" translate="vote_form.i_block"></option></select><fieldset><div class="lmo-form-group"><div class="lmo-relative"><textarea ng-model="vote.statement" placeholder="{{ \'vote_form.statement_placeholder\' | translate }}" class="lmo-textarea vote-form__statement-field form-control lmo-primary-form-input"></textarea><emoji_picker target-selector="statementSelector" class="lmo-action-dock"></emoji_picker></div><div ng-class="{ overlimit: vote.overCharLimit() }" class="chars-left pull-right">{{ vote.charsLeft() }}</div><div ng-if="vote.overCharLimit()" translate="vote_form.statement_over_limit" class="vote-form__statement-over-limit lmo-validation-error"></div></div></fieldset></div><div class="modal-footer"> <button type="submit" ng-disabled="vote.overCharLimit()" translate="vote_form.submit_position" class="lmo-btn--submit vote-form__submit-btn"></button> <button type="button" ng-click="$close()" translate="common.action.cancel" class="lmo-btn--cancel"></button></div></form></div>'),e.put("generated/components/group_page/trial_card/choose_plan_modal/choose_plan_modal.html",'<div class="choose-plan-modal"><div class="modal-header"><modal_header_cancel_button></modal_header_cancel_button><h1 translate="choose_plan_modal.heading" class="lmo-h1 modal-title"></h1></div><div class="modal-body"><div class="choose-plan-modal__pricing-table"><div class="choose-plan-modal__col"><div class="choose-plan-modal__option choose-plan-modal__option--gift"><h2 translate="choose_plan_modal.gift" class="lmo-h2"></h2><ul class="choose-plan-modal__features-list"><li><i class="fa fa-check"></i>{{"choose_plan_modal.unlimited_members" | translate}}</li><li><i class="fa fa-check"></i>{{"choose_plan_modal.unlimited_decisions" | translate}}</li></ul><p translate="choose_plan_modal.gift_body"></p><p translate="choose_plan_modal.gift_donation_ask" class="choose-plan-modal__gift-price"></p><button ng-disabled="group.subscriptionKind == \'gift\'" ng-click="chooseGiftPlan()" translate="choose_plan_modal.select" class="choose-plan-modal__select-button choose-plan-modal__select-button--gift"></button></div></div><div class="choose-plan-modal__col"><div class="choose-plan-modal__option choose-plan-modal__option--standard"><h2 translate="choose_plan_modal.standard" class="lmo-h2"></h2><ul class="choose-plan-modal__features-list"><li><i class="fa fa-check"></i>{{"choose_plan_modal.unlimited_members" | translate}}</li><li><i class="fa fa-check"></i>{{"choose_plan_modal.unlimited_decisions" | translate}}</li><li><i class="fa fa-check"></i>{{"choose_plan_modal.email_support" | translate}}</li><li><i class="fa fa-check"></i><span translate="choose_plan_modal.slack_integration_html"></span></li></ul><p translate="choose_plan_modal.standard_price_html" class="choose-plan-modal__price"></p><button ng-click="choosePaidPlan(\'standard\')" translate="choose_plan_modal.select" class="choose-plan-modal__select-button"></button></div></div><div class="choose-plan-modal__col"><div class="choose-plan-modal__option"><h2 translate="choose_plan_modal.plus" class="lmo-h2"></h2><p translate="choose_plan_modal.plus_body"></p><ul class="choose-plan-modal__features-list"><li><i class="fa fa-check"></i>{{"choose_plan_modal.multiple_groups" | translate}}</li><li><i class="fa fa-check"></i>{{"choose_plan_modal.premium_support" | translate}}</li><li><i class="fa fa-check"></i><span translate="choose_plan_modal.custom_subdomain_html"></span></li></ul><p translate="choose_plan_modal.plus_price_html" class="choose-plan-modal__price"></p><div class="choose-plan-modal__select"><button ng-click="choosePaidPlan(\'plus\')" translate="choose_plan_modal.select" class="choose-plan-modal__select-button"></button></div></div></div></div></div><div class="modal-footer lmo-clearfix"><div class="row"><div class="col-md-7 choose-plan-modal__support"><img src="/img/mhjb.png" alt="Matthew from Loomio"><p> <span translate="choose_plan_modal.support_before"></span>  <button translate="choose_plan_modal.support_link" ng-click="openIntercom()" class="choose-plan-modal__contact-link"></button>  <span translate="choose_plan_modal.support_after"></span> </p></div><div class="col-md-3 col-md-offset-2 choose-plan-modal__cancel"><button type="button" ng-click="$close()" class="lmo-btn--featured"> <i class="fa fa-lg fa-calendar-check-o"></i> <span translate="choose_plan_modal.remind_me_later"></span></button></div></div></div></div>'),
e.put("generated/components/group_page/trial_card/confirm_gift_plan_modal/confirm_gift_plan_modal.html",'<div class="confirm-gift-plan-modal"><div class="modal-header"><h1 translate="confirm_gift_plan_modal.heading" class="lmo-h1 modal-title"></h1></div><div class="modal-body"><div class="confirm-gift-plan-modal__body"><p translate="confirm_gift_plan_modal.body"></p><label for="confirm-gift-plan" class="confirm-gift-plan-modal__label"><input type="checkbox" ng-model="checked" class="confirm-gift-plan-modal__checkbox" id="confirm-gift-plan"><div translate="confirm_gift_plan_modal.confirm_selection" class="confirm-gift-plan-modal__label-text"></div></label></div></div><div class="modal-footer lmo-clearfix"><button type="button" ng-disabled="!checked" ng-click="submit()" translate="confirm_gift_plan_modal.got_it" class="confirm-gift-plan-modal__submit-button"></button><button type="button" ng-click="choosePlan()" translate="confirm_gift_plan_modal.go_back" class="confirm-gift-plan-modal__go-back-button"></button></div></div>'),e.put("generated/components/group_page/trial_card/donation_modal/donation_modal.html",'<div class="donation-modal"><div class="modal-header"><h1 translate="donation_modal.heading" class="lmo-h1 modal-title"></h1></div><div class="modal-body donation-modal__body"><img src="/img/team-photo.png" alt="Loomio team photo" class="donation-modal__loomio-team"><p translate="donation_modal.body" class="donation-modal__message"></p></div><div class="modal-footer lmo-clearfix"><button type="button" ng-click="makeDonation()" class="donation-modal__confirm-button"> <i class="fa fa-lg fa-gift"></i> <span translate="donation_modal.contribute"></span></button><button type="button" ng-click="$close()" translate="donation_modal.got_to_group" class="donation-modal__go-to-group-button"></button></div></div>'),e.put("generated/components/thread_page/current_proposal_card/proposal_actions_dropdown/proposal_actions_dropdown.html",'<div uib-dropdown="true" class="proposal-actions-dropdown pull-right"><button uib-dropdown-toggle="true" class="lmo-btn--nude proposal-actions-dropdown__btn"><i class="fa fa-chevron-down"></i></button><div role="menu" class="uib-dropdown-menu lmo-dropdown-menu"><ul class="lmo-dropdown-menu-items"><li ng-if="canEditProposal()" class="lmo-dropdown-menu-item"><a ng_click="editProposal()" class="lmo-dropdown-menu-item-label proposal-actions-dropdown__edit-link"><span translate="proposal_expanded.edit_proposal"></span></a></li><li ng-if="!canEditProposal() &amp;&amp; canCloseOrExtendProposal()" class="lmo-dropdown-menu-item"><a href="#" ng_click="extendProposal()" class="lmo-dropdown-menu-item-label proposal-actions-dropdown__extend-link"><span translate="proposal_expanded.extend_proposal"></span></a></li><li ng-if="canCloseOrExtendProposal()" class="lmo-dropdown-menu-item"><a href="#" ng_click="closeProposal()" class="lmo-dropdown-menu-item-label proposal-actions-dropdown__close-link"><span translate="proposal_expanded.close_proposal"></span></a></li></ul></div></div>')}]);